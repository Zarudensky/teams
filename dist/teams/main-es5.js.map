{"version":3,"sources":["webpack:///src/app/main/teams/teams.component.ts","webpack:///src/app/main/teams/teams.component.html","webpack:///src/app/languages/languages.component.ts","webpack:///src/app/languages/languages.component.html","webpack:///src/app/services/players.service.ts","webpack:///src/app/players/players.component.ts","webpack:///src/app/players/players.component.html","webpack:///src/environments/environment.ts","webpack:///src/app/spinner/spinner.component.ts","webpack:///src/app/spinner/spinner.component.html","webpack:///src/app/players/form/form.component.ts","webpack:///src/app/players/form/form.component.html","webpack:///src/app/popup/popup.component.ts","webpack:///src/app/popup/popup.component.html","webpack:///src/app/auth/auth.component.html","webpack:///src/app/auth/auth.component.ts","webpack:///src/app/main/teams/team/team.component.ts","webpack:///src/app/main/teams/team/team.component.html","webpack:///src/app/services/teams.service.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.component.ts","webpack:///src/app/avatar/avatar.component.ts","webpack:///src/app/avatar/avatar.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/main/teams/card/card.component.html","webpack:///src/app/main/teams/card/card.component.ts","webpack:///src/app/admin.guard.ts","webpack:///src/app/main/select/select.component.ts","webpack:///src/app/main/select/select.component.html","webpack:///src/app/services/auth.service.ts","webpack:///src/app/not-found/not-found.component.ts","webpack:///src/app/not-found/not-found.component.html","webpack:///src/app/app-routing.module.ts","webpack:///src/app/main/main.component.html","webpack:///src/app/main/main.component.ts","webpack:///src/main.ts","webpack:///$_lazy_route_resource lazy namespace object"],"names":["SearchState","TeamsComponent","playersService","teamsService","authService","activatedRoute","router","location","translateService","selectedPlayers","editState","manualEditState","searchState","Search","visibleOldTeams","changeSearchStateToReady","subscribe","Ready","genereteTeams","countNewTeams","deletePlayerTeams","player","setOnePlayerTeam","setPlayerTeam","teamIndex","getParamUrl","clearOldTeams","filteredPlayersPosition","addPlayersToTeamsByLevel","defensePlayers","universalPlayers","attackingPlayers","correctedTeamsByNumberOf","correctedTeamsByLevel","visibleTeams","queryParams","param","getSelectedPlayersService","uid","numberOfPlayers","length","getPlayersTeamService","firstTeam","secondTeam","thirdTeam","fourthTeam","sortPlayersByPosition","teams","setTeamService","numberOfTeams","filter","position","players","forEach","countLevelTeams","firstTeamLevel","secondTeamLevel","push","thirdTeamLevel","fourthTeamLevel","countLevelTeam","lengthArr","lengthMin","lengthMax","Math","min","max","getRelocatePlayerMin","splice","indexOf","relocatedPlayerMin","levelTeamsArr","levelTeamMax","levelTeamMin","indexTeamMax","indexTeamMin","getRelocatePlayerMax","relocatedPlayerMax","team","reduce","res","level","sum","dividedInto","deleteSelectedPlayersService","deleteAllSelectedPlayersService","deleteAllTeamsService","setParamUrl","deleteTeamService","getOldTeams","sort","a","b","sortPosition","countOldTeams","countTeams","updateSelectedPlayersService","setTeams","userId","admin","userData","url","createUrlTree","queryParamsHandling","toString","go","currentUrl","indexPlayer","findIndex","item","id","createNewPlayer","newPlayer","setPlayerAllListService","generateId","avatar","name","countNumberNewPlayer","instant","surname","power","status","attack","defense","accuracy","cc","sortPopularity","uuidValue","UUID","numberNewPlayer","scrollToTopService","openSelectForTeamService","event","previousContainer","container","data","previousIndex","currentIndex","LanguagesComponent","languageCtrl","languages","valueChanges","value","use","language","defaultLocale","selectedLanguage","navigate","changeLocale","PlayersService","firestore","allPlayers","deleteSelectedPlayers","allPlayersData","collection","ref","orderBy","selectedPlayersData","playersRef","getAllPlayersService","doc","set","merge","playersDocAll","get","toPromise","then","querySnapshot","selectedDoc","getUserSelectedCollection","playerDoc","setSelectedPlayerService","next","results","PlayersComponent","dialog","showOrHideForm","displayedColumns","dataSource","showForm","openDialog","dialogRef","open","title","content","yes","no","afterClosed","result","deleteOnePlayerService","sortByLevelService","sortByPositionService","sortByPopularityService","environment","production","locales","firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","SpinnerComponent","FormComponent","storage","boolChange","selectedFile","powers","statuses","positions","points","playerGroup","bool","_bool","emit","setValuesForm","selectedValue","valideteForm","filledFields","patchValue","dowloadAvatarFile","savePlayer","resetForm","hideModal","countLevel","replaceCc","uploadNewAvatar","saveDataPlayerService","deletePreviewFile","reset","target","files","uploadPreviewFile","fileName","filePath","fileUrl","getDownloadURL","put","dowloadPreviewFile","child","deleteOldAvatar","onFormSubmit","onFileSelected","cancelForm","PopupComponent","close","onNoClick","AuthComponent","loginWithGoogleService","loginWithFacebookService","logOutService","TeamComponent","addNewPlayer","selectListPlayer","indexTeam","TeamsService","openSelectForTeam","scrollToTop","setPlayerAllList","nameTeam","playersDoc","sortPlayersByPositionService","countTeamsService","getUserCollectionService","AppComponent","activeLinkIndex","topPosToStartShowing","navLinks","label","link","index","events","find","tab","scrollPosition","window","pageYOffset","document","documentElement","scrollTop","body","isShowBtnTop","scroll","top","left","behavior","navigateMainPage","AvatarComponent","avatarUrl","HttpLoaderFactory","http","AppModule","withConfig","debug","initializeApp","forRoot","loader","provide","useFactory","deps","useDefaultLang","CardComponent","deletePlayerTeamsService","AdminGuard","auth","route","state","user","pipe","roles","isAdmin","console","error","SelectComponent","playersCtrl","playersFilterCtrl","filteredPlayers","uniquePlayers","_onDestroy","setValue","selectForTeamState","classList","add","multiSelect","slice","setInitialSelection","loadInitialPlayerList","filterOptions","setInitialValue","complete","setOnePlayerTeamService","_onBlur","compareWith","sortPlayersByPopularity","search","trim","toLowerCase","openedOrClosedSelect","generateTeemsService","remove","onSelectedPlayers","openedChangeSelect","onCloseOptions","AuthService","fireAuth","authState","JSON","parse","localStorage","getItem","userPhoto","setItem","isAdminServise","authLogin","GoogleAuthProvider","FacebookAuthProvider","provider","signInWithPopup","getUrlUserPhoto","providerData","providerId","credential","updeteUserData","stringify","log","photoURL","accessToken","email","displayName","editor","signOut","removeItem","NotFoundComponent","back","backClicked","routes","path","component","canActivate","redirectTo","AppRoutingModule","relativeLinkResolution","MainComponent","bootstrapModule","err","webpackEmptyAsyncContext","req","Promise","resolve","e","Error","code","keys","module","exports"],"mappings":"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","file":"main-es5.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { PlayersService } from '../../services/players.service';\nimport { TeamsService } from '../../services/teams.service';\nimport { PlayerInfo } from '../../entities';\nimport { AuthService } from '../../services/auth.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Location } from '@angular/common';\nimport { UUID } from 'angular2-uuid';\nimport { TranslateService } from '@ngx-translate/core';\nimport { CdkDragDrop, moveItemInArray, transferArrayItem } from '@angular/cdk/drag-drop';\n\nenum SearchState {\n  Ready = 'READY',\n  Search = 'SEARCH'\n}\n\n@Component({\n  selector: 'app-teams',\n  templateUrl: './teams.component.html',\n  styleUrls: ['./teams.component.scss']\n})\nexport class TeamsComponent implements OnInit {\n  public selectedPlayers: PlayerInfo[] = [];\n  public numberOfPlayers: number;\n  public numberOfTeams: number;\n\n  public defensePlayers: PlayerInfo[];\n  public universalPlayers: PlayerInfo[];\n  public attackingPlayers: PlayerInfo[];\n\n  public firstTeam: PlayerInfo[];\n  public secondTeam: PlayerInfo[];\n  public thirdTeam: PlayerInfo[];\n  public fourthTeam: PlayerInfo[];\n\n  public firstTeamLevel: number;\n  public secondTeamLevel: number;\n  public thirdTeamLevel: number;\n  public fourthTeamLevel: number;\n\n  public teams: any;\n  public relocatedPlayerMax: PlayerInfo;\n  public relocatedPlayerMin: PlayerInfo;\n  public newPlayer: PlayerInfo;\n  public numberNewPlayer: number;\n  public uuidValue:string;\n\n  public currentUrl: string;\n  public editState: boolean;\n  public manualEditState: boolean;\n  public searchState: string;\n\n  constructor(\n    private playersService: PlayersService,\n    public teamsService: TeamsService,\n    public authService: AuthService,\n    private activatedRoute: ActivatedRoute,\n    private router: Router,\n    private location: Location,\n    private translateService: TranslateService\n    ) {}\n\n  ngOnInit(): void {\n    this.editState = false;\n    this.manualEditState = false;\n    this.searchState = SearchState.Search;\n\n    this.visibleOldTeams();\n\n    this.teamsService.changeSearchStateToReady.subscribe(() => {\n      this.searchState = SearchState.Ready;\n    });\n\n    this.teamsService.genereteTeams.subscribe(() => {\n      this.countNewTeams();\n      this.genereteTeams();\n      this.editState = true;\n      this.manualEditState = false;\n    });\n\n    this.teamsService.deletePlayerTeams.subscribe((player) => {\n      this.deletePlayerTeams(player);\n    });\n\n    this.teamsService.setOnePlayerTeam.subscribe((player) => {\n      this.setPlayerTeam(player);\n      this.manualEditState = true;\n      this.teamsService.teamIndex = null;\n    });\n\n    this.getParamUrl();\n  }\n\n  public genereteTeams(): void {\n    this.clearOldTeams();\n    this.filteredPlayersPosition();\n    \n    this.addPlayersToTeamsByLevel(this.defensePlayers);\n    this.addPlayersToTeamsByLevel(this.universalPlayers);\n    this.addPlayersToTeamsByLevel(this.attackingPlayers);\n\n    this.correctedTeamsByNumberOf();\n    this.correctedTeamsByNumberOf();\n\n    this.correctedTeamsByLevel();\n    this.correctedTeamsByLevel();\n\n    this.visibleTeams();\n    this.editState = true;\n  }\n\n  public visibleOldTeams(): void {\n    this.activatedRoute.queryParams.subscribe(param => {\n      this.playersService.selectedPlayers = [];\n      this.playersService.getSelectedPlayersService(param.uid);\n      this.selectedPlayers = this.playersService.selectedPlayers;\n      this.numberOfPlayers = this.selectedPlayers.length;\n\n      this.clearOldTeams();\n\n      this.teamsService.getPlayersTeamService('firstTeam', param.uid);\n      this.teamsService.getPlayersTeamService('secondTeam', param.uid);\n      this.teamsService.getPlayersTeamService('thirdTeam', param.uid);\n      this.teamsService.getPlayersTeamService('fourthTeam', param.uid);\n\n      this.firstTeam = this.teamsService.firstTeam;\n      this.secondTeam = this.teamsService.secondTeam;\n      this.thirdTeam = this.teamsService.thirdTeam;\n      this.fourthTeam = this.teamsService.fourthTeam;\n\n      this.visibleTeams();\n    });\n  }\n\n  public visibleTeams(): void {\n    this.sortPlayersByPosition(this.firstTeam);\n    this.sortPlayersByPosition(this.secondTeam);\n    this.sortPlayersByPosition(this.thirdTeam);\n    this.sortPlayersByPosition(this.fourthTeam);\n    this.teams = [\n      this.firstTeam,\n      this.secondTeam,\n      this.thirdTeam,\n      this.fourthTeam\n    ];\n  }\n\n  public setTeams(): void {\n    this.teamsService.firstTeam = this.firstTeam;\n    this.teamsService.secondTeam = this.secondTeam;\n    this.teamsService.thirdTeam = this.thirdTeam;\n    this.teamsService.fourthTeam = this.fourthTeam;\n    this.teamsService.setTeamService(this.firstTeam, 'firstTeam');\n    this.teamsService.setTeamService(this.secondTeam, 'secondTeam');\n    this.teamsService.setTeamService(this.thirdTeam, 'thirdTeam');\n    this.teamsService.setTeamService(this.fourthTeam, 'fourthTeam');\n  }\n\n  public countNewTeams(): void {\n    if(this.playersService.selectedPlayers.length >= 1) {\n      this.selectedPlayers = this.playersService.selectedPlayers;\n      this.numberOfPlayers = this.playersService.selectedPlayers.length;\n    }\n    switch (true) {\n      case this.numberOfPlayers >= 6 && this.numberOfPlayers <= 11:\n        this.numberOfTeams = 2;\n        break;\n      case this.numberOfPlayers >= 12 && this.numberOfPlayers <= 15:\n        this.numberOfTeams = 3;\n        break;\n      case this.numberOfPlayers >= 16:\n        this.numberOfTeams = 4;\n        break;\n      default:\n        this.numberOfTeams = 0;\n    }\n  }\n\n  public filteredPlayersPosition(): void {\n    this.defensePlayers = this.selectedPlayers.filter(player => {\n      return player.position === 'defense'\n    });\n    this.universalPlayers = this.selectedPlayers.filter(player => {\n      return player.position === 'universal'\n    });\n    this.attackingPlayers = this.selectedPlayers.filter(player => {\n      return player.position === 'attack'\n    });\n  }\n\n  public addPlayersToTeamsByLevel(players): void {\n    players.forEach(player => {\n      this.countLevelTeams();\n      if(this.numberOfTeams === 2) {\n        switch (true) {\n          case this.firstTeamLevel <= this.secondTeamLevel:\n            this.firstTeam.push(player);\n            break;\n          case this.secondTeamLevel <= this.firstTeamLevel:\n            this.secondTeam.push(player);\n            break;\n          default:\n            this.firstTeam.push(player);\n        }\n      }\n      if(this.numberOfTeams === 3) {\n        switch (true) {\n          case this.firstTeamLevel <= this.secondTeamLevel && \n               this.firstTeamLevel <= this.thirdTeamLevel:\n            this.firstTeam.push(player);\n            break;\n          case this.secondTeamLevel <= this.firstTeamLevel && \n               this.secondTeamLevel <= this.thirdTeamLevel:\n            this.secondTeam.push(player);\n            break;\n          case this.thirdTeamLevel <= this.firstTeamLevel && \n               this.thirdTeamLevel <= this.secondTeamLevel:\n            this.thirdTeam.push(player);\n            break;\n          default:\n            this.firstTeam.push(player);\n        }\n      }\n      if(this.numberOfTeams === 4) {\n        switch (true) {\n          case this.firstTeamLevel <= this.secondTeamLevel &&\n               this.firstTeamLevel <= this.thirdTeamLevel && \n               this.firstTeamLevel <= this.fourthTeamLevel:\n            this.firstTeam.push(player);\n            break;\n          case this.secondTeamLevel <= this.firstTeamLevel && \n               this.secondTeamLevel <= this.thirdTeamLevel && \n               this.secondTeamLevel <= this.fourthTeamLevel:\n            this.secondTeam.push(player);\n            break;\n          case this.thirdTeamLevel <= this.firstTeamLevel && \n               this.thirdTeamLevel <= this.secondTeamLevel && \n               this.thirdTeamLevel <= this.fourthTeamLevel:\n            this.thirdTeam.push(player);\n            break;\n          case this.fourthTeamLevel <= this.firstTeamLevel && \n               this.fourthTeamLevel <= this.secondTeamLevel && \n               this.fourthTeamLevel <= this.thirdTeamLevel:\n            this.fourthTeam.push(player);\n            break;\n          default:\n            this.firstTeam.push(player);\n        }\n      }\n    });\n  }\n\n  public countLevelTeams(): void {\n    this.firstTeamLevel = this.countLevelTeam(this.firstTeam);\n    this.secondTeamLevel = this.countLevelTeam(this.secondTeam);\n    this.thirdTeamLevel = this.countLevelTeam(this.thirdTeam);\n    this.fourthTeamLevel = this.countLevelTeam(this.fourthTeam);\n  }\n\n  public correctedTeamsByNumberOf(): void {\n    let lengthArr = [];\n    let lengthMin:number;\n    let lengthMax:number;\n\n    if (this.firstTeam.length > 0) {\n      lengthArr.push(this.firstTeam.length);\n    }\n    if (this.secondTeam.length > 0) {\n      lengthArr.push(this.secondTeam.length);\n    }\n    if (this.thirdTeam.length > 0) {\n      lengthArr.push(this.thirdTeam.length);\n    }\n    if (this.fourthTeam.length > 0) {\n      lengthArr.push(this.fourthTeam.length);\n    }\n\n    lengthMin = Math.min(...lengthArr);\n    lengthMax = Math.max(...lengthArr);\n\n    if(lengthMax - lengthMin >= 2) {\n      switch (lengthMax) {\n        case this.firstTeam.length:\n          this.getRelocatePlayerMin(this.firstTeam);\n          this.firstTeam.splice(this.firstTeam.indexOf(this.relocatedPlayerMin),1);\n          break;\n        case this.secondTeam.length:\n          this.getRelocatePlayerMin(this.secondTeam);\n          this.secondTeam.splice(this.secondTeam.indexOf(this.relocatedPlayerMin),1);\n          break;\n        case this.thirdTeam.length:\n          this.getRelocatePlayerMin(this.thirdTeam);\n          this.thirdTeam.splice(this.thirdTeam.indexOf(this.relocatedPlayerMin),1);\n          break;\n        case this.thirdTeam.length:\n          this.getRelocatePlayerMin(this.thirdTeam);\n          this.fourthTeam.splice(this.fourthTeam.indexOf(this.relocatedPlayerMin),1);\n          break;\n      }\n\n      switch (lengthMin) {\n        case this.firstTeam.length:\n          this.firstTeam.push(this.relocatedPlayerMin);\n          break;\n        case this.secondTeam.length:\n          this.secondTeam.push(this.relocatedPlayerMin);\n          break;\n        case this.thirdTeam.length:\n          this.thirdTeam.push(this.relocatedPlayerMin);\n          break;\n        case this.fourthTeam.length:\n          this.fourthTeam.push(this.relocatedPlayerMin);\n          break;\n      }\n    }\n  }\n\n  public correctedTeamsByLevel(): void {\n    let levelTeamsArr = [];\n    let levelTeamMax:number;\n    let levelTeamMin:number;\n    let indexTeamMax:number;\n    let indexTeamMin:number;\n    \n    this.countLevelTeams();\n\n    if (this.firstTeamLevel > 0) {\n      levelTeamsArr.push(this.firstTeamLevel);\n    }\n    if (this.secondTeamLevel > 0) {\n      levelTeamsArr.push(this.secondTeamLevel);\n    }\n    if (this.thirdTeamLevel > 0) {\n      levelTeamsArr.push(this.thirdTeamLevel);\n    }\n    if (this.fourthTeamLevel > 0) {\n      levelTeamsArr.push(this.fourthTeamLevel);\n    }\n\n    levelTeamMax = Math.max(...levelTeamsArr);\n    levelTeamMin = Math.min(...levelTeamsArr);\n    \n    indexTeamMax = levelTeamsArr.indexOf(Math.max(...levelTeamsArr));\n    indexTeamMin = levelTeamsArr.indexOf(Math.min(...levelTeamsArr));\n\n    if(levelTeamMax - levelTeamMin >= 150 ) {\n      switch (indexTeamMax) {\n        case 0:\n          this.getRelocatePlayerMax(this.firstTeam);\n          this.firstTeam.splice(this.firstTeam.indexOf(this.relocatedPlayerMax),1);\n          break;\n        case 1:\n          this.getRelocatePlayerMax(this.secondTeam);\n          this.secondTeam.splice(this.secondTeam.indexOf(this.relocatedPlayerMax),1);\n          break;\n        case 2:\n          this.getRelocatePlayerMax(this.thirdTeam);\n          this.thirdTeam.splice(this.thirdTeam.indexOf(this.relocatedPlayerMax),1);\n          break;\n        case 3:\n          this.getRelocatePlayerMax(this.fourthTeam);\n          this.fourthTeam.splice(this.fourthTeam.indexOf(this.relocatedPlayerMax),1);\n          break;\n      }\n\n      switch (indexTeamMin) {\n        case 0:\n          this.getRelocatePlayerMin(this.firstTeam);\n          this.firstTeam.splice(this.firstTeam.indexOf(this.relocatedPlayerMin),1);\n          this.firstTeam.push(this.relocatedPlayerMax);\n          break;\n        case 1:\n          this.getRelocatePlayerMin(this.secondTeam);\n          this.secondTeam.splice(this.secondTeam.indexOf(this.relocatedPlayerMin),1);\n          this.secondTeam.push(this.relocatedPlayerMax);\n          break;\n        case 2:\n          this.getRelocatePlayerMin(this.thirdTeam);\n          this.thirdTeam.splice(this.thirdTeam.indexOf(this.relocatedPlayerMin),1);\n          this.thirdTeam.push(this.relocatedPlayerMax);\n          break;\n        case 3:\n          this.getRelocatePlayerMin(this.fourthTeam);\n          this.fourthTeam.splice(this.fourthTeam.indexOf(this.relocatedPlayerMin),1);\n          this.fourthTeam.push(this.relocatedPlayerMax);\n          break;\n      }\n\n      switch (indexTeamMax) {\n        case 0:\n          this.firstTeam.push(this.relocatedPlayerMin);\n          break;\n        case 1:\n          this.secondTeam.push(this.relocatedPlayerMin);\n          break;\n        case 2:\n          this.thirdTeam.push(this.relocatedPlayerMin);\n          break;\n        case 3:\n          this.fourthTeam.push(this.relocatedPlayerMin);\n          break;\n      }\n    }\n  }\n\n  public getRelocatePlayerMax(team): void {\n    this.relocatedPlayerMax = team.reduce((res, player) => res.level > player.level ? res : player);\n  }\n\n  public getRelocatePlayerMin(team): void {\n    this.relocatedPlayerMin = team.reduce((res, player) => player.level < res.level ? player : res);\n  }\n\n  public countLevelTeam(team): number {\n    return team.reduce((sum, player) => sum + player.level,0);\n  }\n\n  public onDivideTeams(dividedInto): void {\n    this.numberOfTeams = dividedInto;\n    this.genereteTeams();\n  }\n\n  public clearOldTeams(): void {\n    this.firstTeam = [];\n    this.secondTeam = [];\n    this.thirdTeam = [];\n    this.fourthTeam = [];\n    this.teamsService.firstTeam = [];\n    this.teamsService.secondTeam = [];\n    this.teamsService.thirdTeam = [];\n    this.teamsService.fourthTeam = [];\n    this.firstTeamLevel = 0;\n    this.secondTeamLevel = 0;\n    this.thirdTeamLevel = 0;\n    this.fourthTeamLevel = 0;\n  }\n\n  public deleteAllSelectedPlayers(): void {\n    this.numberOfTeams = 0;\n    this.selectedPlayers = [];\n    this.clearOldTeams();\n    this.playersService.deleteSelectedPlayersService();\n    this.playersService.deleteAllSelectedPlayersService();\n    this.deleteAllTeamsService();\n    this.setParamUrl();\n  }\n\n  public deleteAllTeamsService(): void {\n    this.teamsService.deleteTeamService('firstTeam');\n    this.teamsService.deleteTeamService('secondTeam');\n    this.teamsService.deleteTeamService('thirdTeam');\n    this.teamsService.deleteTeamService('fourthTeam');\n  }\n\n  public onEditTeams(): void {\n    this.editState = true;\n    this.getOldTeams();\n  }\n\n  public sortPlayersByPosition(team):void {\n    team.sort((a, b) => {\n      if (a.sortPosition < b.sortPosition) return -1;\n      else if (a.sortPosition > b.sortPosition) return 1;\n      else return 0;\n    });\n  }\n\n  public getOldTeams(): void {\n    this.firstTeam = this.teamsService.firstTeam;\n    this.secondTeam = this.teamsService.secondTeam;\n    this.thirdTeam = this.teamsService.thirdTeam;\n    this.fourthTeam = this.teamsService.fourthTeam;\n    this.countOldTeams();\n  }\n\n  public countOldTeams(): void {\n    switch (true) {\n      case this.fourthTeam.length >= 1:\n        this.numberOfTeams = 4;\n        break;\n      case this.thirdTeam.length >= 1:\n        this.numberOfTeams = 3;\n        break;\n      case this.secondTeam.length >= 1:\n        this.numberOfTeams = 2;\n        break;\n      default:\n        this.numberOfTeams = 0;\n    }\n  }\n\n  public onSaveTeams(): void {\n    this.teamsService.countTeams = 0;\n    this.searchState = SearchState.Search;\n    this.playersService.updateSelectedPlayersService();\n    this.editState = false;\n    this.manualEditState = false;\n    this.setParamUrl();\n    this.getParamUrl();\n    this.setTeams();\n  }\n  \n  public setParamUrl(): void {\n    let userId: string;\n    if(this.authService.admin) {\n      userId = null;\n    } else {\n      userId = this.authService.userData.uid;\n    }\n    const url = this.router.createUrlTree([], { \n      queryParams: {uid: userId},\n      queryParamsHandling: 'merge'\n    }).toString()\n    this.location.go(url);\n  }\n\n  public getParamUrl(): void {\n    this.currentUrl = this.router.url;\n  }\n\n  public deletePlayerTeams(player): void {\n    this.teams.forEach(team => {\n      const indexPlayer = team.findIndex(item => item.id === player.id);\n      if(indexPlayer !== -1) {\n        team.splice(indexPlayer,1);\n        this.countNewTeams();\n        this.manualEditState = true;\n      }\n    });\n  }\n\n  public onGenereteTeams():void {\n    this.countNewTeams();\n    this.genereteTeams();\n    this.manualEditState = false;\n    this.teamsService.teamIndex = null;\n  }\n\n  public addNewPlayerTeam():void {\n    this.createNewPlayer();\n    this.playersService.selectedPlayers.push(this.newPlayer);\n    this.teamsService.setPlayerAllListService(this.newPlayer);\n    this.setPlayerTeam(this.newPlayer);\n    this.manualEditState = true;\n  }\n\n  public createNewPlayer():void {\n    this.newPlayer = {\n      id: this.generateId(),\n      avatar: '',\n      name: this.countNumberNewPlayer() + \".\" + this.translateService.instant('teams.new.player.name'),\n      surname: this.translateService.instant('teams.new.player.surname'),\n      power: 'nо',\n      status: 'newcomer',\n      position: 'universal',\n      attack: 50,\n      defense: 50,\n      accuracy: 50,\n      cc: 0,\n      level: 150,\n      sortPosition: 999,\n      sortPopularity: 999\n    }\n  }\n\n  public generateId():string {\n    return this.uuidValue=UUID.UUID();\n  }\n\n  public countNumberNewPlayer():number {\n    if(this.numberNewPlayer) {\n      this.numberNewPlayer++;\n    } else {\n      this.numberNewPlayer = 1;\n    }\n    return this.numberNewPlayer;\n  }\n\n  public setPlayerTeam(player):void {\n    switch (this.teamsService.teamIndex) {\n      case 0:\n        this.firstTeam.push(player);\n        break;\n      case 1:\n        this.secondTeam.push(player);\n        break;\n      case 2:\n        this.thirdTeam.push(player);\n        break;\n      case 3:\n        this.fourthTeam.push(player);\n        break;\n    }\n  }\n\n  public selectListPlayerTeam():void {\n    this.teamsService.scrollToTopService();\n    this.teamsService.openSelectForTeamService();\n  }\n\n  public drop(event: CdkDragDrop<string[]>):void {\n    if (event.previousContainer === event.container) {\n      moveItemInArray(event.container.data, event.previousIndex, event.currentIndex);\n    } else {\n      transferArrayItem(event.previousContainer.data,\n                        event.container.data,\n                        event.previousIndex,\n                        event.currentIndex);\n    }\n    this.manualEditState = true;\n  }\n}\n","\n<div class=\"teams\">\n  <app-spinner *ngIf=\"searchState === 'SEARCH'\"></app-spinner>\n\n  <div class=\"info\"\n    *ngIf=\"searchState === 'READY' && !authService.userData && selectedPlayers.length <= 7\">\n    <p>{{ 'teams.info.title' | translate }}</p>\n    <p>{{ 'teams.info.description' | translate }}</p>\n  </div>\n\n  <div class=\"teams__actions\"\n    *ngIf=\"authService.userData\">\n    <button\n      mat-button\n      type=\"button\"\n      color=\"primary\" \n      class=\"btn btn__state\"\n      (click)=\"onEditTeams()\"\n      *ngIf=\"selectedPlayers?.length >= 1 && !editState\">\n      {{ 'teams.edit' | translate }}\n    </button>\n    <button\n      mat-raised-button\n      type=\"button\"\n      color=\"primary\"\n      class=\"btn btn__state\"\n      (click)=\"onSaveTeams()\"\n      *ngIf=\"selectedPlayers?.length >= 1 && editState\">\n      {{ 'teams.save' | translate }}\n    </button>\n    <button\n      mat-mini-fab\n      type=\"button\"\n      color=\"primary\" \n      class=\"btn btn__divide\"\n      (click)=\"onDivideTeams(2)\"\n      title=\"{{ 'teams.divide.two' | translate }}\"\n      *ngIf=\"editState && selectedPlayers?.length >= 6 && numberOfTeams === 3 ||\n             editState && selectedPlayers?.length >= 6 && numberOfTeams === 4\">\n      II\n    </button>\n    <button\n      mat-mini-fab\n      type=\"button\"\n      color=\"primary\" \n      class=\"btn btn__divide\"\n      (click)=\"onDivideTeams(3)\"\n      title=\"{{ 'teams.divide.three' | translate }}\"\n      *ngIf=\"editState && selectedPlayers?.length >= 12 && numberOfTeams === 2 || \n             editState && selectedPlayers?.length >= 12 && numberOfTeams === 4\">\n      III\n    </button>\n    <button\n      mat-mini-fab\n      type=\"button\"\n      color=\"primary\" \n      class=\"btn btn__divide\"\n      (click)=\"onDivideTeams(4)\"\n      title=\"{{ 'teams.divide.four' | translate }}\"\n      *ngIf=\"editState && selectedPlayers.length >= 12 && numberOfTeams === 2 || \n             editState && selectedPlayers.length >= 12 && numberOfTeams === 3\">\n      IV\n    </button>\n\n    <button\n      mat-button\n      type=\"button\"\n      color=\"primary\" \n      class=\"btn btn__clear\"\n      (click)=\"deleteAllSelectedPlayers()\"\n      *ngIf=\"selectedPlayers?.length >= 1\">\n      {{ 'teams.clear' | translate }}\n    </button>\n  </div>\n\n  <div class=\"message__block\"\n    *ngIf=\"searchState === 'READY' && authService.userData\">\n    <p class=\"message message__first\" \n      *ngIf=\"selectedPlayers?.length === 0\">\n      {{ 'teams.message.first' | translate }}\n    </p>\n    <p class=\"message message__second\" \n      *ngIf=\"selectedPlayers?.length >= 1 && selectedPlayers?.length <= 5\">\n      {{ 'teams.message.second' | translate }}\n    </p>\n    <p class=\"message message__third\"\n      *ngIf=\"selectedPlayers?.length >= 6\">\n      {{ 'teams.message.third' | translate }}\n    </p>\n  </div>\n\n  <div class=\"teams__block\" cdkDropListGroup \n    [cdkDropListGroupDisabled]=\"!editState\"\n    *ngIf=\"selectedPlayers.length >= 6\">\n    <ng-container  *ngFor=\"let team of teams; index as i\">\n      <app-team class=\"team\"\n        cdkDropList\n        [cdkDropListData]=\"team\"\n        (cdkDropListDropped)=\"drop($event)\"\n        *ngIf=\"team.length >= 1\"\n        [team]=\"team\"\n        [editState]=\"editState\"\n        [indexTeam]=\"i\"\n        (addNewPlayer)=\"addNewPlayerTeam()\"\n        (selectListPlayer)=\"selectListPlayerTeam()\">\n      </app-team>\n    </ng-container>\n  </div>\n\n  <p class=\"info__descr\" *ngIf=\"selectedPlayers?.length >= 6 && editState\">\n    {{ 'teams.save.descr' | translate }}\n  </p>\n\n  <button\n    mat-raised-button\n    type=\"button\"\n    color=\"primary\" \n    class=\"btn btn__generete\"\n    (click)=\"onGenereteTeams()\"\n    *ngIf=\"manualEditState && selectedPlayers.length >= 6\">\n    {{ 'teams.generete' | translate }}\n  </button>\n\n  <div class=\"share__block\"\n    *ngIf=\"selectedPlayers.length >= 6 && !editState\">\n    <p>{{ 'teams.share' | translate }}</p>\n    <share-buttons [theme]=\"'circles-dark'\"\n      [include]=\"['viber','telegram','facebook','twitter','linkedin','messenger','whatsapp','sms','email','copy','print']\"\n      [show]=\"2\"\n      [size]=\"1\"\n      [url]=\"currentUrl\"\n      [autoSetMeta]=\"false\"\n    ></share-buttons>\n  </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { environment } from '../../environments/environment';\nimport { FormControl } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\n\n@Component({\n  selector: 'app-languages',\n  templateUrl: './languages.component.html',\n  styleUrls: ['./languages.component.scss']\n})\nexport class LanguagesComponent implements OnInit {\n  public languageCtrl: FormControl = new FormControl();\n  public selectedLanguage: string;\n  public languages: {id: string, title: string}[] = [];\n  \n\n  constructor(\n    private translateService: TranslateService,\n    private activatedRoute: ActivatedRoute,\n    private router: Router) { }\n\n  ngOnInit(): void {\n    this.getParamUrl();\n\n    this.languageCtrl.valueChanges.subscribe((value) => {\n      this.translateService.use(value);\n      this.setParamUrl(value);\n    });\n  }\n\n  private getParamUrl(): void {\n    this.activatedRoute.queryParams.subscribe(param => {\n      this.translateService.use(param.language || environment.defaultLocale);\n      this.selectedLanguage = param.language || environment.defaultLocale;\n      if(param.language) {\n        this.setParamUrl(param.language);\n      }\n    });\n  }\n\n  private setParamUrl(language): void {\n    this.activatedRoute.queryParams.subscribe(param => {\n      this.router.navigate([], { \n        queryParams: {\n          language: language\n        },\n        queryParamsHandling: 'merge'\n       });\n    });\n  }\n\n  public changeLocale(language): void {\n    this.translateService.use(language);\n    this.setParamUrl(language);\n  }\n\n}\n","<div class=\"languages__menu\">\n  <button mat-button [matMenuTriggerFor]=\"menu\" class=\"languages__button\">\n    <span class=\"button__img-wrapp\">\n      <img class=\"img button__img\"\n      src=\"assets/images/{{selectedLanguage}}.svg\">\n    </span> \n  </button>\n  <mat-menu #menu=\"matMenu\">\n    <button \n      mat-menu-item\n      (click)=\"changeLocale('ua')\">\n      <span class=\"button__img-wrapp\">\n        <img class=\"img button__img\"\n        src=\"assets/images/ua.svg\">\n      </span> \n      <span class=\"button__lable\">{{ 'languages.ua' | translate}}</span>\n    </button>\n    <button \n      mat-menu-item\n      (click)=\"changeLocale('ru')\">\n      <span class=\"button__img-wrapp\">\n        <img class=\"img button__img\"\n        src=\"assets/images/ru.svg\">\n      </span> \n      <span class=\"button__lable\">{{ 'languages.ru' | translate}}</span>\n    </button>\n    <button \n      mat-menu-item\n      (click)=\"changeLocale('en')\">\n      <span class=\"button__img-wrapp\">\n        <img class=\"img button__img\"\n        src=\"assets/images/en.svg\">\n      </span> \n      <span class=\"button__lable\">{{ 'languages.en' | translate}}</span>\n    </button>\n  </mat-menu>\n</div>\n\n<select class=\"language__select\"\n  [formControl]=\"languageCtrl\">\n  <option *ngFor=\"let language of languages\" [value]=\"language.id\">\n    {{ 'languages.' + language.id | translate}}\n  </option>\n</select>\n","import { Injectable } from '@angular/core';\nimport { Observable, Subject } from 'rxjs';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { PlayerInfo } from '../entities';\nimport { AuthService } from './auth.service';\n\n@Injectable({\n  providedIn: 'root'\n})\n\nexport class PlayersService {\n  public allPlayersData: Observable<any[]>;\n  public selectedPlayersData: Observable<any[]>;\n  public allPlayers: PlayerInfo[] = [];\n  public selectedPlayers: any;\n  public player: PlayerInfo[];\n  public playersRef: any;\n\n  public deleteSelectedPlayers = new Subject();\n\n  constructor(\n    private firestore: AngularFirestore,\n    private authService: AuthService) {\n    this.allPlayersData = this.firestore.collection('players', \n    ref => ref.orderBy('sortPopularity', 'asc')).valueChanges();\n    this.selectedPlayersData = firestore.collection('selected').valueChanges();\n    this.playersRef = firestore.collection('players');\n    this.getAllPlayersService();\n  }\n\n  public saveDataPlayerService(player, collection) {\n    return this.firestore.collection(collection)\n      .doc(player.id)\n      .set({\n        id: player.id,\n        avatar: player.avatar,\n        name: player.name,\n        surname: player.surname,\n        power: player.power,\n        status: player.status,\n        position: player.position,\n        attack: player.attack,\n        defense: player.defense,\n        accuracy: player.accuracy,\n        cc: player.cc, \n        level: player.level,\n        sortPosition: player.sortPosition,\n        sortPopularity: player.sortPopularity\n      }, { merge: true });\n  }\n\n  public deleteOnePlayerService(player, collection) {\n    return this.firestore.collection(collection)\n      .doc(player.id)\n      .delete();\n  }\n\n  private getAllPlayersService() {\n    const playersDocAll = this.firestore.collection<PlayerInfo>('players');\n    playersDocAll.get().toPromise().then((querySnapshot) => {\n      querySnapshot.forEach((doc) => {\n        this.allPlayers.push(<PlayerInfo>doc.data()); \n      });\n    });\n  }\n\n  private getUserSelectedCollection():string {\n    let userId: string;\n    if(this.authService.admin) {\n      return 'selected';\n    } else {\n      userId = this.authService.userData.uid;\n      return `users/${userId}/selected`;\n    }\n  }\n  \n  public getSelectedPlayersService(userId) {\n    let collection: string;\n    if (userId) {\n      collection = `users/${userId}/selected`;\n    } else {\n      collection = `selected`;\n    }\n    const selectedDoc = this.firestore.collection(collection);\n    selectedDoc.get().toPromise().then((querySnapshot) => {\n      querySnapshot.forEach((doc) => {\n        this.selectedPlayers.push(<PlayerInfo>doc.data());\n      });\n    });\n  }\n\n  public setSelectedPlayerService(player) {\n    const collection = this.getUserSelectedCollection();\n    const playerDoc = this.firestore.collection(collection).doc(player.id);\n    playerDoc.get().toPromise().then(() => {\n      playerDoc.set(player);\n    });\n  }\n\n  public deleteSelectedPlayersService() {\n    const collection = this.getUserSelectedCollection();\n    const playerDoc = this.firestore.collection<PlayerInfo>(collection);\n    playerDoc.get().toPromise().then((querySnapshot) => {\n      querySnapshot.forEach((doc) => {\n        playerDoc.doc(doc.data().id).delete();\n      });\n    });\n  }\n\n  public updateSelectedPlayersService() {\n    this.deleteSelectedPlayersService();\n    this.selectedPlayers.forEach((player) => {\n      this.setSelectedPlayerService(player);\n    });\n\n  }\n\n  public deleteAllSelectedPlayersService() {\n    this.deleteSelectedPlayers.next();\n    this.selectedPlayers = [];\n  }\n\n  public sortByLevelService(results):void {\n    this.allPlayersData = this.firestore.collection('players', \n    ref => ref.orderBy('level', results)).valueChanges();\n  }\n\n  public sortByPositionService(results):void {\n    this.allPlayersData = this.firestore.collection('players', \n    ref => ref.orderBy('sortPosition', results)).valueChanges();\n  }\n\n  public sortByPopularityService(results):void {\n    this.allPlayersData = this.firestore.collection('players', \n    ref => ref.orderBy('sortPopularity', results)).valueChanges();\n  }\n}\n","import { Component, OnInit, AfterViewInit, ViewChild } from '@angular/core';\nimport { PlayersService } from '../services/players.service';\nimport { MatDialog } from '@angular/material/dialog';\nimport { PopupComponent } from '../popup/popup.component'\nimport { Observable } from 'rxjs';\nimport { PlayerInfo } from '../entities';\nimport { TranslateService } from '@ngx-translate/core';\nimport { TeamsService } from '../services/teams.service';\nimport { MatSort } from '@angular/material/sort';\nimport { MatTableDataSource } from '@angular/material/table';\n\n@Component({\n  selector: 'app-players',\n  templateUrl: './players.component.html',\n  styleUrls: ['./players.component.scss']\n})\n\nexport class PlayersComponent implements OnInit, AfterViewInit {\n  public allPlayersData = this.playersService.allPlayersData;\n  public showOrHideForm = false;\n  public displayedColumns: string[] = ['actions', 'avatar', 'name', 'surname', 'power', 'status', 'position', 'attack', 'defense', 'accuracy', 'cc', 'level', 'sortPosition', 'sortPopularity'];\n  public dataSource = new MatTableDataSource([]);\n  public player: PlayerInfo;\n\n  public title: string;\n  public content: string;\n  public btnYes: string;\n  public btnNo: string;\n  public status: boolean;\n\n  public avatarUrl: Observable<string | null>;\n\n  @ViewChild(MatSort) sort: MatSort;\n\n  constructor(\n    private translateService: TranslateService,\n    private playersService: PlayersService,\n    public teamsService: TeamsService,\n    public dialog: MatDialog) {}\n\n  ngOnInit():void {\n    // this.allPlayersData.subscribe((players) => {\n    //   this.allPlayersData = players;\n    // }) \n  }\n\n  ngAfterViewInit():void {\n    // this.dataSource.sort = this.sort;\n  }\n\n  public openForm() {\n    this.showForm();\n  }\n\n  public showForm() {\n    this.showOrHideForm = true;\n  }\n\n  public chengePlayerClic(player) {\n    this.teamsService.scrollToTopService();\n    this.showForm();\n    this.playersService.player = player;\n  }\n\n  public deletePlayerClic(player) {\n    this.openDialog(player);\n  }\n\n  public openDialog(player) {\n    const dialogRef = this.dialog.open(PopupComponent, {\n      data: {\n        title: this.translateService.instant('players.dialog.title')+\" \"+player.name+\"?\", \n        content: this.translateService.instant('players.dialog.content'),\n        yes: this.translateService.instant('players.dialog.yes'),\n        no: this.translateService.instant('players.dialog.no'),\n        status: true\n      }\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        this.playersService.deleteOnePlayerService(player, 'players');\n      }\n    });\n  }\n\n  public onSortByLevel():void {\n    this.playersService.sortByLevelService('desc');\n    this.allPlayersData = this.playersService.allPlayersData;\n  }\n\n  public onSortByPosition():void {\n    this.playersService.sortByPositionService('asc');\n    this.allPlayersData = this.playersService.allPlayersData;\n  }\n\n  public onSortByPopularity():void {\n    this.playersService.sortByPopularityService('asc');\n    this.allPlayersData = this.playersService.allPlayersData;\n  }\n}","<app-form\n  [(bool)]=\"showOrHideForm\"\n  *ngIf=\"showOrHideForm\"\n  class=\"form form__add\">\n</app-form>\n\n<div class=\"table__wrapper\">\n  <table mat-table [dataSource]=\"allPlayersData\" class=\"mat-elevation-z8\">\n    <ng-container matColumnDef=\"actions\">\n      <th mat-header-cell *matHeaderCellDef>\n        <button \n          *ngIf=\"!showOrHideForm\"\n          mat-icon-button \n          class=\"btn btn__add\" \n          (click)=\"openForm()\" \n          title=\"{{'players.add' | translate}}\">\n          <mat-icon color=\"primary\">add_circle_outline</mat-icon>\n        </button>\n      </th>\n      <td mat-cell *matCellDef=\"let player\">\n        <button\n          mat-icon-button \n          class=\"btn btn__delete\"\n          (click)=\"deletePlayerClic(player)\"\n          [disabled]=\"showOrHideForm\"\n          title=\"{{'players.delete' | translate}}\">\n          <svg width=\"32\" height=\"32\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path d=\"m8.21302,17.40972c0.69694,-2.54191 3.02383,-4.40972 5.78698,-4.40972l1,0l0,0l0,2l3,0l0,-2l10,0l0,3l-8.13197,1.74257l0,0c0.08647,0.40549 0.13197,0.82614 0.13197,1.25743c0,3.31371 -2.68629,6 -6,6c-2.76315,0 -5.09004,-1.86781 -5.78698,-4.40972c-0.33647,0.25704 -0.75691,0.40972 -1.21302,0.40972c-1.10457,0 -2,-0.89543 -2,-2c0,-1.10457 0.89543,-2 2,-2c0.45611,0 0.87655,0.15268 1.21302,0.40972l0,0l0,0zm-1.21302,0.59028c-0.55228,0 -1,0.44386 -1,1c0,0.55228 0.44386,1 1,1c0.55228,0 1,-0.44386 1,-1c0,-0.55228 -0.44386,-1 -1,-1l0,0zm9,-11l0,4l1,0l0,-4l-1,0l0,0zm5.11968,1.02099l-2.11968,3.3922l0.84805,0.52992l2.11968,-3.3922l-0.84805,-0.52992l0,0zm-9.27163,0l2.11968,3.3922l-0.84805,0.52992l-2.11968,-3.3922l0.84805,-0.52992l0,0z\"/>\n          </svg>\n        </button>\n        <button \n          mat-icon-button\n          class=\"btn btn__chenge\"\n          (click)=\"chengePlayerClic(player)\"\n          [disabled]=\"showOrHideForm\"\n          title=\"{{'players.chenge' | translate}}\">\n          <mat-icon color=\"primary\">more_vert</mat-icon>\n        </button>\n      </td>\n    </ng-container>\n\n    <ng-container matColumnDef=\"avatar\">\n      <th mat-header-cell *matHeaderCellDef></th>\n      <td mat-cell *matCellDef=\"let player\">\n        <app-avatar class=\"avatar__min\" [player]=\"player\"></app-avatar>\n      </td>\n    </ng-container>\n\n    <ng-container matColumnDef=\"name\">\n      <th mat-header-cell *matHeaderCellDef>{{'form.name.lable' | translate}}</th>\n      <td mat-cell *matCellDef=\"let player\"> {{player.name}} </td>\n    </ng-container>\n\n    <ng-container matColumnDef=\"surname\">\n      <th mat-header-cell *matHeaderCellDef>{{'form.surname.lable' | translate}}</th>\n      <td mat-cell *matCellDef=\"let player\"> {{player.surname}} </td>\n    </ng-container>\n\n    <ng-container matColumnDef=\"power\">\n      <th mat-header-cell *matHeaderCellDef>{{'form.power.lable' | translate}}</th>\n      <td mat-cell *matCellDef=\"let player\">{{'form.power.' + player.power | translate}}</td>\n    </ng-container>\n\n    <ng-container matColumnDef=\"status\">\n      <th mat-header-cell *matHeaderCellDef>{{'form.status.lable' | translate}}</th>\n      <td mat-cell *matCellDef=\"let player\">{{'form.status.' + player.status | translate}}</td>\n    </ng-container>\n\n    <ng-container matColumnDef=\"position\">\n      <th mat-header-cell *matHeaderCellDef>{{'form.position.lable' | translate}}</th>\n      <td mat-cell *matCellDef=\"let player\">{{'form.position.' + player.position | translate}}</td>\n    </ng-container>\n\n    <ng-container matColumnDef=\"attack\">\n      <th mat-header-cell *matHeaderCellDef>{{'form.attack' | translate}}</th>\n      <td mat-cell *matCellDef=\"let player\"> {{player.attack}} </td>\n    </ng-container>\n\n    <ng-container matColumnDef=\"defense\">\n      <th mat-header-cell *matHeaderCellDef>{{'form.defense' | translate}}</th>\n      <td mat-cell *matCellDef=\"let player\"> {{player.defense}} </td>\n    </ng-container>\n\n    <ng-container matColumnDef=\"accuracy\">\n      <th mat-header-cell *matHeaderCellDef>{{'form.accuracy' | translate}}</th>\n      <td mat-cell *matCellDef=\"let player\"> {{player.accuracy}} </td>\n    </ng-container>\n\n    <ng-container matColumnDef=\"cc\">\n      <th mat-header-cell *matHeaderCellDef>{{'form.cc.lable' | translate}}</th>\n      <td mat-cell *matCellDef=\"let player\"> {{player.cc}} </td>\n    </ng-container>\n\n    <ng-container matColumnDef=\"level\">\n      <th mat-header-cell *matHeaderCellDef>\n        <span>{{'players.level' | translate}}</span>\n        <button mat-icon-button (click)=\"onSortByLevel()\">\n          <mat-icon>filter_list</mat-icon>\n        </button>\n      </th>\n      <td mat-cell *matCellDef=\"let player\"> {{player.level}} </td>\n    </ng-container>\n\n    <ng-container matColumnDef=\"sortPosition\">\n      <th mat-header-cell *matHeaderCellDef>\n        <span>{{'form.sort.position' | translate}}</span>\n        <button mat-icon-button (click)=\"onSortByPosition()\">\n          <mat-icon>filter_list</mat-icon>\n        </button>\n      </th>\n      <td mat-cell *matCellDef=\"let player\"> {{player.sortPosition}} </td>\n    </ng-container>\n\n    <ng-container matColumnDef=\"sortPopularity\">\n      <th mat-header-cell *matHeaderCellDef>\n        {{'form.sort.popularity' | translate}}\n        <button mat-icon-button (click)=\"onSortByPopularity()\">\n          <mat-icon>filter_list</mat-icon>\n        </button>\n      </th>\n      <td mat-cell *matCellDef=\"let player\"> {{player.sortPopularity}} </td>\n    </ng-container>\n\n    <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n    <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\n  </table>\n</div>\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  locales: ['en', 'ru', 'ua'],\n  defaultLocale: 'en',\n  firebase: {\n    apiKey: 'AIzaSyCA6D-uC_WJlk3tRkZDPIzuPGos-dyKBUY',\n    authDomain: 'teams-d98f6.firebaseapp.com',\n    databaseURL: 'https://teams-d98f6-default-rtdb.firebaseio.com',\n    projectId: 'teams-d98f6',\n    storageBucket: 'teams-d98f6.appspot.com',\n    messagingSenderId: '277595646270',\n    appId: '1:277595646270:web:3104ce915cb7a1cecce46f'\n  }\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-spinner',\n  templateUrl: './spinner.component.html',\n  styleUrls: ['./spinner.component.scss']\n})\nexport class SpinnerComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div class=\"spinner__wrapp\">\n  <div class=\"spinner\">\n    <svg viewBox=\"0 0 866 866\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path class=\"bb-0\" d=\"M142.327 112.062C214.1 47.017 307.79 5.714 411 .55V410.5H280.346c-8.144-184.333-121.358-284.64-138.02-298.438z\" fill=\"currentColor\"/>\n      <path class=\"bb-1\" d=\"M111.104 143.388C46.716 214.908 5.822 307.995.574 410.5h235.893c-7.19-145.817-109.942-251.965-125.363-267.112z\" fill=\"currentColor\"/>\n      <path class=\"bb-2\" d=\"M110.902 722.388C46.422 650.666 5.552 557.292.524 454.5h235.788c-8.297 149.66-114.564 257.273-125.41 267.888z\" fill=\"currentColor\"/>\n      <path class=\"bb-3\" d=\"M141.633 753.308C213.497 818.716 307.458 860.268 411 865.45V454.5H280.354c-8.297 189.4-127.334 289.638-138.72 298.808z\" fill=\"currentColor\"/>\n      <path class=\"bb-4\" d=\"M723.222 754.346C651.507 819.156 557.992 860.296 455 865.45V454h129.39c7.743 190.638 127.705 291.398 138.832 300.346z\" fill=\"currentColor\"/>\n      <path class=\"bb-5\" d=\"M754.06 723.538C819.244 651.55 860.555 557.54 865.5 454H628.416c7.704 151.184 115.666 259.807 125.644 269.538z\" fill=\"currentColor\"/>\n      <path class=\"bb-6\" d=\"M754.82 143.302C819.145 214.716 860.042 307.652 865.4 410H628.418c8.043-149.258 115.93-256.613 126.4-266.698z\" fill=\"currentColor\"/>\n      <path class=\"bb-7\" d=\"M723.687 112.075C651.91 47.022 558.217 5.715 455 .55V410h129.53c8.944-188.743 128.016-288.947 139.157-297.925z\" fill=\"currentColor\"/>\n    </svg>\n  </div>\n</div>","import { Component, Input, OnInit, Output, EventEmitter } from '@angular/core';\nimport { FormGroup, FormControl } from '@angular/forms';\nimport { PlayersService } from '../../services/players.service';\nimport { UUID } from 'angular2-uuid';\nimport { AngularFireStorage } from '@angular/fire/storage';\nimport { Observable } from 'rxjs';\nimport { TranslateService } from '@ngx-translate/core';\n\ninterface StringOption {\n  value: string;\n}\n\ninterface NumberOption {\n  value: number;\n}\n\n@Component({\n  selector: 'app-form',\n  templateUrl: './form.component.html',\n  styleUrls: ['./form.component.scss']\n})\n\nexport class FormComponent implements OnInit {\n  private _bool: boolean;\n  @Output() boolChange = new EventEmitter();\n  set bool(value) { this._bool = value; this.boolChange.emit(value); }\n  @Input() get bool() { return this.bool; }\n\n  public selectedFile: File = null;\n  public uuidValue:string;\n  public fileUrl: Observable<string | null>;\n\n  public filledFields: boolean;\n  public playerGroup: FormGroup;\n  \n  public powers: StringOption[] = [\n    { value: 'speed' },\n    { value: 'tank' },\n    { value: 'throw' },\n    { value: 'nо' }\n  ];\n\n  public statuses: StringOption[] = [\n    { value: 'young' },\n    { value: 'veteran' },\n    { value: 'newcomer' }\n  ];\n\n  public positions: StringOption[] = [\n    { value: 'attack' },\n    { value: 'defense' },\n    { value: 'universal' }\n  ];\n\n  public points: NumberOption[] = [\n    { value: 100 },\n    { value: 75 },\n    { value: 50 },\n    { value: 25 },\n    { value: 0 },\n  ];\n\n  public languages: {id: string, title: string}[] = [];\n\n  constructor(\n    private playersService: PlayersService,\n    private storage: AngularFireStorage,\n    private translateService: TranslateService,\n    ) {\n    this.playerGroup = new FormGroup({\n      id: new FormControl(''),\n      avatar: new FormControl(''),\n      name: new FormControl(''),\n      surname: new FormControl(''),\n      power: new FormControl(this.powers),\n      status: new FormControl(this.statuses),\n      position: new FormControl(this.positions),\n      attack: new FormControl(this.points),\n      defense: new FormControl(this.points),\n      accuracy: new FormControl(this.points),   \n      cc: new FormControl(),\n      level: new FormControl(),\n      sortPosition: new FormControl(),\n      sortPopularity: new FormControl(),\n    });\n  }\n\n  ngOnInit(): void {\n    if (this.playersService.player) {\n      this.setValuesForm(this.playersService.player);\n    }\n    this.playerGroup.valueChanges.subscribe(selectedValue => {\n      this.valideteForm(selectedValue);\n    });\n  }\n  \n  public valideteForm(selectedValue): void {\n    if(selectedValue.name && \n      selectedValue.surname && \n      typeof selectedValue.power === 'string' && \n      typeof selectedValue.status === 'string' && \n      typeof selectedValue.position === 'string' && \n      typeof selectedValue.attack === 'number' && \n      typeof selectedValue.defense === 'number' && \n      typeof selectedValue.accuracy === 'number') {\n      this.filledFields = true;\n    }\n  }\n\n  public setValuesForm(player): void {\n    this.playerGroup.patchValue({\n      id: player.id,\n      avatar: player.avatar,\n      name: player.name,\n      surname: player.surname,\n      power: player.power,\n      status: player.status,\n      position: player.position,\n      attack: player.attack,\n      defense: player.defense,\n      accuracy: player.accuracy,\n      cc: player.cc,\n      sortPosition: player.sortPosition,\n      sortPopularity: player.sortPopularity,\n    });\n    this.dowloadAvatarFile(player.id, player.avatar);\n  }\n\n  public onFormSubmit(): void {\n    this.savePlayer();\n    this.resetForm();\n    this.hideModal();\n  }\n\n  public savePlayer(): void {\n    this.generateId();\n    this.countLevel();\n    this.replaceCc();\n    this.uploadNewAvatar();\n    this.playersService.saveDataPlayerService(this.playerGroup.value, 'players');\n  }\n\n  public generateId(): void {\n    if (!this.playersService.player) {\n      const id = this.uuidValue=UUID.UUID();\n      this.playerGroup.value.id = id;\n    }\n  }\n\n  public countLevel(): void {\n    let level: number;\n    level = this.playerGroup.value.attack + \n      this.playerGroup.value.defense + \n      this.playerGroup.value.accuracy + \n      this.playerGroup.value.cc;\n\n    this.playerGroup.value.level = level;\n  }\n\n  public replaceCc(): void {\n    if(this.playerGroup.value.cc === '') {\n      this.playerGroup.value.cc = 0;\n    }\n  }\n\n  public cancelForm(): void {\n    this.deletePreviewFile();\n    this.resetForm();\n    this.hideModal();\n  }\n\n  public hideModal(): void {\n    this.bool = false;\n  }\n\n  public resetForm(): void {\n    this.playerGroup.reset();\n    this.playersService.player = null;\n  }\n\n  public onFileSelected(event) {\n    this.selectedFile = <File>event.target.files[0];\n    this.uploadPreviewFile();\n  }\n\n  public dowloadAvatarFile(id, fileName) {\n    if(fileName) {\n      const filePath = 'avatars/' + id + '/' + fileName;\n      const ref = this.storage.ref(filePath);\n      this.fileUrl = ref.getDownloadURL();\n    }\n  }\n\n  public uploadPreviewFile() {\n    const filePath = 'avatars/preview/' + this.selectedFile.name;\n    const ref = this.storage.ref(filePath);\n    ref.put(this.selectedFile).then(() => {\n      this.dowloadPreviewFile(ref);\n    });\n  }\n\n  public dowloadPreviewFile(ref) {\n    this.fileUrl = ref.getDownloadURL();\n    if (this.playersService.player) {\n      this.valideteForm(this.playersService.player);\n    }\n  }\n\n  public deletePreviewFile() {\n    if(this.selectedFile) {\n      this.storage.ref('avatars/preview/').child(this.selectedFile.name).delete();\n      this.selectedFile = null;\n    }\n  }\n\n  public uploadNewAvatar() {\n    if (this.selectedFile) {\n      this.deleteOldAvatar();\n      const filePath = 'avatars/'+ this.playerGroup.value.id +'/' + this.selectedFile.name;\n      const ref = this.storage.ref(filePath);\n      ref.put(this.selectedFile).then(() => {\n        this.dowloadPreviewFile(ref);\n      });\n      this.playerGroup.value.avatar = this.selectedFile.name;\n      this.deletePreviewFile();\n    }\n  }\n\n  public deleteOldAvatar() {\n    if(this.playerGroup.value.avatar) {\n      this.storage.ref('avatars/' + this.playerGroup.value.id).child(this.playerGroup.value.avatar).delete();\n    }\n  }\n}\n","<form class=\"form\" \n  [formGroup]=\"playerGroup\"\n  (ngSubmit)=\"onFormSubmit()\">\n  <div class=\"form__block form__block_ans\">\n    <div class=\"field field__avatar\">\n      <div class=\"avatar\">\n        <input\n          class=\"input__avatar\"\n          type=\"file\"\n          (change)=\"onFileSelected($event)\"\n          title=\"{{ 'form.avatar.upload' | translate}}\">\n        <button \n          mat-icon-button \n          class=\"btn btn__avatar\" \n          type=\"button\"\n          title=\"{{ 'form.avatar.edit' | translate}}\">\n          <mat-icon color=\"primary\">camera_alt</mat-icon>\n        </button>\n        <img class=\"img img__avatar\" [src]=\"fileUrl | async\" alt=\"\">\n      </div>\n    </div>\n    <div class=\"name__info_block\">\n      <mat-form-field class=\"field field__name\">\n        <mat-label>{{ 'form.name.lable' | translate}}</mat-label>\n        <input matInput placeholder=\"{{ 'form.name.placeholder' | translate}}\" formControlName=\"name\" autocomplete=\"off\">\n      </mat-form-field>\n      <mat-form-field class=\"field field__surname\">\n        <mat-label>{{ 'form.surname.lable' | translate}}</mat-label>\n        <input matInput placeholder=\"{{ 'form.surname.placeholder' | translate}}\" formControlName=\"surname\" autocomplete=\"off\">\n      </mat-form-field>\n    </div>\n  </div>\n  <div class=\"form__block form__block_ps\">\n    <mat-form-field appearance=\"fill\" class=\"field field__select\">\n      <mat-label>{{ 'form.power.lable' | translate}}</mat-label>\n      <mat-select formControlName=\"power\">\n        <mat-option *ngFor=\"let power of powers\" [value]=\"power.value\">\n          {{ 'form.power.' + power.value | translate}}\n        </mat-option>\n      </mat-select>\n    </mat-form-field>\n    <mat-form-field appearance=\"fill\" class=\"field field__select\">\n      <mat-label>{{ 'form.status.lable' | translate}}</mat-label>\n      <mat-select formControlName=\"status\">\n        <mat-option *ngFor=\"let status of statuses\" [value]=\"status.value\">\n          {{ 'form.status.' + status.value | translate}}\n        </mat-option>\n      </mat-select>\n    </mat-form-field>\n  </div>\n\n  <div class=\"form__block form__block_p\">\n    <mat-form-field appearance=\"fill\" class=\"field field__select\">\n      <mat-label>{{ 'form.position.lable' | translate}}</mat-label>\n      <mat-select formControlName=\"position\">\n        <mat-option *ngFor=\"let position of positions\" [value]=\"position.value\">\n          {{ 'form.position.' + position.value | translate}}\n        </mat-option>\n      </mat-select>\n    </mat-form-field>\n  </div>\n\n  <div class=\"form__block form__block_ad\">\n    <mat-form-field appearance=\"fill\" class=\"field field__select\">\n      <mat-label>{{ 'form.attack' | translate}}</mat-label>\n      <mat-select formControlName=\"attack\">\n        <mat-option *ngFor=\"let point of points\" [value]=\"point.value\">\n          {{ point.value }}\n        </mat-option>\n      </mat-select>\n    </mat-form-field>\n    <mat-form-field appearance=\"fill\" class=\"field field__select\">\n      <mat-label>{{ 'form.defense' | translate}}</mat-label>\n      <mat-select formControlName=\"defense\">\n        <mat-option *ngFor=\"let point of points\" [value]=\"point.value\">\n          {{ point.value }}\n        </mat-option>\n      </mat-select>\n    </mat-form-field>\n  </div>\n\n  <div class=\"form__block form__block_ac\">\n    <mat-form-field appearance=\"fill\" class=\"field field__select\">\n      <mat-label>{{ 'form.accuracy' | translate}}</mat-label>\n      <mat-select formControlName=\"accuracy\">\n        <mat-option *ngFor=\"let point of points\" [value]=\"point.value\">\n          {{ point.value }}\n        </mat-option>\n      </mat-select>\n    </mat-form-field>\n    <mat-form-field class=\"field field__cc\">\n      <mat-label>{{ 'form.cc.lable' | translate}}</mat-label>\n      <input matInput type=\"number\" placeholder=\"{{ 'form.cc.placeholder' | translate}}\" formControlName=\"cc\" autocomplete=\"off\">\n    </mat-form-field>\n  </div>\n\n  <div class=\"form__block form__block_sort\">\n    <mat-form-field class=\"field field__sort\">\n      <mat-label>{{ 'form.sort.position' | translate}}</mat-label>\n      <input matInput type=\"number\" placeholder=\"{{ 'form.cc.placeholder' | translate}}\" formControlName=\"sortPosition\" autocomplete=\"off\">\n    </mat-form-field>\n    <mat-form-field class=\"field field__sort\">\n      <mat-label>{{ 'form.sort.popularity' | translate}}</mat-label>\n      <input matInput type=\"number\" placeholder=\"{{ 'form.cc.placeholder' | translate}}\" formControlName=\"sortPopularity\" autocomplete=\"off\">\n    </mat-form-field>\n  </div>\n\n  <div class=\"form__block form__block_actions\">\n    <button mat-raised-button class=\"btn btn__save\" color=\"primary\" type=\"submit\" [disabled]=\"!filledFields\">\n      {{ 'form.actions.save' | translate}}\n    </button>\n    <button mat-raised-button class=\"btn btn__cancel\" color=\"primary\" type=\"button\" (click)=\"cancelForm()\">\n      {{ 'form.actions.cancel' | translate}}\n    </button>\n  </div>\n</form>","import { Component, Inject } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { PlayersService } from '../services/players.service';\n\nexport interface DialogData {\n  title: string;\n  content: string;\n  yes: string;\n  no: string;\n  status: boolean\n}\n\n@Component({\n  selector: 'app-popup',\n  templateUrl: './popup.component.html',\n  styleUrls: ['./popup.component.scss']\n})\nexport class PopupComponent {\n    constructor(\n      private playersService: PlayersService,\n      public dialogRef: MatDialogRef<PlayersService>,\n      @Inject(MAT_DIALOG_DATA) public data: DialogData) {}\n  \n    onNoClick(): void {\n      this.dialogRef.close();\n    }\n}\n","<h1 mat-dialog-title>{{data.title}}</h1>\n<div mat-dialog-content>\n  <p>{{data.content}}</p>\n</div>\n<div mat-dialog-actions>\n  <button \n    mat-raised-button  \n    color=\"primary\" \n    [mat-dialog-close]=\"data.status\">\n    {{data.yes}}\n  </button>\n  <button \n    mat-raised-button \n    color=\"primary\"\n    (click)=\"onNoClick()\">\n    {{data.no}}\n  </button>\n</div>\n","<div class=\"auth\">\n  <div class=\"login\"\n    *ngIf=\"!authService.userData\">\n    <button mat-button\n      class=\"btn btn__login\"\n      [matMenuTriggerFor]=\"menu\"\n      title=\"{{ 'auth.login' | translate }}\">\n      <div class=\"avatar\">\n        <img src=\"assets/images/default_avatar.svg\" alt=\"user\">\n      </div>\n    </button>\n    <mat-menu #menu=\"matMenu\">\n      <button mat-menu-item\n      (click)=\"loginWithGoogle()\">\n        <div class=\"btn__block\">\n          <span class=\"btn__text\">{{ 'auth.login.with' | translate }}</span>\n          <img  class=\"btn__icon\" src=\"assets/images/google.svg\" alt=\"Google\">\n        </div>\n      </button>\n      <button mat-menu-item\n      (click)=\"loginWithFacebook()\">\n        <div class=\"btn__block\">\n          <span class=\"btn__text\">{{ 'auth.login.with' | translate }}</span>\n          <img class=\"btn__icon\" src=\"assets/images/facebook.svg\" alt=\"Facebook\">\n        </div>\n      </button>\n    </mat-menu>\n  </div>\n  <div class=\"account\"\n    *ngIf=\"authService.userData\">\n    <button mat-button\n      class=\"btn btn__logout\"\n      [matMenuTriggerFor]=\"menu\">\n      <div class=\"avatar\">\n        <img src=\"{{authService.userPhoto}}\" alt=\"user\">\n      </div>\n    </button>\n    <mat-menu #menu=\"matMenu\">\n      <p class=\"user__name\">{{authService.userData?.displayName}}</p>\n      <button mat-menu-item (click)=\"logOut()\">\n        <div class=\"btn__block\">\n          <mat-icon color=\"primary\">logout</mat-icon>\n          <span class=\"btn__text\">{{ 'auth.logout' | translate }}</span>\n        </div>\n      </button>\n    </mat-menu>\n  </div>\n</div>\n\n","import { Component, OnInit } from '@angular/core';\nimport { AuthService } from '../services/auth.service';\n\n@Component({\n  selector: 'app-auth',\n  templateUrl: './auth.component.html',\n  styleUrls: ['./auth.component.scss']\n})\nexport class AuthComponent implements OnInit {\n\n  constructor(public authService: AuthService) {}\n\n  ngOnInit(): void {}\n\n  public loginWithGoogle():void {\n    this.authService.loginWithGoogleService();\n  }\n\n  public loginWithFacebook():void {\n    this.authService.loginWithFacebookService();\n  }\n  public logOut():void {\n    this.authService.logOutService();\n  }\n}\n","import { Component, Input, OnInit, Output, EventEmitter } from '@angular/core';\nimport { TeamsService } from '../../../services/teams.service';\n\n@Component({\n  selector: 'app-team',\n  templateUrl: './team.component.html',\n  styleUrls: ['./team.component.scss']\n})\nexport class TeamComponent implements OnInit {\n  @Input() team: any;\n  @Input() indexTeam: number;\n  @Input() editState: boolean;\n  @Output() addNewPlayer = new EventEmitter<number>();\n  @Output() selectListPlayer = new EventEmitter<number>();\n\n  constructor(private teamsService: TeamsService) {}\n\n  ngOnInit(): void {}\n\n  public countLevelTeam(): number {\n    return this.team.reduce((sum, player) => sum + player.level,0);\n  }\n\n  public onAddNewPlayer(): void {\n    this.teamsService.teamIndex = this.indexTeam;\n    this.addNewPlayer.emit();\n  }\n\n  public onSelectListPlayer(): void {\n    this.teamsService.teamIndex = this.indexTeam;\n    this.selectListPlayer.emit();\n  }\n}\n","<div class=\"team__container\">\n  <p class=\"title title__team\">\n    <span>{{ 'team.title' | translate}}</span> <span> {{ indexTeam+1 }}</span>\n  </p>\n  <p class=\"title title__level\">\n    {{ countLevelTeam() }}\n  </p>\n  <app-card *ngFor=\"let player of team\"\n    class=\"card {{player.position}}\"\n    [ngClass]=\"{'edit': editState}\"       \n    [player]=\"player\"\n    [indexTeam]=\"indexTeam\"\n    [editState]=\"editState\"\n    cdkDrag>\n    <div class=\"custom__placeholder\" *cdkDragPlaceholder></div>\n  </app-card>\n\n  <div class=\"btn__menu\" *ngIf=\"editState\">\n    <button mat-button\n      class=\"btn btn__add\"\n      [matMenuTriggerFor]=\"menu\"\n      title=\"{{ 'team.add.title' | translate}}\">\n      <mat-icon color=\"primary\">add_circle_outline</mat-icon>\n    </button>\n    <mat-menu #menu=\"matMenu\">\n      <button mat-menu-item (click)=\"onAddNewPlayer()\">\n        {{ 'team.add.new' | translate}}\n      </button>\n      <button mat-menu-item (click)=\"onSelectListPlayer()\">\n        {{ 'team.add.list' | translate}}\n      </button>\n    </mat-menu>\n  </div>\n</div>\n","import { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { PlayerInfo } from '../entities';\nimport { PlayersService } from './players.service';\nimport { AuthService } from './auth.service';\n\n@Injectable()\n\nexport class TeamsService {\n  public firstTeam: PlayerInfo[] = [];\n  public secondTeam: PlayerInfo[] = [];\n  public thirdTeam: PlayerInfo[] = [];\n  public fourthTeam: PlayerInfo[] = [];\n  public teamIndex: number;\n  public countTeams: number = 0;\n\n  public genereteTeams = new Subject();\n  public deletePlayerTeams = new Subject();\n  public openSelectForTeam = new Subject();\n  public scrollToTop = new Subject();\n  public setOnePlayerTeam = new Subject();\n  public setPlayerAllList = new Subject();\n  public changeSearchStateToReady = new Subject();\n\n  constructor(\n    private firestore: AngularFirestore,\n    private playersService: PlayersService,\n    private authService: AuthService) {}\n\n  public getPlayersTeamService(nameTeam, userId) {\n    let collection: string;\n    if (userId) {\n      collection = `users/${userId}/${nameTeam}`;\n    } else {\n      collection = nameTeam;\n    }\n    const playersDoc = this.firestore.collection<PlayerInfo>(collection);\n    playersDoc.get().toPromise().then((querySnapshot) => {\n      querySnapshot.forEach((doc) => {\n        switch (nameTeam) {\n          case 'firstTeam':\n            this.firstTeam.push(<PlayerInfo>doc.data());\n            break;\n          case 'secondTeam':\n            this.secondTeam.push(<PlayerInfo>doc.data());\n            break;\n          case 'thirdTeam':\n            this.thirdTeam.push(<PlayerInfo>doc.data());\n            break;\n          case 'fourthTeam':\n            this.fourthTeam.push(<PlayerInfo>doc.data());\n            break;\n        } \n      });\n      this.sortPlayersByPositionService(this.firstTeam);\n      this.sortPlayersByPositionService(this.secondTeam);\n      this.sortPlayersByPositionService(this.thirdTeam);\n      this.sortPlayersByPositionService(this.fourthTeam);\n      this.countTeamsService();\n    });\n  }\n\n  public countTeamsService():void {\n    this.countTeams++;\n    if(this.countTeams > 3) {\n      this.changeSearchStateToReady.next();\n    }\n  }\n\n  public sortPlayersByPositionService(nameTeam):void {\n    nameTeam.sort((a, b) => {\n      if (a.sortPosition < b.sortPosition) return -1;\n      else if (a.sortPosition > b.sortPosition) return 1;\n      else return 0;\n    });\n  }\n\n  private getUserCollectionService(nameTeam):string {\n    let userId: string;\n    if(this.authService.admin) {\n      return nameTeam;\n    } else {\n      userId = this.authService.userData.uid;\n      return `users/${userId}/${nameTeam}`;\n    }\n  }\n\n  public setTeamService(team, nameTeam) {\n    const collection = this.getUserCollectionService(nameTeam);\n    const playersDoc = this.firestore.collection<PlayerInfo>(collection);\n    playersDoc.get().toPromise().then((querySnapshot) => {\n      querySnapshot.forEach((doc) => {\n        playersDoc.doc(doc.data().id).delete();\n      });\n      team.forEach(player => {\n        this.playersService.saveDataPlayerService(player, collection);\n      });\n      this.countTeamsService();\n    });\n  }\n\n  public deleteTeamService(nameTeam) {\n    const collection = this.getUserCollectionService(nameTeam);\n    const playersDoc = this.firestore.collection<PlayerInfo>(collection);\n    playersDoc.get().toPromise().then((querySnapshot) => {\n      querySnapshot.forEach((doc) => {\n        playersDoc.doc(doc.data().id).delete();\n      });\n    });\n  }\n\n  public generateTeemsService() {\n    this.genereteTeams.next();\n  }\n\n  public deletePlayerTeamsService(player) {\n    this.deletePlayerTeams.next(player);\n  }\n\n  public openSelectForTeamService() {\n    this.openSelectForTeam.next();\n  }\n\n  public scrollToTopService() {\n    this.scrollToTop.next();\n  }\n\n  public setOnePlayerTeamService(player) {\n    this.setOnePlayerTeam.next(player);\n  }\n  public setPlayerAllListService(player) {\n    this.setPlayerAllList.next(player);\n  }\n}","<div class=\"app\">\n  <header class=\"header\">\n    <div class=\"logo\" (click)=\"navigateMainPage()\">\n      <img src=\"favicon.ico\" alt=\"logo\">\n      <div>\n        <p>TeamS</p>\n        <span>service</span>\n      </div>\n    </div>\n\n    <nav mat-tab-nav-bar\n      *ngIf=\"authService.admin\"\n      class=\"nav\">\n      <a mat-tab-link\n        class=\"tab\"\n        *ngFor=\"let link of navLinks\"\n        [routerLink]=\"link.link\"\n        routerLinkActive #rla=\"routerLinkActive\"\n        [routerLinkActiveOptions]=\"{ exact: true }\"\n        [active]=\"rla.isActive\"\n        queryParamsHandling=\"merge\">\n        {{ 'tab.' + link.label | translate}}\n      </a>\n    </nav>\n    <app-auth></app-auth>\n  </header>\n\n  <router-outlet></router-outlet>\n  <app-languages></app-languages>\n  <button class=\"btn btn__top\"\n    *ngIf=\"isShowBtnTop\" \n    (click)=\"scrollToTop()\">\n  </button>\n</div>\n","import { Component, OnInit, HostListener } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AuthService } from './services/auth.service';\nimport { TeamsService } from './services/teams.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent implements OnInit {\n  public navLinks: any[];\n  public activeLinkIndex = -1;\n  public isShowBtnTop: boolean;\n  public topPosToStartShowing = 100;\n\n  constructor(\n    private router: Router,\n    public authService: AuthService,\n    private teamsService: TeamsService) {\n    this.navLinks = [\n      {\n        label: 'main',\n        link: '/',\n        index: 0\n      }, {\n        label: 'table',\n        link: '/players',\n        index: 1\n      }\n    ];\n  }\n\n  ngOnInit(): void {\n    this.router.events.subscribe((res) => {\n      this.activeLinkIndex = this.navLinks.indexOf(this.navLinks.find(tab => tab.link === this.router.url));\n    });\n    this.teamsService.scrollToTop.subscribe(() => {\n      this.scrollToTop();\n    });\n  }\n  \n  public navigateMainPage(): void {\n    this.router.navigate([''], { queryParamsHandling: 'merge' });\n  }\n\n  @HostListener('window:scroll')checkScroll(): void {\n    const scrollPosition = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n    if (scrollPosition >= this.topPosToStartShowing) {\n      this.isShowBtnTop = true;\n    } else {\n      this.isShowBtnTop = false;\n    }\n  }\n\n  public scrollToTop(): void {\n    window.scroll({ \n      top: 0, \n      left: 0, \n      behavior: 'smooth' \n    });\n  }\n}","import { Component, Input, OnInit } from '@angular/core';\nimport { AngularFireStorage } from '@angular/fire/storage';\nimport { Observable } from 'rxjs';\nimport { AuthService } from '../services/auth.service';\n\n@Component({\n  selector: 'app-avatar',\n  templateUrl: './avatar.component.html',\n  styleUrls: ['./avatar.component.scss']\n})\nexport class AvatarComponent implements OnInit {\n\n  @Input() player: any;\n  public avatarUrl: Observable<any>;\n\n  constructor(\n    private storage: AngularFireStorage,\n    public authService: AuthService) {\n\n    }\n\n  ngOnInit(): void {\n    if(this.player?.avatar) {\n      const filePath = 'avatars/' + this.player.id + '/' + this.player.avatar;\n      const ref = this.storage.ref(filePath);\n      this.avatarUrl = ref.getDownloadURL();\n    }\n  }\n}\n","<div class=\"avatar\">\n  <img class=\"img img__avatar\" [src]=\"avatarUrl | async\" alt=\"\">\n</div>","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { HttpClient, HttpClientModule } from '@angular/common/http';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { PlayersService } from './services/players.service';\nimport { TeamsService } from './services/teams.service';\nimport { AuthService } from './services/auth.service';\n\nimport { AppComponent } from './app.component';\nimport { MainComponent } from './main/main.component';\nimport { PlayersComponent } from './players/players.component';\nimport { NotFoundComponent } from './not-found/not-found.component';\nimport { SelectComponent } from './main/select/select.component';\nimport { TeamsComponent } from './main/teams/teams.component';\nimport { CardComponent } from './main/teams/card/card.component';\nimport { FormComponent } from './players/form/form.component';\nimport { PopupComponent } from './popup/popup.component';\nimport { AvatarComponent } from './avatar/avatar.component';\nimport { TeamComponent } from './main/teams/team/team.component';\nimport { LanguagesComponent } from './languages/languages.component';\nimport { AuthComponent } from './auth/auth.component';\n\nimport { MatTabsModule } from '@angular/material/tabs';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { NgxMatSelectSearchModule } from 'ngx-mat-select-search';\nimport { MatTableModule } from '@angular/material/table';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatMenuModule } from '@angular/material/menu';\n\nimport { DragDropModule } from '@angular/cdk/drag-drop';\n\nimport { ShareButtonsModule } from 'ngx-sharebuttons/buttons';\nimport { ShareIconsModule } from 'ngx-sharebuttons/icons';\n\nimport { AngularFireModule } from '@angular/fire';\nimport { AngularFireAnalyticsModule } from '@angular/fire/analytics';\nimport { AngularFirestoreModule } from '@angular/fire/firestore';\nimport { AngularFireStorageModule } from '@angular/fire/storage';\nimport { AngularFireAuthModule } from '@angular/fire/auth';\n\nimport { environment } from '../environments/environment';\n\nimport { TranslateLoader, TranslateModule } from '@ngx-translate/core';\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\nimport { SpinnerComponent } from './spinner/spinner.component';\n\n\nexport function HttpLoaderFactory(http: HttpClient): TranslateLoader {\n  return new TranslateHttpLoader(http, './assets/locale/', '.json');\n}\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    MainComponent,\n    PlayersComponent,\n    NotFoundComponent,\n    SelectComponent,\n    TeamsComponent,\n    CardComponent,\n    FormComponent,\n    PopupComponent,\n    AvatarComponent,\n    TeamComponent,\n    LanguagesComponent,\n    AuthComponent,\n    SpinnerComponent\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    BrowserAnimationsModule,\n    FormsModule,\n    HttpClientModule,\n    ReactiveFormsModule,\n    MatTabsModule,\n    MatFormFieldModule,\n    MatSelectModule,\n    MatButtonModule,\n    MatIconModule,\n    NgxMatSelectSearchModule,\n    MatTableModule,\n    MatInputModule,\n    MatDialogModule,\n    MatMenuModule,\n    DragDropModule,\n    ShareButtonsModule.withConfig({\n      debug: true\n    }),\n    ShareIconsModule,\n    AngularFireModule.initializeApp(environment.firebase),\n    AngularFireAnalyticsModule,\n    AngularFirestoreModule,\n    AngularFireStorageModule,\n    AngularFireAuthModule,\n    TranslateModule.forRoot({\n      loader: {\n        provide: TranslateLoader,\n        useFactory: HttpLoaderFactory,\n        deps: [HttpClient],\n      },\n      useDefaultLang: false,\n    })\n  ],\n  providers: [PlayersService, TeamsService, AuthService],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {}","<app-avatar class=\"avatar__max\" [player]=\"player\"></app-avatar>\n<p class=\"player__info\">\n  <span class=\"player__name\">{{player.name}} </span>\n  <span class=\"player__surname\">{{player.surname}}</span>\n</p>\n<button mat-icon-button\n  *ngIf=\"editState\"\n  class=\"btn btn__delete\" \n  (click)=\"onDeletePlayer()\">\n  <mat-icon>clear</mat-icon>\n</button>\n","import { Component, OnInit, Input} from '@angular/core';\nimport { PlayersService } from '../../../services/players.service';\nimport { PlayerInfo } from '../../../entities';\nimport { TeamsService } from '../../../services/teams.service';\n\n@Component({\n  selector: 'app-card',\n  templateUrl: './card.component.html',\n  styleUrls: ['./card.component.scss']\n})\nexport class CardComponent implements OnInit {\n  public test: any;\n\n  @Input() player: PlayerInfo;\n  @Input() indexTeam: number;\n  @Input() editState: boolean;\n\n  constructor(\n    private playersService: PlayersService,\n    public teamsService: TeamsService) {}\n\n  ngOnInit(): void {\n  }\n\n  public onDeletePlayer() {\n    const indexPlayer = this.playersService.selectedPlayers.findIndex(player => player.id === this.player.id);\n    this.playersService.selectedPlayers.splice(indexPlayer,1);\n    this.teamsService.deletePlayerTeamsService(this.player);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { AuthService } from './services/auth.service'\nimport { tap, map, take } from 'rxjs/operators';\nimport { Router } from '@angular/router';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AdminGuard implements CanActivate {\n\n  constructor(private auth: AuthService, private router: Router) {}\n\n  canActivate(\n    route: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\n    return this.auth.user.pipe(\n      take(1),\n      map(user => user && user.roles.admin ? true : false),\n      tap(isAdmin => {\n        if (!isAdmin) {\n          this.router.navigate(['404']);\n          console.error('Access denied - Admins only');\n        }\n      })\n    );\n  }\n  \n}\n","import { AfterViewInit, Component, OnDestroy, OnInit, ViewChild  } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { ReplaySubject, Subject } from 'rxjs';\nimport { take, takeUntil} from 'rxjs/operators';\nimport { MatSelect } from '@angular/material/select';\nimport { PlayersService } from '../../services/players.service';\nimport { TeamsService } from '../../services/teams.service';\nimport { PlayerInfo } from '../../entities';\n\n@Component({\n  selector: 'app-select',\n  templateUrl: './select.component.html',\n  styleUrls: ['./select.component.scss']\n})\n\nexport class SelectComponent implements OnInit, AfterViewInit, OnDestroy {\n  protected players: PlayerInfo[] = this.playersService.allPlayers;\n  public playersCtrl: FormControl = new FormControl();\n  public playersFilterCtrl: FormControl = new FormControl();\n  public filteredPlayers: ReplaySubject<PlayerInfo[]> = new ReplaySubject<PlayerInfo[]>(1);\n  public openedOrClosedSelect: boolean;\n  public selectForTeamState: boolean;\n  public uniquePlayers: PlayerInfo[] = [];\n\n  @ViewChild('multiSelect') multiSelect: MatSelect;\n\n  protected _onDestroy = new Subject<void>();\n\n  constructor(\n    private playersService: PlayersService,\n    private teamsService: TeamsService) {}\n\n  ngOnInit():void {\n    this.playersService.deleteSelectedPlayers.subscribe(() => {\n      this.playersCtrl.setValue([]);\n      this.playersService.selectedPlayers = [];\n    });\n\n    this.teamsService.openSelectForTeam.subscribe(() => {\n      this.selectForTeamState = true;\n      document.body.classList.add('disabled__checkbox');\n      this.multiSelect.open();\n    });\n\n    this.teamsService.setPlayerAllList.subscribe((player: PlayerInfo) => {\n      this.players.push(player);\n      this.filteredPlayers.next(this.players.slice());\n    });\n\n    this.setInitialSelection();\n    this.loadInitialPlayerList();\n\n    this.playersFilterCtrl.valueChanges\n      .pipe(takeUntil(this._onDestroy))\n      .subscribe(() => {\n        this.filterOptions();\n      });\n  }\n\n  ngAfterViewInit(): void {\n    this.setInitialValue();\n  }\n\n  ngOnDestroy(): void {\n    this._onDestroy.next();\n    this._onDestroy.complete();\n  }\n\n  public sortPlayersByPopularity(players):void {\n    players.sort((a, b) => {\n      if (a.sortPopularity < b.sortPopularity) return -1;\n      else if (a.sortPopularity > b.sortPopularity) return 1;\n      else return 0;\n    });\n  }\n\n  public onSelectForTeam(player): void {\n    if (this.selectForTeamState) {\n      this.teamsService.setOnePlayerTeamService(player);\n      this.multiSelect.close();\n      this.multiSelect._onBlur();\n    }\n  }\n\n  protected setInitialValue(): void {\n    this.filteredPlayers\n      .pipe(take(1), takeUntil(this._onDestroy))\n      .subscribe(() => {\n        this.multiSelect.compareWith = (a: PlayerInfo, b: PlayerInfo) => a && b && a.id === b.id;\n      });\n  }\n\n  public setInitialSelection(): void {\n    this.playersService.selectedPlayersData.subscribe(()=>{\n      this.sortPlayersByPopularity(this.playersService.selectedPlayers);\n      this.playersCtrl.setValue(this.playersService.selectedPlayers);\n    });\n  }\n\n  public loadInitialPlayerList(): void {\n    if(this.players.length <=1) {\n      this.playersService.allPlayersData.subscribe((players) => {\n        this.filteredPlayers.next(players.slice());\n      });\n    } else {\n      this.sortPlayersByPopularity(this.players);\n      this.filteredPlayers.next(this.players.slice());\n    }\n  }\n\n  public onSelectedPlayers(players): void {\n    this.playersService.selectedPlayers = players;\n  }\n\n  public filterOptions(): void {\n    if (!this.players) {\n      return;\n    }\n\n    let search = this.playersFilterCtrl.value;\n    if (!search) {\n      this.loadInitialPlayerList();\n      return;\n    } else {\n      search = search.trim().toLowerCase();\n    }\n    this.filteredPlayers.next(\n      this.players.filter(player => player.name.toLowerCase().indexOf(search) > -1)\n    );\n  }\n\n  public onCloseOptions(): void {\n    this.multiSelect.close();\n  }\n\n  public openedChangeSelect(value): void {\n    this.openedOrClosedSelect = value;\n    if(value) {\n      document.body.classList.add('disabled__scroll');\n      this.setInitialValue();\n    } else {\n      if(!this.selectForTeamState) {\n        this.teamsService.generateTeemsService();\n      }\n      this.selectForTeamState = false;\n      document.body.classList.remove('disabled__checkbox');\n      document.body.classList.remove('disabled__scroll');\n    }\n  }\n}","<div class=\"main__select\">\n  <label class=\"selected__label\"\n    [ngClass]=\"{'top': openedOrClosedSelect || \n      playersCtrl.value && playersCtrl.value.length > 0}\">\n      {{ 'select.lable' | translate}}\n  </label>\n  <div class=\"selected__players\"\n    *ngIf=\"playersCtrl.value && playersCtrl.value.length > 0\"\n    [ngClass]=\"{'top': openedOrClosedSelect}\">\n    <span>({{playersCtrl.value.length || null}})</span>\n    <span *ngFor=\"let player of playersCtrl?.value\">\n      {{player.name}}\n      <span>, </span>\n    </span>\n  </div>\n  <mat-form-field>\n    <mat-select\n      [formControl]=\"playersCtrl\"\n      [multiple]=\"true\"\n      (valueChange)=\"onSelectedPlayers($event)\"\n      (openedChange)=\"openedChangeSelect($event)\"\n      panelClass=\"example-long-panel\"\n      #multiSelect>\n      <button mat-icon-button class=\"btn btn__home\" (click)=\"onCloseOptions()\">\n        <mat-icon color=\"primary\">home</mat-icon>\n      </button>\n      <mat-option>\n        <ngx-mat-select-search \n          [formControl]=\"playersFilterCtrl\"\n          placeholderLabel=\"{{ 'select.placeholder' | translate}}\"\n          noEntriesFoundLabel=\"{{ 'select.no.found.label' | translate}}\"\n          disableInitialFocus=\"false\"\n          preventHomeEndKeyPropagation=\"false\">\n        </ngx-mat-select-search>\n      </mat-option>\n      <mat-option \n        *ngFor=\"let player of filteredPlayers | async\"\n        [value]=\"player\"\n        (click)=\"onSelectForTeam(player)\">\n        <app-avatar \n          class=\"avatar__min\" \n          [player]=\"player\">\n        </app-avatar> \n        {{player.name}} {{player.surname}}\n      </mat-option>\n    </mat-select>\n  </mat-form-field>\n</div>","import { Injectable } from '@angular/core';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport { User } from '../entities';\nimport { switchMap } from 'rxjs/operators';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { Observable, of } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n  public admin: boolean;\n  public userData: any;\n  public user: Observable<User>;\n  public userPhoto: any;\n\n  constructor(\n    public fireAuth: AngularFireAuth,\n    private firestore: AngularFirestore) {\n    this.fireAuth.authState.subscribe(user => {\n      if (user) {\n        this.userData = JSON.parse(localStorage.getItem('user'));\n        this.userPhoto = JSON.parse(localStorage.getItem('userPhoto'));\n      } else {\n        localStorage.setItem('user', null);\n        localStorage.setItem('userPhoto', null);\n      }\n    });\n\n    this.user = this.fireAuth.authState\n    .pipe(switchMap(user => {\n        if(user) {\n          return this.firestore.doc<User>(`users/${user.uid}`).valueChanges();\n        } else {\n          return of(null)\n        }\n      }));\n\n    this.isAdminServise();\n  }\n\n  public loginWithGoogleService() {\n    return this.authLogin(new firebase.auth.GoogleAuthProvider());\n  }\n\n  public loginWithFacebookService() {\n    return this.authLogin(new firebase.auth.FacebookAuthProvider());\n  }\n\n  public authLogin(provider) {\n    return this.fireAuth.signInWithPopup(provider)\n    .then((result) => {\n      this.getUrlUserPhoto(\n        result.user.providerData[0].providerId, \n        result.user, \n        result.credential);\n      this.updeteUserData(result.user);\n      localStorage.setItem('user', JSON.stringify(result.user));\n      localStorage.setItem('userPhoto', JSON.stringify(this.userPhoto));\n    }).catch((error) => {\n      console.log(error);\n    })\n  }\n  \n  private getUrlUserPhoto(providerId, user, credential) {\n    if(providerId === 'google.com') {\n      this.userPhoto = user.photoURL;\n    }\n    if(providerId === 'facebook.com') {\n      this.userPhoto = `${user.photoURL}/?access_token=${credential.accessToken}`;\n    }\n  }\n\n  private updeteUserData(user) {\n    return this.firestore.collection('users')\n      .doc(user.uid)\n      .set({\n        uid: user.uid,\n        email: user.email,\n        name: user.displayName,\n        roles: {\n          editor: true\n        }\n      }, { merge: true });\n  }\n\n  public logOutService() {\n    return this.fireAuth.signOut().then(() => {\n      localStorage.removeItem('user');\n      this.userData = null;\n    })\n  }\n\n  private isAdminServise() {\n    this.user.subscribe(user => {\n      if (!user) { \n        return this.admin = false\n      }\n      if (user.roles?.admin === true) {\n        return this.admin = true;\n      } else { \n        return this.admin = false\n      }\n    });\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { Location } from '@angular/common';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-not-found',\n  templateUrl: './not-found.component.html',\n  styleUrls: ['./not-found.component.scss']\n})\nexport class NotFoundComponent implements OnInit {\n\n  constructor(\n    private location: Location,\n    private router: Router) { }\n\n  ngOnInit(): void {\n  }\n  public backClicked(): void {\n    this.location.back();\n  }\n  public navigateMainPage(): void {\n    this.router.navigate([''], { queryParamsHandling: 'preserve' });\n  }\n}\n","<p><b>404</b></p>\n<p>Not found page!</p>\n<button mat-button (click)=\"backClicked()\">\n  back \n</button>\n<button mat-button (click)=\"navigateMainPage()\">\n  home \n</button>","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { MainComponent } from '../app/main/main.component';\nimport { PlayersComponent } from '../app/players/players.component';\nimport { NotFoundComponent } from '../app/not-found/not-found.component';\nimport { AdminGuard } from './admin.guard';\n\nconst routes: Routes = [\n  { path: '', component: MainComponent },\n  { path: 'players', component: PlayersComponent, canActivate: [AdminGuard] },\n  { path: '404', component: NotFoundComponent },\n  { path: '**', redirectTo: '/404' }\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes, { relativeLinkResolution: 'legacy' })],\n  exports: [RouterModule]\n})\n\nexport class AppRoutingModule { }\n","<div class=\"main\">\n  <app-select *ngIf=\"authService.userData\"></app-select>\n  <app-teams></app-teams>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { AuthService } from '../services/auth.service';\n\n@Component({\n  selector: 'app-main',\n  templateUrl: './main.component.html',\n  styleUrls: ['./main.component.scss']\n})\nexport class MainComponent implements OnInit {\n\n  constructor(public authService: AuthService) {}\n\n  ngOnInit(): void {\n  }\n}","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"]}