(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a});var r=n("uXP2"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),o=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var s=this.getOrInitializeService(i);if(!s){if(n)return null;throw Error("Service "+this.name+" is not available")}return s}catch(o){if(n)return null;throw o}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(u){}try{for(var i=Object(r.j)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var o=Object(r.g)(s.value,2),a=o[1],c=this.normalizeInstanceIdentifier(o[0]);try{var l=this.getOrInitializeService(c);a.resolve(l)}catch(u){}}}catch(h){e={error:h}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.e)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.h)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new o(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("ZUHj"),i=n("l7GE"),s=n("51Dv"),o=n("lJxs"),a=n("Cfvw");function c(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(c((n,r)=>Object(a.a)(t(n,r)).pipe(Object(o.a)((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new l(t,n)))}class l{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends i.a{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const i=new s.a(this,e,n),o=this.destination;o.add(i);const a=Object(r.a)(this,t,void 0,void 0,i);a!==i&&o.add(a)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"51Dv":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");class i extends r.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},"7Hc7":function(t,e,n){"use strict";n.d(e,"a",function(){return d});let r=1;const i=(()=>Promise.resolve())(),s={};function o(t){return t in s&&(delete s[t],!0)}const a={setImmediate(t){const e=r++;return s[e]=!0,i.then(()=>o(e)&&t()),e},clearImmediate(t){o(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var u=n("IjjT");class h extends u.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new h(l)},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),c=n("NJ4a");class l extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof l?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new u(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new u(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new l(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class u extends l{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(c.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(c.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),c=n("Lhse"),l=n("c2HN"),u=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(l.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(u.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[c.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[c.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return c});var r=n("XNiG"),i=n("HDdC"),s=(n("7o/Q"),n("quSY")),o=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.a,t.add(this.source.subscribe(new l(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.a.EMPTY)),t}refCount(){return Object(o.a)()(this)}}const c=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class l extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s});var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("SpAZ"),c=n("2fFW");let l=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=u(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=u(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function u(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.2.9","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),c=n("c2HN"),l=n("XoHu");const u=t=>{if(t&&"function"==typeof t[o.a])return u=t,t=>{const e=u[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(c.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(l.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,u}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("EY2u"),i=n("LRne"),s=n("z6cu");let o=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return Object(s.a)(this.error);case"C":return Object(r.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return l}),n.d(e,"a",function(){return u});var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),c=n("2QA8");class l extends i.a{constructor(t){super(t),this.destination=t}}let u=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[c.a](){return new l(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends u{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},ZUHj:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("51Dv"),i=n("SeVD"),s=n("HDdC");function o(t,e,n,o,a=new r.a(t,n,o)){if(!a.closed)return e instanceof s.a?e.subscribe(a):Object(i.a)(e)(a)}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return nn}),n.d(e,"b",function(){return Uc}),n.d(e,"c",function(){return Nc}),n.d(e,"d",function(){return jc}),n.d(e,"e",function(){return Pc}),n.d(e,"f",function(){return Nl}),n.d(e,"g",function(){return Ol}),n.d(e,"h",function(){return Ra}),n.d(e,"i",function(){return Qc}),n.d(e,"j",function(){return ea}),n.d(e,"k",function(){return Hc}),n.d(e,"l",function(){return sa}),n.d(e,"m",function(){return Rl}),n.d(e,"n",function(){return gr}),n.d(e,"o",function(){return dc}),n.d(e,"p",function(){return is}),n.d(e,"q",function(){return On}),n.d(e,"r",function(){return I}),n.d(e,"s",function(){return en}),n.d(e,"t",function(){return vs}),n.d(e,"u",function(){return ka}),n.d(e,"v",function(){return xa}),n.d(e,"w",function(){return zc}),n.d(e,"x",function(){return za}),n.d(e,"y",function(){return Sl}),n.d(e,"z",function(){return Ba}),n.d(e,"A",function(){return yl}),n.d(e,"B",function(){return tl}),n.d(e,"C",function(){return kn}),n.d(e,"D",function(){return Vc}),n.d(e,"E",function(){return Mc}),n.d(e,"F",function(){return pc}),n.d(e,"G",function(){return ca}),n.d(e,"H",function(){return aa}),n.d(e,"I",function(){return wr}),n.d(e,"J",function(){return ua}),n.d(e,"K",function(){return hr}),n.d(e,"L",function(){return Sn}),n.d(e,"M",function(){return Tl}),n.d(e,"N",function(){return Fa}),n.d(e,"O",function(){return al}),n.d(e,"P",function(){return rn}),n.d(e,"Q",function(){return da}),n.d(e,"R",function(){return ha}),n.d(e,"S",function(){return qa}),n.d(e,"T",function(){return N}),n.d(e,"U",function(){return _l}),n.d(e,"V",function(){return gl}),n.d(e,"W",function(){return f}),n.d(e,"X",function(){return vn}),n.d(e,"Y",function(){return ml}),n.d(e,"Z",function(){return jl}),n.d(e,"ab",function(){return ul}),n.d(e,"bb",function(){return Bc}),n.d(e,"cb",function(){return os}),n.d(e,"db",function(){return zo}),n.d(e,"eb",function(){return lr}),n.d(e,"fb",function(){return Gn}),n.d(e,"gb",function(){return Nn}),n.d(e,"hb",function(){return Fn}),n.d(e,"ib",function(){return Bn}),n.d(e,"jb",function(){return Vn}),n.d(e,"kb",function(){return Mn}),n.d(e,"lb",function(){return Un}),n.d(e,"mb",function(){return Mo}),n.d(e,"nb",function(){return Dl}),n.d(e,"ob",function(){return Vo}),n.d(e,"pb",function(){return Uo}),n.d(e,"qb",function(){return Ln}),n.d(e,"rb",function(){return U}),n.d(e,"sb",function(){return As}),n.d(e,"tb",function(){return Qs}),n.d(e,"ub",function(){return Ks}),n.d(e,"vb",function(){return Xs}),n.d(e,"wb",function(){return Fo}),n.d(e,"xb",function(){return Ct}),n.d(e,"yb",function(){return u}),n.d(e,"zb",function(){return Pn}),n.d(e,"Ab",function(){return Cs}),n.d(e,"Bb",function(){return gt}),n.d(e,"Cb",function(){return Zo}),n.d(e,"Db",function(){return ai}),n.d(e,"Eb",function(){return Ns}),n.d(e,"Fb",function(){return Ro}),n.d(e,"Gb",function(){return go}),n.d(e,"Hb",function(){return xc}),n.d(e,"Ib",function(){return Q}),n.d(e,"Jb",function(){return it}),n.d(e,"Kb",function(){return v}),n.d(e,"Lb",function(){return w}),n.d(e,"Mb",function(){return et}),n.d(e,"Nb",function(){return st}),n.d(e,"Ob",function(){return Vs}),n.d(e,"Pb",function(){return qs}),n.d(e,"Qb",function(){return Ws}),n.d(e,"Rb",function(){return Gs}),n.d(e,"Sb",function(){return Ys}),n.d(e,"Tb",function(){return Hs}),n.d(e,"Ub",function(){return zs}),n.d(e,"Vb",function(){return $s}),n.d(e,"Wb",function(){return Ze}),n.d(e,"Xb",function(){return Do}),n.d(e,"Yb",function(){return _n}),n.d(e,"Zb",function(){return Je}),n.d(e,"ac",function(){return Dc}),n.d(e,"bc",function(){return Zs}),n.d(e,"cc",function(){return Ec}),n.d(e,"dc",function(){return ge}),n.d(e,"ec",function(){return me}),n.d(e,"fc",function(){return ro}),n.d(e,"gc",function(){return uc}),n.d(e,"hc",function(){return hc}),n.d(e,"ic",function(){return oo}),n.d(e,"jc",function(){return so}),n.d(e,"kc",function(){return Us}),n.d(e,"lc",function(){return sc}),n.d(e,"mc",function(){return oc}),n.d(e,"nc",function(){return ac}),n.d(e,"oc",function(){return kc}),n.d(e,"pc",function(){return Ms}),n.d(e,"qc",function(){return _r}),n.d(e,"rc",function(){return Bt}),n.d(e,"sc",function(){return dr}),n.d(e,"tc",function(){return nt}),n.d(e,"uc",function(){return mo}),n.d(e,"vc",function(){return Js}),n.d(e,"wc",function(){return jo}),n.d(e,"xc",function(){return Fs}),n.d(e,"yc",function(){return Rc}),n.d(e,"zc",function(){return Eo}),n.d(e,"Ac",function(){return To}),n.d(e,"Bc",function(){return Io}),n.d(e,"Cc",function(){return Ao}),n.d(e,"Dc",function(){return Sc});var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("w1tV");function c(t){for(let e in t)if(t[e]===c)return e;throw Error("Could not find renamed property on target object.")}function l(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function u(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(u).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const d=c({__forward_ref__:c});function f(t){return t.__forward_ref__=f,t.toString=function(){return u(this())},t}function p(t){return m(t)?t():t}function m(t){return"function"==typeof t&&t.hasOwnProperty(d)&&t.__forward_ref__===f}class g extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function b(t){return"string"==typeof t?t:null==t?"":String(t)}function y(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():b(t)}function _(t,e){const n=e?` in ${e}`:"";throw new g("201",`No provider for ${y(t)} found${n}`)}function v(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function w(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function C(t){return O(t,S)||O(t,E)}function O(t,e){return t.hasOwnProperty(e)?t[e]:null}function k(t){return t&&(t.hasOwnProperty(x)||t.hasOwnProperty(T))?t[x]:null}const S=c({"\u0275prov":c}),x=c({"\u0275inj":c}),E=c({ngInjectableDef:c}),T=c({ngInjectorDef:c});var I=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let A;function R(t){const e=A;return A=t,e}function D(t,e,n){const r=C(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&I.Optional?null:void 0!==e?e:void _(u(t),"Injector")}function j(t){return{toString:t}.toString()}var P=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),N=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const L="undefined"!=typeof globalThis&&globalThis,F="undefined"!=typeof window&&window,M="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,V="undefined"!=typeof global&&global,U=L||V||F||M,B={},z=[],H=c({"\u0275cmp":c}),q=c({"\u0275dir":c}),Y=c({"\u0275pipe":c}),G=c({"\u0275mod":c}),W=c({"\u0275loc":c}),$=c({"\u0275fac":c}),K=c({__NG_ELEMENT_ID__:c});let X=0;function Q(t){return j(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===P.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||z,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||N.Emulated,id:"c",styles:t.styles||z,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=X++,n.inputs=rt(t.inputs,e),n.outputs=rt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(Z):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(J):null,n})}function Z(t){return ot(t)||function(t){return t[q]||null}(t)}function J(t){return function(t){return t[Y]||null}(t)}const tt={};function et(t){const e={type:t.type,bootstrap:t.bootstrap||z,declarations:t.declarations||z,imports:t.imports||z,exports:t.exports||z,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&j(()=>{tt[t.id]=t.type}),e}function nt(t,e){return j(()=>{const n=at(t,!0);n.declarations=e.declarations||z,n.imports=e.imports||z,n.exports=e.exports||z})}function rt(t,e){if(null==t)return B;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const it=Q;function st(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ot(t){return t[H]||null}function at(t,e){const n=t[G]||null;if(!n&&!0===e)throw new Error(`Type ${u(t)} does not have '\u0275mod' property.`);return n}function ct(t){return Array.isArray(t)&&"object"==typeof t[1]}function lt(t){return Array.isArray(t)&&!0===t[1]}function ut(t){return 0!=(8&t.flags)}function ht(t){return 2==(2&t.flags)}function dt(t){return 1==(1&t.flags)}function ft(t){return null!==t.template}function pt(t,e){return t.hasOwnProperty($)?t[$]:null}class mt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function gt(){return bt}function bt(t){return t.type.prototype.ngOnChanges&&(t.setInput=_t),yt}function yt(){const t=vt(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===B)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function _t(t,e,n,r){const i=vt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:B,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],c=o[a];s[a]=new mt(c&&c.currentValue,e,o===B),t[r]=e}function vt(t){return t.__ngSimpleChanges__||null}let wt;function Ct(t){wt=t}function Ot(t){return!!t.listen}gt.ngInherit=!0;const kt={createRenderer:(t,e)=>void 0!==wt?wt:"undefined"!=typeof document?document:void 0};function St(t){for(;Array.isArray(t);)t=t[0];return t}function xt(t,e){return St(e[t])}function Et(t,e){return St(e[t.index])}function Tt(t,e){return t.data[e]}function It(t,e){return t[e]}function At(t,e){const n=e[t];return ct(n)?n:n[0]}function Rt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Dt(t){return 4==(4&t[2])}function jt(t){return 128==(128&t[2])}function Pt(t,e){return null==e?null:t[e]}function Nt(t){t[18]=0}function Lt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Ft={lFrame:ce(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Mt(){return Ft.bindingsEnabled}function Vt(){return Ft.lFrame.lView}function Ut(){return Ft.lFrame.tView}function Bt(t){Ft.lFrame.contextLView=t}function zt(){let t=Ht();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ht(){return Ft.lFrame.currentTNode}function qt(t,e){const n=Ft.lFrame;n.currentTNode=t,n.isParent=e}function Yt(){return Ft.lFrame.isParent}function Gt(){Ft.lFrame.isParent=!1}function Wt(){return Ft.isInCheckNoChangesMode}function $t(t){Ft.isInCheckNoChangesMode=t}function Kt(){const t=Ft.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Xt(){return Ft.lFrame.bindingIndex}function Qt(){return Ft.lFrame.bindingIndex++}function Zt(t){const e=Ft.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Jt(t,e){const n=Ft.lFrame;n.bindingIndex=n.bindingRootIndex=t,te(e)}function te(t){Ft.lFrame.currentDirectiveIndex=t}function ee(t){const e=Ft.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function ne(){return Ft.lFrame.currentQueryIndex}function re(t){Ft.lFrame.currentQueryIndex=t}function ie(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function se(t,e,n){if(n&I.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&I.Host||(r=ie(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Ft.lFrame=ae();return r.currentTNode=e,r.lView=t,!0}function oe(t){const e=ae(),n=t[1];Ft.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ae(){const t=Ft.lFrame,e=null===t?null:t.child;return null===e?ce(t):e}function ce(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function le(){const t=Ft.lFrame;return Ft.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ue=le;function he(){const t=le();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function de(){return Ft.lFrame.selectedIndex}function fe(t){Ft.lFrame.selectedIndex=t}function pe(){const t=Ft.lFrame;return Tt(t.tView,t.selectedIndex)}function me(){Ft.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function ge(){Ft.lFrame.currentNamespace=null}function be(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function ye(t,e,n){we(t,e,3,n)}function _e(t,e,n,r){(3&t[2])===n&&we(t,e,n,r)}function ve(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function we(t,e,n,r){const i=null!=r?r:-1,s=e.length-1;let o=0;for(let a=void 0!==r?65535&t[18]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(Ce(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Ce(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}class Oe{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function ke(t,e,n){const r=Ot(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],c=n[i++];r?t.setAttribute(e,a,c,o):e.setAttributeNS(o,a,c)}else{const o=s,a=n[++i];xe(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Se(t){return 3===t||4===t||6===t}function xe(t){return 64===t.charCodeAt(0)}function Ee(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Te(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Te(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Ie(t){return-1!==t}function Ae(t){return 32767&t}function Re(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let De=!0;function je(t){const e=De;return De=t,e}let Pe=0;function Ne(t,e){const n=Fe(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Le(r.data,t),Le(e,null),Le(r.blueprint,null));const i=Me(t,e),s=t.injectorIndex;if(Ie(i)){const t=Ae(i),n=Re(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function Le(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Fe(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Me(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Ve(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(K)&&(r=n[K]),null==r&&(r=n[K]=Pe++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Ue(t,e,n){if(n&I.Optional)return t;_(e,"NodeInjector")}function Be(t,e,n,r){if(n&I.Optional&&void 0===r&&(r=null),0==(n&(I.Self|I.Host))){const i=t[9],s=R(void 0);try{return i?i.get(e,r,n&I.Optional):D(e,r,n&I.Optional)}finally{R(s)}}return Ue(r,e,n)}function ze(t,e,n,r=I.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(K)?t[K]:void 0;return"number"==typeof e?e>=0?255&e:qe:e}(n);if("function"==typeof s){if(!se(e,t,r))return r&I.Host?Ue(i,n,r):Be(e,n,r,i);try{const t=s();if(null!=t||r&I.Optional)return t;_(n)}finally{ue()}}else if("number"==typeof s){let i=null,o=Fe(t,e),a=-1,c=r&I.Host?e[16][6]:null;for((-1===o||r&I.SkipSelf)&&(a=-1===o?Me(t,e):e[o+8],-1!==a&&Ke(r,!1)?(i=e[1],o=Ae(a),e=Re(a,e)):o=-1);-1!==o;){const t=e[1];if($e(s,o,t.data)){const t=Ye(o,e,n,i,r,c);if(t!==He)return t}a=e[o+8],-1!==a&&Ke(r,e[1].data[o+8]===c)&&$e(s,o,e)?(i=t,o=Ae(a),e=Re(a,e)):o=-1}}}return Be(e,n,r,i)}const He={};function qe(){return new Xe(zt(),Vt())}function Ye(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],c=Ge(a,o,n,null==r?ht(a)&&De:r!=o&&0!=(3&a.type),i&I.Host&&s===a);return null!==c?We(e,o,c,a):He}function Ge(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,c=t.directiveStart,l=s>>20,u=i?a+l:t.directiveEnd;for(let h=r?a:a+l;h<u;h++){const t=o[h];if(h<c&&n===t||h>=c&&t.type===n)return h}if(i){const t=o[c];if(t&&ft(t)&&t.type===n)return c}return null}function We(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof Oe){const o=i;o.resolving&&function(t,e){throw new g("200",`Circular dependency in DI detected for ${t}`)}(y(s[n]));const a=je(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?R(o.injectImpl):null;se(t,r,I.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=bt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==c&&R(c),je(a),o.resolving=!1,ue()}}return i}function $e(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Ke(t,e){return!(t&I.Self||t&I.Host&&e)}class Xe{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return ze(this._tNode,this._lView,t,void 0,e)}}function Qe(t){const e=t;if(m(t))return()=>{const t=Qe(p(e));return t?t():null};let n=pt(e);if(null===n){const t=k(e);n=t&&t.factory}return n||null}function Ze(t){return j(()=>{const e=t.prototype.constructor,n=e[$]||Qe(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[$]||Qe(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Je(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Se(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(zt(),t)}function tn(t,e,n){return j(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class en{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=v({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const nn=new en("AnalyzeForEntryComponents"),rn=Function;function sn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),sn(r,e)):e!==t&&e.push(r)}return e}function on(t,e){t.forEach(t=>Array.isArray(t)?on(t,e):e(t))}function an(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function cn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ln(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function un(t,e,n){let r=dn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function hn(t,e){const n=dn(t,e);if(n>=0)return t[1|n]}function dn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}const fn={},pn=/\n/gm,mn=c({provide:String,useValue:c});let gn;function bn(t){const e=gn;return gn=t,e}function yn(t,e=I.Default){if(void 0===gn)throw new Error("inject() must be called from an injection context");return null===gn?D(t,void 0,e):gn.get(t,e&I.Optional?null:void 0,e)}function _n(t,e=I.Default){return(A||yn)(p(t),e)}const vn=_n;function wn(t){const e=[];for(let n=0;n<t.length;n++){const r=p(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=I.Default;for(let e=0;e<r.length;e++){const i=r[e],s=i.__NG_DI_FLAG__;"number"==typeof s?-1===s?t=i.token:n|=s:t=i}e.push(_n(t,n))}else e.push(_n(r))}return e}function Cn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const On=Cn(tn("Inject",t=>({token:t})),-1),kn=Cn(tn("Optional"),8),Sn=Cn(tn("SkipSelf"),4);let xn;function En(t){var e;return(null===(e=function(){if(void 0===xn&&(xn=null,U.trustedTypes))try{xn=U.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return xn}())||void 0===e?void 0:e.createHTML(t))||t}class Tn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class In extends Tn{getTypeName(){return"HTML"}}class An extends Tn{getTypeName(){return"Style"}}class Rn extends Tn{getTypeName(){return"Script"}}class Dn extends Tn{getTypeName(){return"URL"}}class jn extends Tn{getTypeName(){return"ResourceURL"}}function Pn(t){return t instanceof Tn?t.changingThisBreaksApplicationSecurity:t}function Nn(t,e){const n=Ln(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Ln(t){return t instanceof Tn&&t.getTypeName()||null}function Fn(t){return new In(t)}function Mn(t){return new An(t)}function Vn(t){return new Rn(t)}function Un(t){return new Dn(t)}function Bn(t){return new jn(t)}class zn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(En(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Hn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=En(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=En(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const qn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Yn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Gn(t){return(t=String(t)).match(qn)||t.match(Yn)?t:"unsafe:"+t}function Wn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function $n(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Kn=Wn("area,br,col,hr,img,wbr"),Xn=Wn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Qn=Wn("rp,rt"),Zn=$n(Qn,Xn),Jn=$n(Kn,$n(Xn,Wn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),$n(Qn,Wn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Zn),tr=Wn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),er=Wn("srcset"),nr=$n(tr,er,Wn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Wn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),rr=Wn("script,style,template");class ir{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Jn.hasOwnProperty(e))return this.sanitizedSomething=!0,!rr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!nr.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;tr[s]&&(o=Gn(o)),er[s]&&(r=o,o=(r=String(r)).split(",").map(t=>Gn(t.trim())).join(", ")),this.buf.push(" ",e,'="',ar(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Jn.hasOwnProperty(e)&&!Kn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(ar(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const sr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,or=/([^\#-~ |!])/g;function ar(t){return t.replace(/&/g,"&amp;").replace(sr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(or,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let cr;function lr(t,e){let n=null;try{cr=cr||function(t){const e=new Hn(t);return function(){try{return!!(new window.DOMParser).parseFromString(En(""),"text/html")}catch(t){return!1}}()?new zn(e):e}(t);let r=e?String(e):"";n=cr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=cr.getInertBodyElement(r)}while(r!==s);return En((new ir).sanitizeChildren(ur(n)||n))}finally{if(n){const t=ur(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function ur(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var hr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function dr(t){const e=function(){const t=Vt();return t&&t[12]}();return e?e.sanitize(hr.URL,t)||"":Nn(t,"URL")?Pn(t):Gn(b(t))}function fr(t){return t.ngDebugContext}function pr(t){return t.ngOriginalError}function mr(t,...e){t.error(...e)}class gr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||mr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?fr(t)?fr(t):this._findContext(pr(t)):null}_findOriginalError(t){let e=pr(t);for(;e&&pr(e);)e=pr(e);return e}}function br(t,e){t.__ngContext__=e}const yr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(U))();function _r(t){return{name:"body",target:t.ownerDocument.body}}function vr(t){return t instanceof Function?t():t}var wr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Cr(t,e){return(void 0)(t,e)}function Or(t){const e=t[3];return lt(e)?e[3]:e}function kr(t){return xr(t[13])}function Sr(t){return xr(t[4])}function xr(t){for(;null!==t&&!lt(t);)t=t[4];return t}function Er(t,e,n,r,i){if(null!=r){let s,o=!1;lt(r)?s=r:ct(r)&&(o=!0,r=r[0]);const a=St(r);0===t&&null!==n?null==i?Nr(e,n,a):Pr(e,n,a,i||null,!0):1===t&&null!==n?Pr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Fr(t,e);r&&function(t,e,n,r){Ot(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==St(n)&&Er(e,t,r,s,i);for(let o=10;o<n.length;o++){const i=n[o];Yr(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Tr(t,e,n){return Ot(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Ir(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Lt(i,-1)),n.splice(r,1)}function Ar(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&Ir(s,r),e>0&&(t[n-1][4]=r[4]);const o=cn(t,10+e);Yr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Rr(t,e){if(!(256&e[2])){const n=e[11];Ot(n)&&n.destroyNode&&Yr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Dr(t[1],t);for(;e;){let n=null;if(ct(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ct(e)&&Dr(e[1],e),e=e[3];null===e&&(e=t),ct(e)&&Dr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Dr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Oe)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const t=n[s+1],o="function"==typeof t?t(e):St(e[t]),a=r[i=n[s+2]],c=n[s+3];"boolean"==typeof c?o.removeEventListener(n[s],a,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const t=r[i=n[s+1]];n[s].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&Ot(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&lt(e[3])){n!==e[3]&&Ir(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function jr(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===N.None||e===N.Emulated)return null}return Et(r,n)}(t,e.parent,n)}function Pr(t,e,n,r,i){Ot(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Nr(t,e,n){Ot(t)?t.appendChild(e,n):e.appendChild(n)}function Lr(t,e,n,r,i){null!==r?Pr(t,e,n,r,i):Nr(t,e,n)}function Fr(t,e){return Ot(t)?t.parentNode(e):e.parentNode}function Mr(t,e,n){return Vr(t,e,n)}let Vr=function(t,e,n){return 40&t.type?Et(t,n):null};function Ur(t,e,n,r){const i=jr(t,r,e),s=e[11],o=Mr(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Lr(s,i,n[a],o,!1);else Lr(s,i,n,o,!1)}function Br(t,e){if(null!==e){const n=e.type;if(3&n)return Et(e,t);if(4&n)return Hr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Br(t,n);{const n=t[e.index];return lt(n)?Hr(-1,n):St(n)}}if(32&n)return Cr(e,t)()||St(t[e.index]);{const n=zr(t,e);return null!==n?Array.isArray(n)?n[0]:Br(Or(t[16]),n):Br(t,e.next)}}return null}function zr(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Hr(t,e){const n=10+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Br(t,r)}return e[7]}function qr(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],c=n.type;if(o&&0===e&&(a&&br(St(a),r),n.flags|=4),64!=(64&n.flags))if(8&c)qr(t,e,n.child,r,i,s,!1),Er(e,t,i,a,s);else if(32&c){const o=Cr(n,r);let c;for(;c=o();)Er(e,t,i,c,s);Er(e,t,i,a,s)}else 16&c?Gr(t,e,r,n,i,s):Er(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Yr(t,e,n,r,i,s){qr(n,r,t.firstChild,e,i,s,!1)}function Gr(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)Er(e,t,i,a[c],s);else qr(t,e,a,o[3],i,s,!0)}function Wr(t,e,n){Ot(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function $r(t,e,n){Ot(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Kr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}function Xr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Kr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Qr(t){return 4===t.type&&"ng-template"!==t.value}function Zr(t,e,n){return e===(4!==t.type||n?t.value:"ng-template")}function Jr(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Se(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!Zr(t,c,n)||""===c&&1===e.length){if(ti(r))return!1;o=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!Xr(t.attrs,l,n)){if(ti(r))return!1;o=!0}continue}const u=ei(8&r?"class":c,i,Qr(t),n);if(-1===u){if(ti(r))return!1;o=!0;continue}if(""!==l){let t;t=u>s?"":i[u+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Kr(e,l,0)||2&r&&l!==t){if(ti(r))return!1;o=!0}}}}else{if(!o&&!ti(r)&&!ti(c))return!1;if(o&&ti(c))continue;o=!1,r=c|1&r}}return ti(r)||o}function ti(t){return 0==(1&t)}function ei(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ni(t,e,n=!1){for(let r=0;r<e.length;r++)if(Jr(t,e[r],n))return!0;return!1}function ri(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function ii(t,e){return t?":not("+e.trim()+")":e}function si(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||ti(o)||(e+=ii(s,i),i=""),r=o,s=s||!ti(r);n++}return""!==i&&(e+=ii(s,i)),e}const oi={};function ai(t){ci(Ut(),Vt(),de()+t,Wt())}function ci(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&ye(e,r,n)}else{const r=t.preOrderHooks;null!==r&&_e(e,r,0,n)}fe(n)}function li(t,e){return t<<17|e<<2}function ui(t){return t>>17&32767}function hi(t){return 2|t}function di(t){return(131068&t)>>2}function fi(t,e){return-131069&t|e<<2}function pi(t){return 1|t}function mi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];re(i),n.contentQueries(2,e[s],s)}}}function gi(t,e,n,r,i,s,o,a,c,l){const u=e.blueprint.slice();return u[0]=i,u[2]=140|r,Nt(u),u[3]=u[15]=t,u[8]=n,u[10]=o||t&&t[10],u[11]=a||t&&t[11],u[12]=c||t&&t[12]||null,u[9]=l||t&&t[9]||null,u[6]=s,u[16]=2==e.type?t[16]:u,u}function bi(t,e,n,r,i){let s=t.data[e];if(null===s)s=function(t,e,n,r,i){const s=Ht(),o=Yt(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(t,e,n,r,i),Ft.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const t=function(){const t=Ft.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===t?-1:t.injectorIndex}return qt(s,!0),s}function yi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function _i(t,e,n){oe(e);try{const r=t.viewQuery;null!==r&&Ki(1,r,n);const i=t.template;null!==i&&Ci(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&mi(t,e),t.staticViewQueries&&Ki(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)qi(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,he()}}function vi(t,e,n,r){const i=e[2];if(256==(256&i))return;oe(e);const s=Wt();try{Nt(e),Ft.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Ci(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&ye(e,n,null)}else{const n=t.preOrderHooks;null!==n&&_e(e,n,0,null),ve(e,0)}if(function(t){for(let e=kr(t);null!==e;e=Sr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Lt(r,1),n[2]|=1024}}}(e),function(t){for(let e=kr(t);null!==e;e=Sr(e))for(let t=10;t<e.length;t++){const n=e[t],r=n[1];jt(n)&&vi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&mi(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&ye(e,n)}else{const n=t.contentHooks;null!==n&&_e(e,n,1),ve(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)fe(~r);else{const i=r,s=n[++t],o=n[++t];Jt(s,i),o(2,e[i])}}}finally{fe(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)zi(t,e[n])}(e,a);const c=t.viewQuery;if(null!==c&&Ki(2,c,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&ye(e,n)}else{const n=t.viewHooks;null!==n&&_e(e,n,2),ve(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Lt(e[3],-1))}finally{he()}}function wi(t,e,n,r){const i=e[10],s=!Wt(),o=Dt(e);try{s&&!o&&i.begin&&i.begin(),o&&_i(t,e,r),vi(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function Ci(t,e,n,r,i){const s=de();try{fe(-1),2&r&&e.length>20&&ci(t,e,20,Wt()),n(r,i)}finally{fe(s)}}function Oi(t,e,n){if(ut(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function ki(t,e,n){Mt()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Ne(n,e),br(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=ft(r);s&&Mi(e,n,r);const c=We(e,t,a,n);br(c,e),null!==o&&Vi(0,a-i,c,r,0,o),s&&(At(n.index,e)[8]=c)}}(t,e,n,Et(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Ft.lFrame.currentDirectiveIndex;try{fe(s);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];te(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||ji(r,i)}}finally{fe(-1),te(o)}}(t,e,n))}function Si(t,e,n=Et){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function xi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ei(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ei(t,e,n,r,i,s,o,a,c,l){const u=20+r,h=u+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:oi);return n}(u,h),f="function"==typeof l?l():l;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:f,incompleteFirstPass:!1}}function Ti(t,e,n,r){const i=Qi(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Zi(t).push(r,i.length-1))}function Ii(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Ai(t,e,n,r,i,s,o,a){const c=Et(e,n);let l,u=e.inputs;var h;!a&&null!=u&&(l=u[r])?(es(t,n,l,r,i),ht(e)&&function(t,e){const n=At(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,e.value||"",r):i,Ot(s)?s.setProperty(c,r,i):xe(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function Ri(t,e,n,r){let i=!1;if(Mt()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];ni(n,o.selectors,!1)&&(i||(i=[]),Ve(Ne(n,e),t,o.type),ft(o)?(Pi(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,Li(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,c=yi(t,e,s.length,null);for(let i=0;i<s.length;i++){const l=s[i];n.mergedAttrs=Ee(n.mergedAttrs,l.hostAttrs),Fi(t,n,e,c,l),Ni(c,l,o),null!==l.contentQueries&&(n.flags|=8),null===l.hostBindings&&null===l.hostAttrs&&0===l.hostVars||(n.flags|=128);const u=l.type.prototype;!r&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!u.ngOnChanges&&!u.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),c++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let c=e.directiveStart;c<n;c++){const t=r[c],n=t.inputs,l=null===i||Qr(e)?null:Ui(n,i);s.push(l),o=Ii(n,c,o),a=Ii(t.outputs,c,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new g("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=Ee(n.mergedAttrs,n.attrs),i}function Di(t,e,n,r,i,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function ji(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Pi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Ni(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ft(e)&&(n[""]=t)}}function Li(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Fi(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=pt(i.type)),o=new Oe(s,ft(i),null);t.blueprint[r]=o,n[r]=o,Di(t,e,0,r,yi(t,n,i.hostVars,oi),i)}function Mi(t,e,n){const r=Et(e,t),i=xi(n),s=t[10],o=Yi(t,gi(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function Vi(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function Ui(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Bi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function zi(t,e){const n=At(e,t);if(jt(n)){const t=n[1];80&n[2]?vi(t,n,t.template,n[8]):n[5]>0&&Hi(n)}}function Hi(t){for(let n=kr(t);null!==n;n=Sr(n))for(let t=10;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];vi(t,e,t.template,e[8])}else e[5]>0&&Hi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=At(e[n],t);jt(r)&&r[5]>0&&Hi(r)}}function qi(t,e){const n=At(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),_i(r,n,n[8])}function Yi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Gi(t){for(;t;){t[2]|=64;const e=Or(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Wi(t,e,n){const r=e[10];r.begin&&r.begin();try{vi(t,e,t.template,n)}catch(i){throw ts(e,i),i}finally{r.end&&r.end()}}function $i(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Rt(n),i=r[1];wi(i,r,i.template,n)}}(t[8])}function Ki(t,e,n){re(0),e(t,n)}const Xi=(()=>Promise.resolve(null))();function Qi(t){return t[7]||(t[7]=[])}function Zi(t){return t.cleanup||(t.cleanup=[])}function Ji(t,e,n){return(null===t||ft(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function ts(t,e){const n=t[9],r=n?n.get(gr,null):null;r&&r.handleError(e)}function es(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],c=e[o],l=t.data[o];null!==l.setInput?l.setInput(c,i,r,a):c[a]=i}}function ns(t,e,n){const r=xt(e,t);!function(t,e,n){Ot(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}function rs(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=h(i,t):2==s&&(r=h(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const is=new en("INJECTOR",-1);class ss{get(t,e=fn){if(e===fn){const e=new Error(`NullInjectorError: No provider for ${u(t)}!`);throw e.name="NullInjectorError",e}return e}}const os=new en("Set Injector scope."),as={},cs={},ls=[];let us;function hs(){return void 0===us&&(us=new ss),us}function ds(t,e=null,n=null,r){return new fs(t,n,e||hs(),r)}class fs{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&on(e,n=>this.processProvider(n,t,e)),on([t],t=>this.processInjectorType(t,[],i)),this.records.set(is,gs(void 0,this));const s=this.records.get(os);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:u(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=fn,n=I.Default){this.assertNotDestroyed();const r=bn(this);try{if(!(n&I.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof en)&&C(t);e=n&&this.injectableDefInScope(n)?gs(ps(t),as):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&I.Self?hs():this.parent).get(t,e=n&I.Optional&&e===fn?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(u(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=u(e);if(Array.isArray(e))i=e.map(u).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):u(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(pn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{bn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(u(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=p(t)))return!1;let r=k(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=k(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{on(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];on(r,t=>this.processProvider(t,n,r||ls))}}this.injectorDefTypes.add(s),this.records.set(s,gs(r.factory,as));const a=r.providers;if(null!=a&&!o){const e=t;on(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=ys(t=p(t))?t:p(t&&t.provide);const i=function(t,e,n){return bs(t)?gs(void 0,t.useValue):gs(ms(t),as)}(t);if(ys(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=gs(void 0,as,!0),e.factory=()=>wn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===as&&(e.value=cs,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function ps(t){const e=C(t),n=null!==e?e.factory:pt(t);if(null!==n)return n;const r=k(t);if(null!==r)return r.factory;if(t instanceof en)throw new Error(`Token ${u(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=ln(e,"?");throw new Error(`Can't resolve all parameters for ${u(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[S]||t[E]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function ms(t,e,n){let r;if(ys(t)){const e=p(t);return pt(e)||ps(e)}if(bs(t))r=()=>p(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...wn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>_n(p(t.useExisting));else{const e=p(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return pt(e)||ps(e);r=()=>new e(...wn(t.deps))}var i;return r}function gs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function bs(t){return null!==t&&"object"==typeof t&&mn in t}function ys(t){return"function"==typeof t}const _s=function(t,e,n){return function(t,e=null,n=null,r){const i=ds(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let vs=(()=>{class t{static create(t,e){return Array.isArray(t)?_s(t,e,""):_s(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=fn,t.NULL=new ss,t.\u0275prov=v({token:t,providedIn:"any",factory:()=>_n(is)}),t.__NG_ELEMENT_ID__=-1,t})();function ws(t,e){be(Rt(t)[1],zt())}function Cs(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(ft(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Os(t.inputs),e.declaredInputs=Os(t.declaredInputs),e.outputs=Os(t.outputs);const n=i.hostBindings;n&&xs(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&ks(t,s),o&&Ss(t,o),l(t.inputs,i.inputs),l(t.declaredInputs,i.declaredInputs),l(t.outputs,i.outputs),ft(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Cs&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ee(i.hostAttrs,n=Ee(n,i.hostAttrs))}}(r)}function Os(t){return t===B?{}:t===z?[]:t}function ks(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Ss(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function xs(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Es=null;function Ts(){if(!Es){const t=U.Symbol;if(t&&t.iterator)Es=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Es=n)}}}return Es}class Is{constructor(t){this.wrapped=t}static wrap(t){return new Is(t)}static unwrap(t){return Is.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Is}}function As(t){return!!Rs(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ts()in t)}function Rs(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ds(t,e,n){return t[e]=n}function js(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ps(t,e,n,r){const i=js(t,e,n);return js(t,e+1,r)||i}function Ns(t,e,n,r){const i=Vt();return js(i,Qt(),e)&&(Ut(),function(t,e,n,r,i,s){const o=Et(t,e);!function(t,e,n,r,i,s,o){if(null==s)Ot(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?b(s):o(s,r||"",i);Ot(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],o,s,t.value,n,r,i)}(pe(),i,t,e,n,r)),Ns}function Ls(t,e,n,r){return js(t,Qt(),n)?e+b(n)+r:oi}function Fs(t,e,n,r,i,s,o,a){const c=Vt(),l=Ut(),u=t+20,h=l.firstCreatePass?function(t,e,n,r,i,s,o,a,c){const l=e.consts,u=bi(e,t,4,o||null,Pt(l,a));Ri(e,n,u,Pt(l,c)),be(e,u);const h=u.tViews=Ei(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,n,r,i,s,o):l.data[u];qt(h,!1);const d=c[11].createComment("");Ur(l,c,d,h),br(d,c),Yi(c,c[u]=Bi(d,c,d,h)),dt(h)&&ki(l,c,h),null!=o&&Si(c,h,a)}function Ms(t){return It(Ft.lFrame.contextLView,20+t)}function Vs(t,e=I.Default){const n=Vt();return null===n?_n(t,e):ze(zt(),n,p(t),e)}function Us(t,e,n){const r=Vt();return js(r,Qt(),e)&&Ai(Ut(),pe(),r,t,e,r[11],n,!1),Us}function Bs(t,e,n,r,i){const s=i?"class":"style";es(t,n,e.inputs[s],s,r)}function zs(t,e,n,r){const i=Vt(),s=Ut(),o=20+t,a=i[11],c=i[o]=Tr(a,e,Ft.lFrame.currentNamespace),l=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,c=bi(e,t,2,i,Pt(a,s));return Ri(e,n,c,Pt(a,o)),null!==c.attrs&&rs(c,c.attrs,!1),null!==c.mergedAttrs&&rs(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,n,r):s.data[o];qt(l,!0);const u=l.mergedAttrs;null!==u&&ke(a,c,u);const h=l.classes;null!==h&&$r(a,c,h);const d=l.styles;null!==d&&Wr(a,c,d),64!=(64&l.flags)&&Ur(s,i,c,l),0===Ft.lFrame.elementDepthCount&&br(c,i),Ft.lFrame.elementDepthCount++,dt(l)&&(ki(s,i,l),Oi(s,l,i)),null!==r&&Si(i,l)}function Hs(){let t=zt();Yt()?Gt():(t=t.parent,qt(t,!1));const e=t;Ft.lFrame.elementDepthCount--;const n=Ut();n.firstCreatePass&&(be(n,t),ut(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Bs(n,e,Vt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Bs(n,e,Vt(),e.stylesWithoutHost,!1)}function qs(t,e,n,r){zs(t,e,n,r),Hs()}function Ys(t,e,n){const r=Vt(),i=Ut(),s=t+20,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=Pt(s,r),a=bi(e,t,8,"ng-container",o);return null!==o&&rs(a,o,!0),Ri(e,n,a,Pt(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];qt(o,!0);const a=r[s]=r[11].createComment("");Ur(i,r,a,o),br(a,r),dt(o)&&(ki(i,r,o),Oi(i,o,r)),null!=n&&Si(r,o)}function Gs(){let t=zt();const e=Ut();Yt()?Gt():(t=t.parent,qt(t,!1)),e.firstCreatePass&&(be(e,t),ut(t)&&e.queries.elementEnd(t))}function Ws(t,e,n){Ys(t,e,n),Gs()}function $s(){return Vt()}function Ks(t){return!!t&&"function"==typeof t.then}function Xs(t){return!!t&&"function"==typeof t.subscribe}const Qs=Xs;function Zs(t,e,n=!1,r){const i=Vt(),s=Ut(),o=zt();return to(s,i,i[11],o,t,e,n,r),Zs}function Js(t,e,n=!1,r){const i=zt(),s=Vt(),o=Ut();return to(o,s,Ji(ee(o.data),i,s),i,t,e,n,r),Js}function to(t,e,n,r,i,s,o=!1,a){const c=dt(r),l=t.firstCreatePass&&Zi(t),u=Qi(e);let h=!0;if(3&r.type){const d=Et(r,e),f=a?a(d):B,p=f.target||d,m=u.length,g=a?t=>a(St(t[r.index])).target:r.index;if(Ot(n)){let o=null;if(!a&&c&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=no(r,e,s,!1);const t=n.listen(f.name||p,i,s);u.push(s,t),l&&l.push(i,g,m,m+1)}}else s=no(r,e,s,!0),p.addEventListener(i,s,o),u.push(s),l&&l.push(i,g,m,o)}else s=no(r,e,s,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(s),o=u.length;u.push(s,t),l&&l.push(i,r.index,o,-(o+1))}}}function eo(t,e,n){try{return!1!==e(n)}catch(r){return ts(t,r),!1}}function no(t,e,n,r){return function i(s){if(s===Function)return n;const o=2&t.flags?At(t.index,e):e;0==(32&e[2])&&Gi(o);let a=eo(e,n,s),c=i.__ngNextListenerFn__;for(;c;)a=eo(e,c,s)&&a,c=c.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function ro(t=1){return function(t){return(Ft.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Ft.lFrame.contextLView))[8]}(t)}function io(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?ni(t,s,!0):ri(r,s))return i}else n=i}return n}function so(t){const e=Vt()[16][6];if(!e.projection){const n=e.projection=ln(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?io(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function oo(t,e=0,n){const r=Vt(),i=Ut(),s=bi(i,20+t,16,null,n||null);null===s.projection&&(s.projection=e),Gt(),64!=(64&s.flags)&&function(t,e,n){Gr(e[11],0,e,n,jr(t,n,e),Mr(n.parent||e[6],n,e))}(i,r,s)}const ao=[];function co(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?ui(s):di(s),c=!1;for(;0!==a&&(!1===c||o);){const n=t[a+1];lo(t[a],e)&&(c=!0,t[a+1]=r?pi(n):hi(n)),a=r?ui(n):di(n)}c&&(t[n+1]=r?hi(s):pi(s))}function lo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&dn(t,e)>=0}const uo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ho(t){return t.substring(uo.key,uo.keyEnd)}function fo(t,e){const n=uo.textEnd;return n===e?-1:(e=uo.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,uo.key=e,n),po(t,e,n))}function po(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function mo(t,e,n){return yo(t,e,n,!1),mo}function go(t,e){return yo(t,e,null,!0),go}function bo(t,e){for(let n=function(t){return function(t){uo.key=0,uo.keyEnd=0,uo.value=0,uo.valueEnd=0,uo.textEnd=t.length}(t),fo(t,po(t,0,uo.textEnd))}(e);n>=0;n=fo(e,n))un(t,ho(e),!0)}function yo(t,e,n,r){const i=Vt(),s=Ut(),o=Zt(2);s.firstUpdatePass&&vo(s,t,o,r),e!==oi&&js(i,o,e)&&Oo(s,s.data[de()],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=u(Pn(t)))),t}(e,n),r,o)}function _o(t,e){return e>=t.expandoStartIndex}function vo(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[de()],o=_o(t,n);xo(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=ee(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Co(n=wo(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=wo(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==di(r))return t[ui(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=wo(null,t,e,n[1],r),n=Co(n,e.attrs,r),function(t,e,n,r){t[ui(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Co(r,t[s].hostAttrs,n);return Co(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=ui(o),c=di(o);t[r]=n;let l,u=!1;if(Array.isArray(n)){const t=n;l=t[1],(null===l||dn(t,l)>0)&&(u=!0)}else l=n;if(i)if(0!==c){const e=ui(t[a+1]);t[r+1]=li(e,a),0!==e&&(t[e+1]=fi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=li(a,0),0!==a&&(t[a+1]=fi(t[a+1],r)),a=r;else t[r+1]=li(c,0),0===a?a=r:t[c+1]=fi(t[c+1],r),c=r;u&&(t[r+1]=hi(t[r+1])),co(t,l,r,!0),co(t,l,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&dn(s,e)>=0&&(n[r+1]=pi(n[r+1]))}(e,l,t,r,s),o=li(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function wo(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Co(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Co(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),un(t,o,!!n||e[++s]))}return void 0===t?null:t}function Oo(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const c=t.data,l=c[a+1];So(1==(1&l)?ko(c,e,n,i,di(l),o):void 0)||(So(s)||2==(2&l)&&(s=ko(c,null,n,i,a,o)),function(t,e,n,r,i){const s=Ot(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:wr.DashCase;if(null==i)s?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),e|=wr.Important),s?t.setStyle(n,r,i,e):n.style.setProperty(r,i,o?"important":"")}}}(r,o,xt(de(),n),i,s))}function ko(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const e=t[i],s=Array.isArray(e),c=s?e[1]:e,l=null===c;let u=n[i+1];u===oi&&(u=l?ao:void 0);let h=l?hn(u,r):c===r?u:void 0;if(s&&!So(h)&&(h=hn(e,r)),So(h)&&(a=h,o))return a;const d=t[i+1];i=o?ui(d):di(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=hn(t,r))}return a}function So(t){return void 0!==t}function xo(t,e){return 0!=(t.flags&(e?16:32))}function Eo(t,e=""){const n=Vt(),r=Ut(),i=t+20,s=r.firstCreatePass?bi(r,i,1,e,null):r.data[i],o=n[i]=function(t,e){return Ot(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Ur(r,n,o,s),qt(s,!1)}function To(t){return Io("",t,""),To}function Io(t,e,n){const r=Vt(),i=Ls(r,t,e,n);return i!==oi&&ns(r,de(),i),Io}function Ao(t,e,n,r,i){const s=Vt(),o=function(t,e,n,r,i,s){const o=Ps(t,Xt(),n,i);return Zt(2),o?e+b(n)+r+b(i)+s:oi}(s,t,e,n,r,i);return o!==oi&&ns(s,de(),o),Ao}function Ro(t,e,n){!function(t,e,n,r){const i=Ut(),s=Zt(2);i.firstUpdatePass&&vo(i,null,s,true);const o=Vt();if(n!==oi&&js(o,s,n)){const r=i.data[de()];if(xo(r,true)&&!_o(i,s)){let t=r.classesWithoutHost;null!==t&&(n=h(t,n||"")),Bs(i,r,o,n,true)}else!function(t,e,n,r,i,s,o,a){i===oi&&(i=ao);let c=0,l=0,u=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==u||null!==h;){const o=c<i.length?i[c+1]:void 0,d=l<s.length?s[l+1]:void 0;let f,p=null;u===h?(c+=2,l+=2,o!==d&&(p=h,f=d)):null===h||null!==u&&u<h?(c+=2,p=u):(l+=2,p=h,f=d),null!==p&&Oo(t,e,n,r,p,f,true,a),u=c<i.length?i[c]:null,h=l<s.length?s[l]:null}}(i,r,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return ao;const r=[],i=Pn(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,s)}}(un,bo,Ls(Vt(),t,e,n))}function Do(t,e,n){const r=Vt();return js(r,Qt(),e)&&Ai(Ut(),pe(),r,t,e,r[11],n,!0),Do}function jo(t,e,n){const r=Vt();if(js(r,Qt(),e)){const i=Ut(),s=pe();Ai(i,s,r,t,e,Ji(ee(i.data),s,r),n,!0)}return jo}const Po=void 0;var No=["en",[["a","p"],["AM","PM"],Po],[["AM","PM"],Po,Po],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Po,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Po,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Po,"{1} 'at' {0}",Po],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Lo={};function Fo(t,e,n){"string"!=typeof e&&(n=e,e=t[zo.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Lo[e]=t,n&&(Lo[e][zo.ExtraData]=n)}function Mo(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Bo(e);if(n)return n;const r=e.split("-")[0];if(n=Bo(r),n)return n;if("en"===r)return No;throw new Error(`Missing locale data for the locale "${t}".`)}function Vo(t){return Mo(t)[zo.CurrencyCode]||null}function Uo(t){return Mo(t)[zo.PluralCase]}function Bo(t){return t in Lo||(Lo[t]=U.ng&&U.ng.common&&U.ng.common.locales&&U.ng.common.locales[t]),Lo[t]}var zo=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});let Ho="en-US";function qo(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Ho=t.toLowerCase().replace(/_/g,"-"))}function Yo(t,e,n,r,i){if(t=p(t),Array.isArray(t))for(let s=0;s<t.length;s++)Yo(t[s],e,n,r,i);else{const s=Ut(),o=Vt();let a=ys(t)?t:p(t.provide),c=ms(t);const l=zt(),u=1048575&l.providerIndexes,h=l.directiveStart,d=l.providerIndexes>>20;if(ys(t)||!t.multi){const r=new Oe(c,i,Vs),f=$o(a,e,i?u:u+d,h);-1===f?(Ve(Ne(l,o),s,a),Go(s,t,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=$o(a,e,u+d,h),p=$o(a,e,u,u+d),m=f>=0&&n[f],g=p>=0&&n[p];if(i&&!g||!i&&!m){Ve(Ne(l,o),s,a);const u=function(t,e,n,r,i){const s=new Oe(t,n,Vs);return s.multi=[],s.index=e,s.componentProviders=0,Wo(s,i,r&&!n),s}(i?Xo:Ko,n.length,i,r,c);!i&&g&&(n[p].providerFactory=u),Go(s,t,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(u),o.push(u)}else Go(s,t,f>-1?f:p,Wo(n[i?p:f],c,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function Go(t,e,n,r){const i=ys(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function Wo(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function $o(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Ko(t,e,n,r){return Qo(this.multi,[])}function Xo(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=We(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),Qo(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],Qo(i,s);return s}function Qo(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Zo(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Ut();if(r.firstCreatePass){const i=ft(t);Yo(n,r.data,r.blueprint,i,!0),Yo(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Jo{}class ta{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${u(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let ea=(()=>{class t{}return t.NULL=new ta,t})();function na(...t){}function ra(t,e){return new sa(Et(t,e))}const ia=function(){return ra(zt(),Vt())};let sa=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=ia,t})();function oa(t){return t instanceof sa?t.nativeElement:t}class aa{}let ca=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>la(),t})();const la=function(){const t=Vt(),e=At(zt().index,t);return function(t){return t[11]}(ct(e)?e:t)};let ua=(()=>{class t{}return t.\u0275prov=v({token:t,providedIn:"root",factory:()=>null}),t})();class ha{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const da=new ha("11.2.3");class fa{constructor(){}supports(t){return As(t)}create(t){return new ma(t)}}const pa=(t,e)=>e;class ma{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||pa}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<_a(n,r,i)?e:n,o=_a(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!As(t))throw new Error(`Error trying to diff '${u(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Ts()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new ga(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ya),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ya),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ga{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ba{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class ya{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new ba,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function _a(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class va{constructor(){}supports(t){return t instanceof Map||Rs(t)}create(){return new wa}}class wa{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Rs(t)))throw new Error(`Error trying to diff '${u(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Ca(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Ca{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Oa(){return new ka([new fa])}let ka=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Oa()),deps:[[t,new Sn,new kn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=v({token:t,providedIn:"root",factory:Oa}),t})();function Sa(){return new xa([new va])}let xa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Sa()),deps:[[t,new Sn,new kn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=v({token:t,providedIn:"root",factory:Sa}),t})();function Ea(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(St(s)),lt(s))for(let t=10;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&Ea(e[1],e,n,r)}const o=n.type;if(8&o)Ea(t,e,n.child,r);else if(32&o){const t=Cr(n,e);let i;for(;i=t();)r.push(i)}else if(16&o){const t=zr(e,n);if(Array.isArray(t))r.push(...t);else{const n=Or(e[16]);Ea(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class Ta{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Ea(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(lt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Ar(t,n),cn(e,n))}this._attachedToViewContainer=!1}Rr(this._lView[1],this._lView)}onDestroy(t){Ti(this._lView[1],this._lView,null,t)}markForCheck(){Gi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Wi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){$t(!0);try{Wi(t,e,n)}finally{$t(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Yr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Ia extends Ta{constructor(t){super(t),this._view=t}detectChanges(){$i(this._view)}checkNoChanges(){!function(t){$t(!0);try{$i(t)}finally{$t(!1)}}(this._view)}get context(){return null}}const Aa=Da;let Ra=(()=>{class t{}return t.__NG_ELEMENT_ID__=Aa,t.__ChangeDetectorRef__=!0,t})();function Da(t=!1){return function(t,e,n){if(!n&&ht(t)){const n=At(t.index,e);return new Ta(n,n)}return 47&t.type?new Ta(e[16],e):null}(zt(),Vt(),t)}const ja=[new va],Pa=new ka([new fa]),Na=new xa(ja),La=function(){return Ua(zt(),Vt())};let Fa=(()=>{class t{}return t.__NG_ELEMENT_ID__=La,t})();const Ma=Fa,Va=class extends Ma{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=gi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),_i(e,n,t),new Ta(n)}};function Ua(t,e){return 4&t.type?new Va(e,t,ra(t,e)):null}class Ba{}class za{}const Ha=function(){return Ka(zt(),Vt())};let qa=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ha,t})();const Ya=qa,Ga=class extends Ya{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return ra(this._hostTNode,this._hostLView)}get injector(){return new Xe(this._hostTNode,this._hostLView)}get parentInjector(){const t=Me(this._hostTNode,this._hostLView);if(Ie(t)){const e=Re(t,this._hostLView),n=Ae(t);return new Xe(e[1].data[n+8],e)}return new Xe(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Wa(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(Ba,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(lt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Ga(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],an(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=Hr(i,s),a=n[11],c=Fr(a,s[7]);return null!==c&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,Yr(t,r,n,1,i,s)}(r,s[6],a,n,c,o),t.attachToViewContainerRef(),an($a(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Wa(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Ar(this._lContainer,e);n&&(cn($a(this._lContainer),e),Rr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Ar(this._lContainer,e);return n&&null!=cn($a(this._lContainer),e)?new Ta(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Wa(t){return t[8]}function $a(t){return t[8]||(t[8]=[])}function Ka(t,e){let n;const r=e[t.index];if(lt(r))n=r;else{let i;if(8&t.type)i=St(r);else{const n=e[11];i=n.createComment("");const r=Et(t,e);Pr(n,Fr(n,r),i,function(t,e){return Ot(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Bi(r,e,i,t),Yi(e,n)}return new Ga(n,t,e)}const Xa={};class Qa extends ea{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ot(t);return new tc(e,this.ngModule)}}function Za(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Ja=new en("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>yr});class tc extends Jo{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(si).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Za(this.componentDef.inputs)}get outputs(){return Za(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,Xa,i);return s!==Xa||r===Xa?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(aa,kt),o=i.get(ua,null),a=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=n?function(t,e,n){if(Ot(t))return t.selectRootElement(e,n===N.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Tr(s.createRenderer(null,this.componentDef),c,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),u=this.componentDef.onPush?576:528,h={components:[],scheduler:yr,clean:Xi,playerHandler:null,flags:0},d=Ei(0,null,null,1,0,null,null,null,null,null),f=gi(null,d,h,u,null,null,s,a,o,i);let p,m;oe(f);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=bi(o,20,2,"#host",null),c=a.mergedAttrs=e.hostAttrs;null!==c&&(rs(a,c,!0),null!==t&&(ke(i,t,c),null!==a.classes&&$r(i,t,a.classes),null!==a.styles&&Wr(i,t,a.styles)));const l=r.createRenderer(t,e),u=gi(n,xi(e),null,e.onPush?64:16,n[20],a,r,l,null,null);return o.firstCreatePass&&(Ve(Ne(a,n),o,e.type),Pi(o,a),Li(a,n.length,1)),Yi(n,u),n[20]=u}(l,this.componentDef,f,s,a);if(l)if(n)ke(a,l,["ng-version",da.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!ti(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&ke(a,l,t),e&&e.length>0&&$r(a,l,e.join(" "))}if(m=Tt(d,20),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=zt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Fi(t,r,e,yi(t,e,1,null),n));const i=We(e,t,r.directiveStart,r);br(i,e);const s=Et(r,e);return s&&br(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries){const t=zt();e.contentQueries(1,o,t.directiveStart)}const a=zt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(fe(a.index),Di(n[1],a,0,a.directiveStart,a.directiveEnd,e),ji(e,o)),o}(t,this.componentDef,f,h,[ws]),_i(d,f,null)}finally{he()}return new ec(this.componentType,p,ra(m,f),f,m)}}class ec extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Ia(r),this.componentType=t}get injector(){return new Xe(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const nc=new Map;class rc extends Ba{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Qa(this);const n=at(t),r=t[W]||null;r&&qo(r),this._bootstrapComponents=vr(n.bootstrap),this._r3Injector=ds(t,e,[{provide:Ba,useValue:this},{provide:ea,useValue:this.componentFactoryResolver}],u(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=vs.THROW_IF_NOT_FOUND,n=I.Default){return t===vs||t===Ba||t===is?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class ic extends za{constructor(t){super(),this.moduleType=t,null!==at(t)&&function(t){const e=new Set;!function t(n){const r=at(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${u(e)} vs ${u(e.name)}`)}(i,nc.get(i),n),nc.set(i,n));const s=vr(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new rc(this.moduleType,t)}}function sc(t,e,n){const r=Kt()+t,i=Vt();return i[r]===oi?Ds(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function oc(t,e,n,r){return lc(Vt(),Kt(),t,e,n,r)}function ac(t,e,n,r,i){return function(t,e,n,r,i,s,o){const a=e+n;return Ps(t,a,i,s)?Ds(t,a+2,o?r.call(o,i,s):r(i,s)):cc(t,a+2)}(Vt(),Kt(),t,e,n,r,i)}function cc(t,e){const n=t[e];return n===oi?void 0:n}function lc(t,e,n,r,i,s){const o=e+n;return js(t,o,i)?Ds(t,o+1,s?r.call(s,i):r(i)):cc(t,o+1)}function uc(t,e){const n=Ut();let r;const i=t+20;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new g("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=pt(r.type)),o=R(Vs);try{const t=je(!1),e=s();return je(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Vt(),i,e),e}finally{R(o)}}function hc(t,e,n){const r=t+20,i=Vt(),s=It(i,r);return function(t,e){return Is.isWrapped(e)&&(e=Is.unwrap(e),t[Xt()]=oi),e}(i,function(t,e){return t[1].data[e].pure}(i,r)?lc(i,Kt(),e,s.transform,n,s):s.transform(n))}const dc=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,s=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(s=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,s,o);return t instanceof i.a&&t.add(a),a}};function fc(){return this._results[Ts()]()}class pc{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Ts(),n=pc.prototype;n[e]||(n[e]=fc)}get changes(){return this._changes||(this._changes=new dc)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;const n=sn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(this._results,n,e))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class mc{constructor(t){this.queryList=t,this.matches=null}clone(){return new mc(this.queryList)}setDirty(){this.queryList.setDirty()}}class gc{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new gc(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Ac(t,e).matches&&this.queries[e].setDirty()}}class bc{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class yc{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new yc(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class _c{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new _c(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,vc(e,i)),this.matchTNodeWithReadOption(t,e,Ge(e,t,i,!1,!1))}else n===Fa?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Ge(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===sa||r===qa||r===Fa&&4&e.type)this.addMatch(e.index,-2);else{const n=Ge(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function vc(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function wc(t,e,n,r){return-1===n?function(t,e){return 11&t.type?ra(t,e):4&t.type?Ua(t,e):null}(e,t):-2===n?function(t,e,n){return n===sa?ra(e,t):n===Fa?Ua(e,t):n===qa?Ka(e,t):void 0}(t,e,r):We(t,t[1],n,e)}function Cc(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:wc(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function Oc(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=Cc(t,e,i,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)r.push(o[t/2]);else{const i=s[t+1],o=e[-n];for(let t=10;t<o.length;t++){const e=o[t];e[17]===e[3]&&Oc(e[1],e,i,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];Oc(n[1],n,i,r)}}}}}return r}function kc(t){const e=Vt(),n=Ut(),r=ne();re(r+1);const i=Ac(n,r);if(t.dirty&&Dt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?Oc(n,e,r,[]):Cc(n,e,i,r);t.reset(s,oa),t.notifyOnChanges()}return!0}return!1}function Sc(t,e,n){const r=Ut();r.firstCreatePass&&(Ic(r,new bc(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),Tc(r,Vt(),e)}function xc(t,e,n,r){const i=Ut();if(i.firstCreatePass){const s=zt();Ic(i,new bc(e,n,r),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}Tc(i,Vt(),n)}function Ec(){return t=Vt(),e=ne(),t[19].queries[e].queryList;var t,e}function Tc(t,e,n){const r=new pc(4==(4&n));Ti(t,e,r,r.destroy),null===e[19]&&(e[19]=new gc),e[19].queries.push(new mc(r))}function Ic(t,e,n){null===t.queries&&(t.queries=new yc),t.queries.track(new _c(e,n))}function Ac(t,e){return t.queries.getByIndex(e)}function Rc(t,e){return Ua(t,e)}function Dc(t=I.Default){const e=Da(!0);if(null!=e||t&I.Optional)return e;_("ChangeDetectorRef")}const jc=new en("Application Initializer");let Pc=(()=>{class t{constructor(t){this.appInits=t,this.resolve=na,this.reject=na,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Ks(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(_n(jc,8))},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();const Nc=new en("AppId"),Lc={provide:Nc,useFactory:function(){return`${Fc()}${Fc()}${Fc()}`},deps:[]};function Fc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Mc=new en("Platform Initializer"),Vc=new en("Platform ID"),Uc=new en("appBootstrapListener");let Bc=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();const zc=new en("LocaleId"),Hc=new en("DefaultCurrencyCode");class qc{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Yc=function(t){return new ic(t)},Gc=Yc,Wc=function(t){return Promise.resolve(Yc(t))},$c=function(t){const e=Yc(t),n=vr(at(t).declarations).reduce((t,e)=>{const n=ot(e);return n&&t.push(new tc(n)),t},[]);return new qc(e,n)},Kc=$c,Xc=function(t){return Promise.resolve($c(t))};let Qc=(()=>{class t{constructor(){this.compileModuleSync=Gc,this.compileModuleAsync=Wc,this.compileModuleAndAllComponentsSync=Kc,this.compileModuleAndAllComponentsAsync=Xc}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();const Zc=(()=>Promise.resolve(0))();function Jc(t){"undefined"==typeof Zone?Zc.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class tl{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new dc(!1),this.onMicrotaskEmpty=new dc(!1),this.onStable=new dc(!1),this.onError=new dc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=!n&&e,this.shouldCoalesceRunChangeDetection=n,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=U.requestAnimationFrame,e=U.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(U,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,rl(t),nl(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),rl(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return il(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),sl(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return il(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),sl(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,rl(t),nl(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!tl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(tl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,el,na,na);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const el={};function nl(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function rl(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function il(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function sl(t){t._nesting--,nl(t)}class ol{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new dc,this.onMicrotaskEmpty=new dc,this.onStable=new dc,this.onError=new dc}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let al=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{tl.assertNotInAngularZone(),Jc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Jc(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(_n(tl))},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})(),cl=(()=>{class t{constructor(){this._applications=new Map,dl.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return dl.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();class ll{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function ul(t){dl=t}let hl,dl=new ll,fl=!0,pl=!1;function ml(){return pl=!0,fl}function gl(){if(pl)throw new Error("Cannot enable prod mode after platform setup.");fl=!1}const bl=new en("AllowMultipleToken");class yl{constructor(t,e){this.name=t,this.token=e}}function _l(t,e,n=[]){const r=`Platform: ${e}`,i=new en(r);return(e=[])=>{let s=vl();if(!s||s.injector.get(bl,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:os,useValue:"platform"});!function(t){if(hl&&!hl.destroyed&&!hl.injector.get(bl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");hl=t.get(wl);const e=t.get(Mc,null);e&&e.forEach(t=>t())}(vs.create({providers:t,name:r}))}return function(t){const e=vl();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function vl(){return hl&&!hl.destroyed?hl:null}let wl=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new ol:("zone.js"===t?void 0:t)||new tl({enableLongStackTrace:ml(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:tl,useValue:n}];return n.run(()=>{const e=vs.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(gr,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{s.handleError(t)}});i.onDestroy(()=>{kl(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Ks(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(Pc);return t.runInitializers(),t.donePromise.then(()=>(qo(i.injector.get(zc,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Cl({},e);return function(t,e,n){const r=new ic(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Ol);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${u(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(_n(vs))},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();function Cl(t,e){return Array.isArray(e)?e.reduce(Cl,t):Object.assign(Object.assign({},t),e)}let Ol=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{tl.assertNotInAngularZone(),Jc(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{tl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(c,l.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Jo?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Ba),i=n.create(vs.NULL,[],e||n.selector,r),s=i.location.nativeElement,o=i.injector.get(al,null),a=o&&i.injector.get(cl);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),kl(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;kl(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Uc,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(_n(tl),_n(vs),_n(gr),_n(ea),_n(Pc))},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();function kl(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Sl{}class xl{}const El={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Tl=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||El}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Il(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Il(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(_n(Qc),_n(xl,8))},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();function Il(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}class Al extends Ra{}class Rl extends Al{}const Dl=function(t){return null},jl=_l(null,"core",[{provide:Vc,useValue:"unknown"},{provide:wl,deps:[vs]},{provide:cl,deps:[]},{provide:Bc,deps:[]}]),Pl=[{provide:Ol,useClass:Ol,deps:[tl,vs,gr,ea,Pc]},{provide:Ja,deps:[tl],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Pc,useClass:Pc,deps:[[new kn,jc]]},{provide:Qc,useClass:Qc,deps:[]},Lc,{provide:ka,useFactory:function(){return Pa},deps:[]},{provide:xa,useFactory:function(){return Na},deps:[]},{provide:zc,useFactory:function(t){return qo(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new On(zc),new kn,new Sn]]},{provide:Hc,useValue:"USD"}];let Nl=(()=>{class t{constructor(t){}}return t.\u0275mod=et({type:t}),t.\u0275inj=w({factory:function(e){return new(e||t)(_n(Ol))},providers:Pl}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},l7GE:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");class i extends r.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},o9EK:function(t,e,n){"use strict";e.UUID=function(){function t(){}return t.UUID=function(){if("undefined"!=typeof window&&void 0!==window.crypto&&void 0!==window.crypto.getRandomValues){var t=new Uint16Array(8);return window.crypto.getRandomValues(t),this.pad4(t[0])+this.pad4(t[1])+"-"+this.pad4(t[2])+"-"+this.pad4(t[3])+"-"+this.pad4(t[4])+"-"+this.pad4(t[5])+this.pad4(t[6])+this.pad4(t[7])}return this.random4()+this.random4()+"-"+this.random4()+"-"+this.random4()+"-"+this.random4()+"-"+this.random4()+this.random4()+this.random4()},t.pad4=function(t){for(var e=t.toString(16);e.length<4;)e="0"+e;return e},t.random4=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},t}()},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return s}),n.d(e,"a",function(){return a});var r=n("7o/Q"),i=n("WMd4");function s(t,e=0){return function(n){return n.lift(new o(t,e))}}class o{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new c(t,this.destination)))}_next(t){this.scheduleMessage(i.a.createNext(t))}_error(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}class c{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",function(){return o}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return d}),n.d(e,"d",function(){return f});var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},c=o.INFO,l=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),u=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=l[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=c,this._logHandler=u,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function d(t){s.forEach(function(e){e.setLogLevel(t)})}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return _}),n.d(e,"d",function(){return y}),n.d(e,"e",function(){return E}),n.d(e,"f",function(){return O}),n.d(e,"g",function(){return k}),n.d(e,"h",function(){return i}),n.d(e,"i",function(){return s}),n.d(e,"j",function(){return a}),n.d(e,"k",function(){return u}),n.d(e,"l",function(){return h}),n.d(e,"m",function(){return f}),n.d(e,"n",function(){return p}),n.d(e,"o",function(){return g}),n.d(e,"p",function(){return c}),n.d(e,"q",function(){return l}),n.d(e,"r",function(){return d}),n.d(e,"s",function(){return m}),n.d(e,"t",function(){return b});var r=n("uXP2");function i(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var o=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function c(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function l(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function u(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function d(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function f(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function m(){return a().indexOf("MSAppHost/")>=0}function g(){return"indexedDB"in self&&null!=indexedDB}function b(){return new Promise(function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(s){e(s)}})}function y(){return!(!navigator||!navigator.cookieEnabled)}var _=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,v.prototype.create),s}return Object(r.d)(e,t),e}(Error),v=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?w(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",c=new _(i,a,r);return c},t}();function w(t,e){return t.replace(C,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var C=/\{\$([^}]+)}/g;function O(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function k(t,e){var n=new S(t,e);return n.subscribe.bind(n)}var S=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=x),void 0===r.error&&(r.error=x),void 0===r.complete&&(r.complete=x);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function x(){}function E(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}},qgXg:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i)},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:a,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(a))try{a.call(this)}catch(u){e=u instanceof o?c(u.errors):[u]}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(u){e=e||[],u instanceof o?e=e.concat(c(u.errors)):e.push(u)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function c(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return E}),n.d(e,"b",function(){return _}),n.d(e,"c",function(){return y}),n.d(e,"d",function(){return v}),n.d(e,"e",function(){return f}),n.d(e,"f",function(){return b}),n.d(e,"g",function(){return S}),n.d(e,"h",function(){return C}),n.d(e,"i",function(){return p}),n.d(e,"j",function(){return g}),n.d(e,"k",function(){return O});var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),c=n("fXoL"),l=n("Jgta");function u(){}class h{constructor(t,e=r.a){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",u,{},u,u)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const m=["ngOnDestroy"],g=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(m.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),b=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},y=new c.s("angularfire2.app.options"),_=new c.s("angularfire2.app.nameOrConfig");class v{}const w=new c.R("6.1.4");function C(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=l.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>l.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&k("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const O=()=>{k("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},k=(t,...e)=>{Object(c.Y)()&&"undefined"!=typeof console&&console[t](...e)};function S(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&k("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(c){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const x={provide:v,useFactory:C,deps:[y,c.B,[new c.C,_]]};let E=(()=>{class t{constructor(t){l.a.registerVersion("angularfire",w.full,t.toString()),l.a.registerVersion("angular",c.Q.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:y,useValue:e},{provide:_,useValue:n}]}}}return t.\u0275mod=c.Mb({type:t}),t.\u0275inj=c.Lb({factory:function(e){return new(e||t)(c.Yb(c.D))},providers:[x]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("7Hc7"),s=n("Y7HM");class o extends r.a{constructor(t,e=0,n=i.a){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(s.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=i.a)}static create(t,e=0,n=i.a){return new o(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(o.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new o(e,this.delay,this.scheduler).subscribe(t)}}},uXP2:function(t,e,n){"use strict";n.d(e,"d",function(){return i}),n.d(e,"a",function(){return s}),n.d(e,"c",function(){return o}),n.d(e,"f",function(){return a}),n.d(e,"b",function(){return c}),n.d(e,"e",function(){return l}),n.d(e,"j",function(){return u}),n.d(e,"g",function(){return h}),n.d(e,"h",function(){return d}),n.d(e,"i",function(){return f});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){var i,s=arguments.length,o=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,n,o):i(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}function a(t,e){return function(n,r){e(n,r,t)}}function c(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{c(r.next(t))}catch(e){s(e)}}function a(t){try{c(r.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}c((r=r.apply(t,e||[])).next())})}function l(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function h(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function d(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(h(arguments[e]));return t}function f(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("7o/Q");function i(){}var s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new c(t,this.nextOrObserver,this.error,this.complete))}}class c extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("EQ5u"),i=n("x+ZX"),s=n("XNiG");function o(){return new s.a}function a(){return t=>{return Object(i.a)()((e=o,function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,r.b);return i.source=t,i.subjectFactory=n,i})(t));var e}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new s(t))}}class s{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new o(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},z6cu:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("HDdC");function i(t,e){return new r.a(e?n=>e.schedule(s,0,{error:t,subscriber:n}):e=>e.error(t))}function s({error:t,subscriber:e}){e.error(t)}},zIRd:function(t,e,n){"use strict";var r,i,s=n("uXP2"),o=n("qOnz"),a=n("/6Yf"),c=n("q/0M"),l=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),u=new o.b("app","Firebase",l),h="@firebase/app",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new c.b("@firebase/app"),p=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.h)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw u.create("app-deleted",{appName:this.name_})},t}();p.prototype.name&&p.prototype.options||p.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name="[DEFAULT]");var a=s.name;if("string"!=typeof a||!a)throw u.create("bad-app-name",{appName:String(a)});if(Object(o.f)(e,a))throw u.create("duplicate-app",{appName:a});var c=new t(n,s,r);return e[a]=c,c},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),c=e.match(/\s|\//);if(o||c){var l=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&l.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&c&&l.push("and"),c&&l.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(l.join(" "))}s(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:c.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw u.create("invalid-log-argument");Object(c.d)(t,e)},apps:null,SDK_VERSION:"8.2.9",INTERNAL:{registerComponent:s,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(o.f)(e,t))throw u.create("no-app",{appName:t});return e[t]}function s(s){var a=s.name;if(n.has(a))return f.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===s.type?r[a]:null;if(n.set(a,s),"PUBLIC"===s.type){var c=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw u.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==s.serviceProps&&Object(o.i)(c,s.serviceProps),r[a]=c,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,s.multipleInstances?t:[])}}for(var l=0,h=Object.keys(e);l<h.length;l++)e[h[l]]._addComponent(s);return"PUBLIC"===s.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(p);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.i)(e,t)},createSubscribe:o.g,ErrorFactory:o.b,deepExtend:o.i}),e}(),g=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(o.k)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var b=self.firebase.SDK_VERSION;b&&b.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.q)()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),y.apply(void 0,t)};var _=m;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new g(t)},"PRIVATE")),t.registerVersion(h,"0.6.15",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");let i=null;function s(){return i}const o=new r.s("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Yb)(u)}const l=new r.s("Location Initialized");let u=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(o))},t.\u0275prov=Object(r.Kb)({factory:d,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function d(){return new u(Object(r.Yb)(o))}function f(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let g=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:b,token:t,providedIn:"root"}),t})();function b(t){const e=Object(r.Yb)(o).location;return new _(Object(r.Yb)(a),e&&e.origin||"")}const y=new r.s("appBaseHref");let _=(()=>{class t extends g{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return f(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(a),r.Yb(y,8))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),v=(()=>{class t extends g{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=f(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(a),r.Yb(y,8))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t{constructor(t,e){this._subject=new r.o,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(O(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,O(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(g),r.Yb(a))},t.normalizeQueryParams=m,t.joinWithSlash=f,t.stripTrailingSlash=p,t.\u0275prov=Object(r.Kb)({factory:C,token:t,providedIn:"root"}),t})();function C(){return new w(Object(r.Yb)(g),Object(r.Yb)(a))}function O(t){return t.replace(/\/index.html$/,"")}var k=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const S=r.pb;class x{}let E=(()=>{class t extends x{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(S(e||this.locale)(t)){case k.Zero:return"zero";case k.One:return"one";case k.Two:return"two";case k.Few:return"few";case k.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.w))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();function T(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}let I=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.sb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Object(r.yb)(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.u),r.Ob(r.v),r.Ob(r.l),r.Ob(r.G))},t.\u0275dir=r.Jb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class A{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let R=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new A(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new D(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new D(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.S),r.Ob(r.N),r.Ob(r.u))},t.\u0275dir=r.Jb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class D{constructor(t,e){this.record=t,this.view=e}}let j=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new P,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){N("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){N("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.S),r.Ob(r.N))},t.\u0275dir=r.Jb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class P{constructor(){this.$implicit=null,this.ngIf=null}}function N(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.yb)(e)}'.`)}class L{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let F=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),M=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new L(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.S),r.Ob(r.N),r.Ob(F,1))},t.\u0275dir=r.Jb({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),V=(()=>{class t{constructor(t,e,n){n._addDefault(new L(t,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.S),r.Ob(r.N),r.Ob(F,1))},t.\u0275dir=r.Jb({type:t,selectors:[["","ngSwitchDefault",""]]}),t})();class U{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class B{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const z=new B,H=new U;let q=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r.ub)(e))return z;if(Object(r.vb)(e))return H;throw n=t,Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.yb)(n)}'`);var n}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.ac())},t.\u0275pipe=r.Nb({name:"async",type:t,pure:!1}),t})(),Y=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[{provide:x,useClass:E}]}),t})();function G(t){return"browser"===t}function W(t){return"server"===t}let $=(()=>{class t{}return t.\u0275prov=Object(r.Kb)({token:t,providedIn:"root",factory:()=>new K(Object(r.Yb)(o),window)}),t})();class K{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=X(this.window.history)||X(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function X(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Q extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new Q,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=J||(J=document.querySelector("base"),J)?J.getAttribute("href"):null;return null==e?null:(n=e,Z||(Z=document.createElement("a")),Z.setAttribute("href",n),"/"===Z.pathname.charAt(0)?Z.pathname:"/"+Z.pathname);var n}resetBaseElement(){J=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return T(document.cookie,t)}}let Z,J=null;const tt=new r.s("TRANSITION_ID"),et=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[tt,o,r.t],multi:!0}];class nt{static init(){Object(r.ab)(new nt)}addToWindow(t){r.rb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.rb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.rb.getAllAngularRootElements=()=>t.getAllRootElements(),r.rb.frameworkStabilizers||(r.rb.frameworkStabilizers=[]),r.rb.frameworkStabilizers.push(t=>{const e=r.rb.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const rt=new r.s("EventManagerPlugins");let it=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(rt),r.Yb(r.B))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();class st{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let ot=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),at=(()=>{class t extends ot{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(o))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const ct={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},lt=/%COMP%/g;function ut(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?ut(t,i,n):(i=i.replace(lt,t),n.push(i))}return n}function ht(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let dt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new ft(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.T.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new pt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.T.ShadowDom:return new mt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=ut(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(it),r.Yb(at),r.Yb(r.c))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();class ft{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(ct[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=ct[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=ct[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.I.DashCase|r.I.Important)?t.style.setProperty(e,n,i&r.I.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.I.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ht(n)):this.eventManager.addEventListener(t,e,ht(n))}}class pt extends ft{constructor(t,e,n,r){super(t),this.component=n;const i=ut(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(lt,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(lt,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class mt extends ft{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=ut(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let gt=(()=>{class t extends st{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(o))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const bt=["alt","control","meta","shift"],yt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_t={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},vt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let wt=(()=>{class t extends st{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(bt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&_t.hasOwnProperty(e)&&(e=_t[e]))}return yt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),bt.forEach(r=>{r!=n&&(0,vt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(o))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),Ct=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:function(){return Object(r.Yb)(Ot)},token:t,providedIn:"root"}),t})(),Ot=(()=>{class t extends Ct{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.K.NONE:return e;case r.K.HTML:return Object(r.gb)(e,"HTML")?Object(r.zb)(e):Object(r.eb)(this._doc,String(e)).toString();case r.K.STYLE:return Object(r.gb)(e,"Style")?Object(r.zb)(e):e;case r.K.SCRIPT:if(Object(r.gb)(e,"Script"))return Object(r.zb)(e);throw new Error("unsafe value used in a script context");case r.K.URL:return Object(r.qb)(e),Object(r.gb)(e,"URL")?Object(r.zb)(e):Object(r.fb)(String(e));case r.K.RESOURCE_URL:if(Object(r.gb)(e,"ResourceURL"))return Object(r.zb)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(r.hb)(t)}bypassSecurityTrustStyle(t){return Object(r.kb)(t)}bypassSecurityTrustScript(t){return Object(r.jb)(t)}bypassSecurityTrustUrl(t){return Object(r.lb)(t)}bypassSecurityTrustResourceUrl(t){return Object(r.ib)(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(o))},t.\u0275prov=Object(r.Kb)({factory:function(){return t=Object(r.Yb)(r.p),new Ot(t.get(o));var t},token:t,providedIn:"root"}),t})();const kt=[{provide:r.D,useValue:"browser"},{provide:r.E,useValue:function(){Q.makeCurrent(),nt.init()},multi:!0},{provide:o,useFactory:function(){return Object(r.xb)(document),document},deps:[]}],St=Object(r.U)(r.Z,"browser",kt),xt=[[],{provide:r.cb,useValue:"root"},{provide:r.n,useFactory:function(){return new r.n},deps:[]},{provide:rt,useClass:gt,multi:!0,deps:[o,r.B,r.D]},{provide:rt,useClass:wt,multi:!0,deps:[o]},[],{provide:dt,useClass:dt,deps:[it,at,r.c]},{provide:r.H,useExisting:dt},{provide:ot,useExisting:at},{provide:at,useClass:at,deps:[o]},{provide:r.O,useClass:r.O,deps:[r.B]},{provide:it,useClass:it,deps:[rt,r.B]},[]];let Et=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:tt,useExisting:r.c},et]}}}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)(r.Yb(t,12))},providers:xt,imports:[Y,r.f]}),t})();function Tt(){return new It(Object(r.Yb)(o))}let It=(()=>{class t{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(o))},t.\u0275prov=Object(r.Kb)({factory:Tt,token:t,providedIn:"root"}),t})();"undefined"!=typeof window&&window;class At{}function Rt(t,e){return{type:7,name:t,definitions:e,options:{}}}function Dt(t,e=null){return{type:4,styles:e,timings:t}}function jt(t,e=null){return{type:2,steps:t,options:e}}function Pt(t){return{type:6,styles:t,offset:null}}function Nt(t,e,n){return{type:0,name:t,styles:e,options:n}}function Lt(t){return{type:5,steps:t}}function Ft(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function Mt(t=null){return{type:9,options:t}}function Vt(t,e,n=null){return{type:11,selector:t,animation:e,options:n}}function Ut(t){Promise.resolve(null).then(t)}class Bt{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ut(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class zt{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?Ut(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function Ht(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function qt(t){switch(t.length){case 0:return new Bt;case 1:return t[0];default:return new zt(t)}}function Yt(t,e,n,r,i={},s={}){const o=[],a=[];let c=-1,l=null;if(r.forEach(t=>{const n=t.offset,r=n==c,u=r&&l||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case"*":a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}u[r]=a}),r||a.push(u),l=u,c=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function Gt(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Wt(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Wt(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Wt(n,"destroy",t)))}}function Wt(t,e,n){const r=n.totalTime,i=$t(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function $t(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Kt(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function Xt(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Qt=(t,e)=>!1,Zt=(t,e)=>!1,Jt=(t,e,n)=>[];const te=Ht();(te||"undefined"!=typeof Element)&&(Qt=(t,e)=>t.contains(e),Zt=(()=>{if(te||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Zt}})(),Jt=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let ee=null,ne=!1;function re(t){ee||(ee=("undefined"!=typeof document?document.body:null)||{},ne=!!ee.style&&"WebkitAppearance"in ee.style);let e=!0;return ee.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in ee.style,!e&&ne)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in ee.style),e}const ie=Zt,se=Qt,oe=Jt;function ae(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let ce=(()=>{class t{validateStyleProperty(t){return re(t)}matchesElement(t,e){return ie(t,e)}containsElement(t,e){return se(t,e)}query(t,e,n){return oe(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new Bt(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),le=(()=>{class t{}return t.NOOP=new ce,t})();function ue(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:he(parseFloat(e[1]),e[2])}function he(t,e){switch(e){case"s":return 1e3*t;default:return t}}function de(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=he(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=he(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function fe(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function pe(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else fe(t,n);return n}function me(t,e,n){return n?e+":"+n+";":""}function ge(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=me(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=me(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function be(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=Se(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),Ht()&&ge(t))}function ye(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=Se(e);t.style[n]=""}),Ht()&&ge(t))}function _e(t){return Array.isArray(t)?1==t.length?t[0]:jt(t):t}const ve=new RegExp("{{\\s*(.+?)\\s*}}","g");function we(t){let e=[];if("string"==typeof t){let n;for(;n=ve.exec(t);)e.push(n[1]);ve.lastIndex=0}return e}function Ce(t,e,n){const r=t.toString(),i=r.replace(ve,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function Oe(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const ke=/-+([a-z0-9])/g;function Se(t){return t.replace(ke,(...t)=>t[1].toUpperCase())}function xe(t,e){return 0===t||0===e}function Ee(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=Ie(t,e)})}}return e}function Te(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function Ie(t,e){return window.getComputedStyle(t)[e]}function Ae(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(je(i,o)),"<"!=s[0]||"*"==i&&"*"==o||e.push(je(o,i))}(t,n,e)):n.push(t),n}const Re=new Set(["true","1"]),De=new Set(["false","0"]);function je(t,e){const n=Re.has(t)||De.has(t),r=Re.has(e)||De.has(e);return(i,s)=>{let o="*"==t||t==i,a="*"==e||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?Re.has(t):De.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?Re.has(e):De.has(e)),o&&a}}const Pe=new RegExp("s*:selfs*,?","g");function Ne(t,e,n){return new Le(t).build(e,n)}class Le{constructor(t){this._driver=t}build(t,e){const n=new Fe(e);return this._resetContextStyleTimingState(n),Te(this,_e(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(Me(t)){const e=t;Object.keys(e).forEach(t=>{we(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=Oe(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=Te(this,_e(t.animation),e);return{type:1,matchers:Ae(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Ve(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>Te(this,t,e)),options:Ve(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=Te(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:Ve(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Ue(de(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=Ue(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||de(r,e),Ue(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Pt({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=Pt(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?"*"==t?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(Me(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=we(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const c=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let c=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(Me(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(Me(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),l=0;return null!=c&&(r++,l=n.offset=c),o=o||l<0||l>1,s=s||l<a,a=l,i.push(l),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const l=t.steps.length;let u=0;r>0&&r<l?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(u=1/(l-1));const h=l-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return c.forEach((t,r)=>{const s=u>0?r==h?1:u*r:i[r],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:Te(this,_e(t.animation),e),options:Ve(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Ve(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Ve(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(Pe,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,Kt(e.collectedStyles,e.currentQuerySelector,{});const o=Te(this,_e(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:Ve(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:de(t.timings,e.errors,!0);return{type:12,animation:Te(this,_e(t.animation),e),timings:n,options:null}}}class Fe{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Me(t){return!Array.isArray(t)&&"object"==typeof t}function Ve(t){var e;return t?(t=fe(t)).params&&(t.params=(e=t.params)?fe(e):null):t={},t}function Ue(t,e,n){return{duration:t,delay:e,easing:n}}function Be(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class ze{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const He=new RegExp(":enter","g"),qe=new RegExp(":leave","g");function Ye(t,e,n,r,i,s={},o={},a,c,l=[]){return(new Ge).buildKeyframes(t,e,n,r,i,s,o,a,c,l)}class Ge{buildKeyframes(t,e,n,r,i,s,o,a,c,l=[]){c=c||new ze;const u=new $e(t,e,c,r,i,l,[]);u.options=a,u.currentTimeline.setStyles([s],null,u.errors,a),Te(this,n,u);const h=u.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,u.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[Be(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?ue(n.duration):null,s=null!=n.delay?ue(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),Te(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=We);const t=ue(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>Te(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?ue(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),Te(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return de(e.params?Ce(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?ue(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=We);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),Te(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const c=e.currentTimeline;a&&c.delayNextStep(a);const l=c.currentTime;Te(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-l+(r.startTime-n.currentTimeline.startTime)}}const We={};class $e{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=We,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Ke(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=ue(n.duration)),null!=n.delay&&(r.delay=ue(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=Ce(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new $e(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=We,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new Xe(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(He,"."+this._enterClassName)).replace(qe,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class Ke{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Ke(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||"*",this._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]="*"})):pe(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=Ce(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:"*"),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=pe(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):"*"==r&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?Oe(t.values()):[],s=e.size?Oe(e.values()):[];if(n){const t=r[0],e=fe(t);t.offset=0,e.offset=1,r=[t,e]}return Be(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class Xe extends Ke{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=pe(t[0],!1);a.offset=0,i.push(a);const c=pe(t[0],!1);c.offset=Qe(o),i.push(c);const l=t.length-1;for(let r=1;r<=l;r++){let o=pe(t[r],!1);o.offset=Qe((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return Be(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function Qe(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Ze{}class Je extends Ze{normalizePropertyName(t,e){return Se(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(tn[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const tn=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function en(t,e,n,r,i,s,o,a,c,l,u,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:h,errors:d}}const nn={};class rn{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,c,l){const u=[],h=this.ast.options&&this.ast.options.params||nn,d=this.buildStyles(n,o&&o.params||nn,u),f=a&&a.params||nn,p=this.buildStyles(r,f,u),m=new Set,g=new Map,b=new Map,y="void"===r,_={params:Object.assign(Object.assign({},h),f)},v=l?[]:Ye(t,e,this.ast.animation,i,s,d,p,_,c,u);let w=0;if(v.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),u.length)return en(e,this._triggerName,n,r,y,d,p,[],[],g,b,w,u);v.forEach(t=>{const n=t.element,r=Kt(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=Kt(b,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const C=Oe(m.values());return en(e,this._triggerName,n,r,y,d,p,v,C,g,b,w)}}class sn{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=fe(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=Ce(s,r,e)),n[t]=s})}}),n}}class on{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new sn(t.style,t.options&&t.options.params||{})}),an(this.states,"true","1"),an(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new rn(t,e,this.states))}),this.fallbackTransition=new rn(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function an(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const cn=new ze;class ln{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=Ne(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=Yt(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=Ye(this._driver,e,i,"ng-enter","ng-leave",{},{},n,cn,r),s.forEach(t=>{const e=Kt(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,"*")})});const a=qt(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=$t(e,"","","");return Gt(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const un=[],hn={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},dn={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class fn{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=fe(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const pn=new fn("void");class mn{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Cn(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=Kt(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=Kt(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Cn(t,"ng-trigger"),Cn(t,"ng-trigger-"+e),a[e]=pn),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new bn(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(Cn(t,"ng-trigger"),Cn(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const c=new fn(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&c.absorbOptions(a.options),o[e]=c,a||(a=pn),"void"!==c.value&&a.value===c.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,c.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(c.value,c.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{ye(t,n),be(t,r)})}return}const l=Kt(this._engine.playersByElement,t,[]);l.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let u=i.matchTransition(a.value,c.value,t,c.params),h=!1;if(!u){if(!r)return;u=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:u,fromState:a,toState:c,player:s,isFallbackTransition:h}),h||(Cn(t,"ng-animate-queued"),s.onStart(()=>{On(t,"ng-animate-queued")})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),l.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,".ng-trigger",!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,"void",r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&qt(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(e=>{const i=e.name;if(r.has(i))return;r.add(i);const s=this._triggers[i].fallbackTransition,o=n[i]||pn,a=new fn("void"),c=new bn(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:s,fromState:o,toState:a,player:c,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==hn||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Cn(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=$t(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,Gt(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class gn{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new mn(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(yn(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!yn(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Cn(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),On(t,"ng-animate-disabled"))}removeNode(t,e,n,r){if(yn(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return yn(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return qt(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=hn,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Cn(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?qt(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new ze,r=[],i=new Map,s=[],o=new Map,a=new Map,c=new Map,l=new Set;this.disabledNodes.forEach(t=>{l.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)l.add(e[n])});const u=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=wn(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n="ng-enter"+p++;f.set(e,n),t.forEach(t=>Cn(t,n))});const m=[],g=new Set,b=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const t=this.collectedLeaveElements[A],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):b.add(t))}const y=new Map,_=wn(h,Array.from(g));_.forEach((t,e)=>{const n="ng-leave"+p++;y.set(e,n),t.forEach(t=>Cn(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>On(t,n))}),_.forEach((t,e)=>{const n=y.get(e);t.forEach(t=>On(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const v=[],w=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(v.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const l=!u||!this.driver.containsElement(u,i),h=y.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,l);if(p.errors&&p.errors.length)w.push(p);else{if(l)return e.onStart(()=>ye(i,p.fromStyles)),e.onDestroy(()=>be(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>ye(i,p.fromStyles)),e.onDestroy(()=>be(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>Kt(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=c.get(e);r||c.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),v.forEach(t=>t.destroy()),this.reportError(t)}const C=new Map,O=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(O.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,C))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Kt(C,e,[]).push(t),t.destroy()})});const k=m.filter(t=>xn(t,a,c)),S=new Map;vn(S,this.driver,b,c,"*").forEach(t=>{xn(t,a,c)&&k.push(t)});const x=new Map;d.forEach((t,e)=>{vn(x,this.driver,new Set(t),a,"!")}),k.forEach(t=>{const e=S.get(t),n=x.get(t);S.set(t,Object.assign(Object.assign({},e),n))});const E=[],T=[],I={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(l.has(e))return s.onDestroy(()=>be(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=I;if(O.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=O.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>O.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,C,i,x,S);if(s.setRealPlayer(n),t===I)E.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=qt(e)),r.push(s)}}else ye(e,o.fromStyles),s.onDestroy(()=>be(e,o.toStyles)),T.push(s),l.has(e)&&r.push(s)}),T.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=qt(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let A=0;A<m.length;A++){const t=m[A],e=t.__ng_removed;if(On(t,"ng-leave"),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,".ng-animating",!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?kn(this,t,r):this.processLeaveNode(t)}return m.length=0,E.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),E}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||"void"==i;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,c=Kt(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)})}ye(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,c=[],l=new Set,u=new Set,h=e.timelines.map(e=>{const h=e.element;l.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new Bt(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return Sn(t,e),e}((n.get(h)||un).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=s.get(h),b=Yt(0,this._normalizer,0,e.keyframes,m,g),y=this._buildPlayer(e,b,p);if(e.subTimeline&&r&&u.add(h),f){const e=new bn(t,o,h);e.setRealPlayer(y),c.push(e)}return y});c.forEach(t=>{Kt(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),l.forEach(t=>Cn(t,"ng-animating"));const d=qt(h);return d.onDestroy(()=>{l.forEach(t=>On(t,"ng-animating")),be(a,e.toStyles)}),u.forEach(t=>{Kt(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Bt(t.duration,t.delay)}}class bn{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Bt,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Gt(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Kt(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function yn(t){return t&&1===t.nodeType}function _n(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function vn(t,e,n,r,i){const s=[];n.forEach(t=>s.push(_n(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=dn,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>_n(t,s[a++])),o}function wn(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:r.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function Cn(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function On(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function kn(t,e,n){qt(n).onDone(()=>t.processLeaveNode(e))}function Sn(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof zt?Sn(r.players,e):e.push(r)}}function xn(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class En{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new gn(t,e,n),this._timelineEngine=new ln(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=Ne(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new on(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=Xt(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=Xt(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Tn(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=An(e[0]),e.length>1&&(r=An(e[e.length-1]))):e&&(n=An(e)),n||r?new In(t,n,r):null}let In=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&be(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(be(this._element,this._initialStyles),this._endStyles&&(be(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(ye(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ye(this._element,this._endStyles),this._endStyles=null),be(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function An(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];Rn(i)&&(e=e||{},e[i]=t[i])}return e}function Rn(t){return"display"===t||"position"===t}class Dn{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=Mn(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),Fn(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Ln(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){jn(this._element,this._name,"paused")}resume(){jn(this._element,this._name,"running")}setPosition(t){const e=Pn(this._element,this._name);this._position=t*this._duration,Fn(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Ln(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=Mn(t,"").split(","),r=Nn(n,e);r>=0&&(n.splice(r,1),Fn(t,"",n.join(",")))}(this._element,this._name))}}function jn(t,e,n){Fn(t,"PlayState",n,Pn(t,e))}function Pn(t,e){const n=Mn(t,"");return n.indexOf(",")>0?Nn(n.split(","),e):Nn([n],e)}function Nn(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Ln(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function Fn(t,e,n,r){const i="animation"+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function Mn(t,e){return t.style["animation"+e]||""}class Vn{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Dn(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:Ie(this.element,n))})}this.currentSnapshot=t}}class Un extends Bt{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=ae(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class Bn{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(t){return re(t)}matchesElement(t,e){return ie(t,e)}containsElement(t,e){return se(t,e)}query(t,e,n){return oe(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>ae(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){const a=s.filter(t=>t instanceof Vn),c={};xe(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const l=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=Ee(t,e,c));if(0==n)return new Un(t,l);const u="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,u,e);document.querySelector("head").appendChild(h);const d=Tn(t,e),f=new Vn(t,e,u,n,r,i,l,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}}class zn{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Ie(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Hn{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(qn().toString()),this._cssKeyframesDriver=new Bn}validateStyleProperty(t){return re(t)}matchesElement(t,e){return ie(t,e)}containsElement(t,e){return se(t,e)}query(t,e,n){return oe(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const c={},l=s.filter(t=>t instanceof zn);xe(n,r)&&l.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const u=Tn(t,e=Ee(t,e=e.map(t=>pe(t,!1)),c));return new zn(t,e,a,u)}}function qn(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let Yn=(()=>{class t extends At{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.T.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?jt(t):t;return $n(this._renderer,null,e,"register",[n]),new Gn(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.H),r.Yb(o))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();class Gn extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Wn(this._id,t,e||{},this._renderer)}}class Wn{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return $n(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function $n(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}let Kn=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new Xn("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new Qn(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.H),r.Yb(En),r.Yb(r.B))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();class Xn{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Qn extends Xn{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return"@"!=i.charAt(0)&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let Zn=(()=>{class t extends En{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(o),r.Yb(le),r.Yb(Ze))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const Jn=new r.s("AnimationModuleType"),tr=[{provide:le,useFactory:function(){return"function"==typeof qn()?new Hn:new Bn}},{provide:Jn,useValue:"BrowserAnimations"},{provide:At,useClass:Yn},{provide:Ze,useFactory:function(){return new Je}},{provide:En,useClass:Zn},{provide:r.H,useFactory:function(t,e,n){return new Kn(t,e,n)},deps:[dt,En,r.B]}];let er=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:tr,imports:[Et]}),t})();var nr=n("HDdC"),rr=n("DH7j"),ir=n("lJxs"),sr=n("XoHu"),or=n("Cfvw");function ar(...t){if(1===t.length){const e=t[0];if(Object(rr.a)(e))return cr(e,null);if(Object(sr.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return cr(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return cr(t=1===t.length&&Object(rr.a)(t[0])?t[0]:t,null).pipe(Object(ir.a)(t=>e(...t)))}return cr(t,null)}function cr(t,e){return new nr.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const c=Object(or.a)(t[a]);let l=!1;n.add(c.subscribe({next:t=>{l||(l=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&l||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const lr=new r.s("NgValueAccessor"),ur={provide:lr,useExisting:Object(r.W)(()=>hr),multi:!0};let hr=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.G),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.bc("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[r.Cb([ur])]}),t})();const dr={provide:lr,useExisting:Object(r.W)(()=>pr),multi:!0},fr=new r.s("CompositionEventMode");let pr=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.G),r.Ob(r.l),r.Ob(fr,8))},t.\u0275dir=r.Jb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.bc("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.Cb([dr])]}),t})();function mr(t){return null==t||0===t.length}function gr(t){return null!=t&&"number"==typeof t.length}const br=new r.s("NgValidators"),yr=new r.s("NgAsyncValidators"),_r=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class vr{static min(t){return e=>{if(mr(e.value)||mr(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(mr(e.value)||mr(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return mr(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return mr(t.value)||_r.test(t.value)?null:{email:!0}}static minLength(t){return e=>mr(e.value)||!gr(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>gr(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return vr.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(mr(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(wr);return 0==e.length?null:function(t){return Or(kr(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(wr);return 0==e.length?null:function(t){return ar(kr(t,e).map(Cr)).pipe(Object(ir.a)(Or))}}}function wr(t){return null!=t}function Cr(t){const e=Object(r.ub)(t)?Object(or.a)(t):t;return Object(r.tb)(e),e}function Or(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function kr(t,e){return e.map(e=>e(t))}function Sr(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function xr(t){return null!=t?vr.compose(Sr(t)):null}function Er(t){return null!=t?vr.composeAsync(Sr(t)):null}function Tr(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Ir(t){return t._rawValidators}function Ar(t){return t._rawAsyncValidators}let Rr=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=xr(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Er(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t}),t})(),Dr=(()=>{class t extends Rr{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return jr(e||t)},t.\u0275dir=r.Jb({type:t,features:[r.Ab]}),t})();const jr=r.Wb(Dr);class Pr extends Rr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Nr{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}let Lr=(()=>{class t extends Nr{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Pr,2))},t.\u0275dir=r.Jb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Gb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.Ab]}),t})(),Fr=(()=>{class t extends Nr{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Dr,10))},t.\u0275dir=r.Jb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Gb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.Ab]}),t})();const Mr={provide:lr,useExisting:Object(r.W)(()=>Vr),multi:!0};let Vr=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.G),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.bc("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.Cb([Mr])]}),t})();const Ur={provide:lr,useExisting:Object(r.W)(()=>zr),multi:!0};let Br=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),zr=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Pr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.G),r.Ob(r.l),r.Ob(Br),r.Ob(r.t))},t.\u0275dir=r.Jb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.bc("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.Cb([Ur])]}),t})();const Hr={provide:lr,useExisting:Object(r.W)(()=>qr),multi:!0};let qr=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.G),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.bc("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.Cb([Hr])]}),t})();const Yr={provide:lr,useExisting:Object(r.W)(()=>Gr),multi:!0};let Gr=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.G),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.bc("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.Cb([Yr])]}),t})();const Wr={provide:lr,useExisting:Object(r.W)(()=>$r),multi:!0};let $r=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.G),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.bc("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.Cb([Wr])]}),t})();function Kr(t,e){Zr(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&ti(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&ti(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Xr(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Jr(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Qr(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Zr(t,e,n){const r=Ir(t);null!==e.validator?t.setValidators(Tr(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=Ar(t);if(null!==e.asyncValidator?t.setAsyncValidators(Tr(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();Qr(e._rawValidators,n),Qr(e._rawAsyncValidators,n)}}function Jr(t,e,n){let r=!1;if(null!==t){if(null!==e.validator){const n=Ir(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.validator);i.length!==n.length&&(r=!0,t.setValidators(i))}}if(null!==e.asyncValidator){const n=Ar(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.asyncValidator);i.length!==n.length&&(r=!0,t.setAsyncValidators(i))}}}if(n){const t=()=>{};Qr(e._rawValidators,t),Qr(e._rawAsyncValidators,t)}return r}function ti(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function ei(t,e){Zr(t,e,!1)}function ni(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}const ri=[hr,qr,Vr,Gr,$r,zr];function ii(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function si(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{var e;t.constructor===pr?n=t:(e=t,ri.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}function oi(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function ai(t){return(hi(t)?t.validators:t)||null}function ci(t){return Array.isArray(t)?xr(t):t||null}function li(t,e){return(hi(e)?e.asyncValidators:t)||null}function ui(t){return Array.isArray(t)?Er(t):t||null}function hi(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class di{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=ci(this._rawValidators),this._composedAsyncValidatorFn=ui(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=ci(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=ui(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;const e=Cr(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof pi?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof mi&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.o,this.statusChanges=new r.o}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){hi(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class fi extends di{constructor(t=null,e,n){super(ai(e),li(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){oi(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){oi(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class pi extends di{constructor(t,e,n){super(ai(e),li(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof fi?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class mi extends di{constructor(t,e,n){super(ai(e),li(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof fi?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const gi={provide:Dr,useExisting:Object(r.W)(()=>yi)},bi=(()=>Promise.resolve(null))();let yi=(()=>{class t extends Dr{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.o,this.form=new pi({},xr(t),Er(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){bi.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),Kr(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){bi.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),oi(this._directives,t)})}addFormGroup(t){bi.then(()=>{const e=this._findContainer(t.path),n=new pi({});ei(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){bi.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){bi.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,ii(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(br,10),r.Ob(yr,10))},t.\u0275dir=r.Jb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.bc("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Cb([gi]),r.Ab]}),t})(),_i=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const vi=new r.s("NgModelWithFormControlWarning"),wi={provide:Pr,useExisting:Object(r.W)(()=>Ci)};let Ci=(()=>{class t extends Pr{constructor(t,e,n,i){super(),this._ngModelWarningConfig=i,this.update=new r.o,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(e),this.valueAccessor=si(0,n)}set isDisabled(t){}ngOnChanges(t){if(this._isControlChanged(t)){const e=t.form.previousValue;e&&Xr(e,this,!1),Kr(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}ni(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Xr(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(br,10),r.Ob(yr,10),r.Ob(lr,10),r.Ob(vi,8))},t.\u0275dir=r.Jb({type:t,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[r.Cb([wi]),r.Ab,r.Bb]}),t._ngModelWarningSentOnce=!1,t})();const Oi={provide:Dr,useExisting:Object(r.W)(()=>ki)};let ki=(()=>{class t extends Dr{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.o,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Jr(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return Kr(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){Xr(t.control||null,t,!1),oi(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,ii(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(Xr(t.control||null,t),e&&Kr(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);ei(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return Jr(t,e,!1)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Zr(this.form,this,!1),this._oldForm&&Jr(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(br,10),r.Ob(yr,10))},t.\u0275dir=r.Jb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.bc("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Cb([Oi]),r.Ab,r.Bb]}),t})();const Si={provide:Pr,useExisting:Object(r.W)(()=>xi)};let xi=(()=>{class t extends Pr{constructor(t,e,n,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new r.o,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=si(0,i)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),ni(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return t=null==this.name?this.name:this.name.toString(),[...this._parent.path,t];var t}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Dr,13),r.Ob(br,10),r.Ob(yr,10),r.Ob(lr,10),r.Ob(vi,8))},t.\u0275dir=r.Jb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.Cb([Si]),r.Ab,r.Bb]}),t._ngModelWarningSentOnce=!1,t})(),Ei=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)}}),t})(),Ti=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r,i=null,s=null;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(i=null!=e.validators?e.validators:null,s=null!=e.asyncValidators?e.asyncValidators:null,r=null!=e.updateOn?e.updateOn:void 0):(i=null!=e.validator?e.validator:null,s=null!=e.asyncValidator?e.asyncValidator:null)),new pi(n,{asyncValidators:s,updateOn:r,validators:i})}control(t,e,n){return new fi(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new mi(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof fi||t instanceof pi||t instanceof mi?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),Ii=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[Br],imports:[Ei]}),t})(),Ai=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:vi,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[Ti,Br],imports:[Ei]}),t})();var Ri=n("LRne"),Di=n("5+tZ");function ji(t,e){return Object(Di.a)(t,e,1)}var Pi=n("7o/Q");function Ni(t,e){return function(n){return n.lift(new Li(t,e))}}class Li{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Fi(t,this.predicate,this.thisArg))}}class Fi extends Pi.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}class Mi{}class Vi{}class Ui{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Ui?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Ui;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Ui?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Bi{encodeKey(t){return zi(t)}encodeValue(t){return zi(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function zi(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class Hi{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Bi,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Hi({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function qi(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Yi(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Gi(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Wi{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new Ui),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new Hi,this.urlWithParams=e}serializeBody(){return null===this.body?null:qi(this.body)||Yi(this.body)||Gi(this.body)||"string"==typeof this.body?this.body:this.body instanceof Hi?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Gi(this.body)?null:Yi(this.body)?this.body.type||null:qi(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Hi?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,c=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new Wi(e,n,i,{params:c,headers:a,reportProgress:o,responseType:r,withCredentials:s})}}var $i=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class Ki{constructor(t,e=200,n="OK"){this.headers=t.headers||new Ui,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Xi extends Ki{constructor(t={}){super(t),this.type=$i.ResponseHeader}clone(t={}){return new Xi({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Qi extends Ki{constructor(t={}){super(t),this.type=$i.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Qi({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Zi extends Ki{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Ji(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let ts=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof Wi)r=t;else{let i,s;i=n.headers instanceof Ui?n.headers:new Ui(n.headers),n.params&&(s=n.params instanceof Hi?n.params:new Hi({fromObject:n.params})),r=new Wi(t,e,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(Ri.a)(r).pipe(ji(t=>this.handler.handle(t)));if(t instanceof Wi||"events"===n.observe)return i;const s=i.pipe(Ni(t=>t instanceof Qi));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe(Object(ir.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(Object(ir.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(Object(ir.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(Object(ir.a)(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new Hi).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,Ji(n,e))}post(t,e,n={}){return this.request("POST",t,Ji(n,e))}put(t,e,n={}){return this.request("PUT",t,Ji(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Mi))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();class es{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const ns=new r.s("HTTP_INTERCEPTORS");let rs=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const is=/^\)\]\}',?\n/;class ss{}let os=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),as=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new nr.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",s=new Ui(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new Xi({headers:s,status:e,statusText:r,url:o}),i},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),c=null;204!==i&&(c=void 0===n.response?n.responseText:n.response),0===i&&(i=c?200:0);let l=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof c){const t=c;c=c.replace(is,"");try{c=""!==c?JSON.parse(c):null}catch(u){c=t,l&&(l=!1,c={error:u,text:c})}}l?(e.next(new Qi({body:c,headers:r,status:i,statusText:o,url:a||void 0})),e.complete()):e.error(new Zi({error:c,headers:r,status:i,statusText:o,url:a||void 0}))},a=t=>{const{url:r}=s(),i=new Zi({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let c=!1;const l=r=>{c||(e.next(s()),c=!0);let i={type:$i.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},u=t=>{let n={type:$i.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),t.reportProgress&&(n.addEventListener("progress",l),null!==r&&n.upload&&n.upload.addEventListener("progress",u)),n.send(r),e.next({type:$i.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",o),n.removeEventListener("timeout",a),t.reportProgress&&(n.removeEventListener("progress",l),null!==r&&n.upload&&n.upload.removeEventListener("progress",u)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(ss))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const cs=new r.s("XSRF_COOKIE_NAME"),ls=new r.s("XSRF_HEADER_NAME");class us{}let hs=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=T(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(o),r.Yb(r.D),r.Yb(cs))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),ds=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(us),r.Yb(ls))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),fs=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(ns,[]);this.chain=t.reduceRight((t,e)=>new es(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Vi),r.Yb(r.t))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),ps=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:ds,useClass:rs}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:cs,useValue:e.cookieName}:[],e.headerName?{provide:ls,useValue:e.headerName}:[]]}}}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[ds,{provide:ns,useExisting:ds,multi:!0},{provide:us,useClass:hs},{provide:cs,useValue:"XSRF-TOKEN"},{provide:ls,useValue:"X-XSRF-TOKEN"}]}),t})(),ms=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[ts,{provide:Mi,useClass:fs},as,{provide:Vi,useExisting:as},os,{provide:ss,useExisting:os}],imports:[[ps.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();var gs=n("XNiG"),bs=n("9ppp");class ys extends gs.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new bs.a;return this._value}next(t){super.next(this._value=t)}}var _s=n("z+Ro"),vs=n("l7GE"),ws=n("ZUHj"),Cs=n("yCtX");const Os={};function ks(...t){let e=null,n=null;return Object(_s.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(rr.a)(t[0])&&(t=t[0]),Object(Cs.a)(t,n).lift(new Ss(e))}class Ss{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new xs(t,this.resultSelector))}}class xs extends vs.a{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Os),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(Object(ws.a)(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const s=this.values,o=this.toRespond?s[n]===Os?--this.toRespond:this.toRespond:0;s[n]=e,0===o&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Es=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Ts=n("bHdf");function Is(...t){return Object(Ts.a)(1)(Object(Ri.a)(...t))}var As=n("EY2u");function Rs(t){return new nr.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(or.a)(n):Object(As.b)()).subscribe(e)})}var Ds=n("EQ5u"),js=n("51Dv");function Ps(t,e){return"function"==typeof e?n=>n.pipe(Ps((n,r)=>Object(or.a)(t(n,r)).pipe(Object(ir.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Ns(t))}class Ns{constructor(t){this.project=t}call(t,e){return e.subscribe(new Ls(t,this.project))}}class Ls extends vs.a{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new js.a(this,e,n),s=this.destination;s.add(i),this.innerSubscription=Object(ws.a)(this,t,void 0,void 0,i),this.innerSubscription!==i&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}const Fs=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Ms(t){return e=>0===t?Object(As.b)():e.lift(new Vs(t))}class Vs{constructor(t){if(this.total=t,this.total<0)throw new Fs}call(t,e){return e.subscribe(new Us(t,this.total))}}class Us extends Pi.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Bs(...t){const e=t[t.length-1];return Object(_s.a)(e)?(t.pop(),n=>Is(t,n,e)):e=>Is(t,e)}function zs(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Hs(t,e,n))}}class Hs{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new qs(t,this.accumulator,this.seed,this.hasSeed))}}class qs extends Pi.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Ys(t){return function(e){const n=new Gs(t),r=e.lift(n);return n.caught=r}}class Gs{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Ws(t,this.selector,this.caught))}}class Ws extends vs.a{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new js.a(this,void 0,void 0);this.add(r);const i=Object(ws.a)(this,n,void 0,void 0,r);i!==r&&this.add(i)}}}function $s(t){return function(e){return 0===t?Object(As.b)():e.lift(new Ks(t))}}class Ks{constructor(t){if(this.total=t,this.total<0)throw new Fs}call(t,e){return e.subscribe(new Xs(t,this.total))}}class Xs extends Pi.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Qs(t=to){return e=>e.lift(new Zs(t))}class Zs{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Js(t,this.errorFactory))}}class Js extends Pi.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(HS){t=HS}this.destination.error(t)}}}function to(){return new Es}function eo(t=null){return e=>e.lift(new no(t))}class no{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new ro(t,this.defaultValue))}}class ro extends Pi.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var io=n("SpAZ");function so(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ni((e,n)=>t(e,n,r)):io.a,Ms(1),n?eo(e):Qs(()=>new Es))}var oo=n("vkgz"),ao=n("x+ZX"),co=n("quSY");function lo(t){return e=>e.lift(new uo(t))}class uo{constructor(t){this.callback=t}call(t,e){return e.subscribe(new ho(t,this.callback))}}class ho extends Pi.a{constructor(t,e){super(t),this.add(new co.a(e))}}class fo{constructor(t,e){this.id=t,this.url=e}}class po extends fo{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class mo extends fo{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class go extends fo{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class bo extends fo{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class yo extends fo{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _o extends fo{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vo extends fo{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class wo extends fo{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Co extends fo{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oo{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ko{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class So{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xo{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Eo{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class To{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Io{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ao{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ro(t){return new Ao(t)}function Do(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function jo(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Po(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!No(t[i],e[i]))return!1;return!0}function No(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Lo(t){return Array.prototype.concat.apply([],t)}function Fo(t){return t.length>0?t[t.length-1]:null}function Mo(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Vo(t){return Object(r.tb)(t)?t:Object(r.ub)(t)?Object(or.a)(Promise.resolve(t)):Object(Ri.a)(t)}function Uo(t,e,n){return n?function(t,e){return Po(t,e)}(t.queryParams,e.queryParams)&&Bo(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>No(t[n],e[n]))}(t.queryParams,e.queryParams)&&zo(t.root,e.root)}function Bo(t,e){if(!Wo(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Bo(t.children[n],e.children[n]))return!1}return!0}function zo(t,e){return Ho(t,e,e.segments)}function Ho(t,e,n){if(t.segments.length>n.length)return!!Wo(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!Wo(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!zo(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!Wo(t.segments,r)&&!!t.children.primary&&Ho(t.children.primary,e,i)}}class qo{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ro(this.queryParams)),this._queryParamMap}toString(){return Xo.serialize(this)}}class Yo{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Mo(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qo(this)}}class Go{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ro(this.parameters)),this._parameterMap}toString(){return ia(this)}}function Wo(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class $o{}class Ko{parse(t){const e=new la(t);return new qo(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${Zo(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${ta(e)}=${ta(t)}`).join("&"):`${ta(e)}=${ta(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Xo=new Ko;function Qo(t){return t.segments.map(t=>ia(t)).join("/")}function Zo(t,e){if(!t.hasChildren())return Qo(t);if(e){const e=t.children.primary?Zo(t.children.primary,!1):"",n=[];return Mo(t.children,(t,e)=>{"primary"!==e&&n.push(`${e}:${Zo(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return Mo(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),Mo(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>"primary"===n?[Zo(t.children.primary,!1)]:[`${n}:${Zo(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${Qo(t)}/${e[0]}`:`${Qo(t)}/(${e.join("//")})`}}function Jo(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ta(t){return Jo(t).replace(/%3B/gi,";")}function ea(t){return Jo(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function na(t){return decodeURIComponent(t)}function ra(t){return na(t.replace(/\+/g,"%20"))}function ia(t){return`${ea(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${ea(t)}=${ea(e[t])}`).join("")}`;var e}const sa=/^[^\/()?;=#]+/;function oa(t){const e=t.match(sa);return e?e[0]:""}const aa=/^[^=?&#]+/,ca=/^[^?&#]+/;class la{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Yo([],{}):new Yo([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Yo(t,e)),n}parseSegment(){const t=oa(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Go(na(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=oa(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=oa(this.remaining);t&&(n=t,this.capture(n))}t[na(e)]=na(n)}parseQueryParam(t){const e=function(t){const e=t.match(aa);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(ca);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=ra(e),i=ra(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=oa(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new Yo([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class ua{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=ha(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=ha(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=da(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return da(t,this._root).map(t=>t.value)}}function ha(t,e){if(t===e.value)return e;for(const n of e.children){const e=ha(t,n);if(e)return e}return null}function da(t,e){if(t===e.value)return[e];for(const n of e.children){const r=da(t,n);if(r.length)return r.unshift(e),r}return[]}class fa{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function pa(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class ma extends ua{constructor(t,e){super(t),this.snapshot=e,wa(this,t)}toString(){return this.snapshot.toString()}}function ga(t,e){const n=function(t,e){const n=new _a([],{},{},"",{},"primary",e,null,t.root,-1,{});return new va("",new fa(n,[]))}(t,e),r=new ys([new Go("",{})]),i=new ys({}),s=new ys({}),o=new ys({}),a=new ys(""),c=new ba(r,i,o,a,s,"primary",e,n.root);return c.snapshot=n.root,new ma(new fa(c,[]),n)}class ba{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(ir.a)(t=>Ro(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(ir.a)(t=>Ro(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ya(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class _a{constructor(t,e,n,r,i,s,o,a,c,l,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ro(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ro(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class va extends ua{constructor(t,e){super(e),this.url=t,wa(this,e)}toString(){return Ca(this._root)}}function wa(t,e){e.value._routerState=t,e.children.forEach(e=>wa(t,e))}function Ca(t){const e=t.children.length>0?` { ${t.children.map(Ca).join(", ")} } `:"";return`${t.value}${e}`}function Oa(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Po(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Po(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Po(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Po(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function ka(t,e){return Po(t.params,e.params)&&function(t,e){return Wo(t,e)&&t.every((t,n)=>Po(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||ka(t.parent,e.parent))}function Sa(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Sa(t,e,r);return Sa(t,e)})}(t,e,n);return new fa(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return xa(e,t),t}{const n=new ba(new ys((r=e.value).url),new ys(r.params),new ys(r.queryParams),new ys(r.fragment),new ys(r.data),r.outlet,r.component,r),i=e.children.map(e=>Sa(t,e));return new fa(n,i)}}var r}function xa(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)xa(t.children[n],e.children[n])}function Ea(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ta(t){return"object"==typeof t&&null!=t&&t.outlets}function Ia(t,e,n,r,i){let s={};return r&&Mo(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new qo(n.root===t?e:Aa(n.root,t,e),s,i)}function Aa(t,e,n){const r={};return Mo(t.children,(t,i)=>{r[i]=t===e?n:Aa(t,e,n)}),new Yo(t.segments,r)}class Ra{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Ea(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Ta);if(r&&r!==Fo(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Da{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function ja(t,e,n){if(t||(t=new Yo([],{})),0===t.segments.length&&t.hasChildren())return Pa(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if(Ta(o))break;const a=`${o}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&c&&"object"==typeof c&&void 0===c.outlets){if(!Ma(a,c,e))return s;r+=2}else{if(!Ma(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Yo(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Yo(t.segments.slice(r.pathIndex),t.children),Pa(e,0,i)}return r.match&&0===i.length?new Yo(t.segments,{}):r.match&&!t.hasChildren()?Na(t,e,n):r.match?Pa(t,0,i):Na(t,e,n)}function Pa(t,e,n){if(0===n.length)return new Yo(t.segments,{});{const r=function(t){return Ta(t[0])?t[0].outlets:{primary:t}}(n),i={};return Mo(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=ja(t.children[r],e,n))}),Mo(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Yo(t.segments,i)}}function Na(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Ta(s)){const t=La(s.outlets);return new Yo(r,t)}if(0===i&&Ea(n[0])){r.push(new Go(t.segments[e].path,Fa(n[0]))),i++;continue}const o=Ta(s)?s.outlets.primary:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Ea(a)?(r.push(new Go(o,Fa(a))),i+=2):(r.push(new Go(o,{})),i++)}return new Yo(r,{})}function La(t){const e={};return Mo(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Na(new Yo([],{}),0,t))}),e}function Fa(t){const e={};return Mo(t,(t,n)=>e[n]=`${t}`),e}function Ma(t,e,n){return t==n.path&&Po(e,n.parameters)}class Va{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Oa(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=pa(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Mo(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=pa(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const r=pa(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new To(t.value.snapshot))}),t.children.length&&this.forwardEvent(new xo(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Oa(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Ua(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Ua(t){Oa(t.value),t.children.forEach(Ua)}class Ba{constructor(t,e){this.routes=t,this.module=e}}function za(t){return"function"==typeof t}function Ha(t){return t instanceof qo}const qa=Symbol("INITIAL_VALUE");function Ya(){return Ps(t=>ks(t.map(t=>t.pipe(Ms(1),Bs(qa)))).pipe(zs((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==qa)return t;if(r===qa&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Ha(r))return r}return t},t)},qa),Ni(t=>t!==qa),Object(ir.a)(t=>Ha(t)?t:!0===t),Ms(1)))}let Ga=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Pb(0,"router-outlet")},directives:function(){return[Bc]},encapsulation:2}),t})();function Wa(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];$a(r,Ka(e,r))}}function $a(t,e){t.children&&Wa(t.children,e)}function Ka(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Xa(t){const e=t.children&&t.children.map(Xa),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Ga),n}function Qa(t){return t.outlet||"primary"}function Za(t,e){const n=t.filter(t=>Qa(t)===e);return n.push(...t.filter(t=>Qa(t)!==e)),n}const Ja={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function tc(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Ja):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||jo)(n,t,e);if(!i)return Object.assign({},Ja);const s={};Mo(i.posParams,(t,e)=>{s[e]=t.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function ec(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>nc(t,e,n)&&"primary"!==Qa(n))}(t,n,r)){const i=new Yo(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&"primary"!==Qa(s)){const n=new Yo([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Qa(s)]=n}return i}(t,e,r,new Yo(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>nc(t,e,n))}(t,n,r)){const s=new Yo(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(nc(t,n,a)&&!i[Qa(a)]){const n=new Yo([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Qa(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new Yo(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function nc(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function rc(t,e,n,r){return!!(Qa(t)===r||"primary"!==r&&nc(e,n,t))&&("**"===t.path||tc(e,t,n).matched)}function ic(t,e,n){return 0===e.length&&!t.children[n]}class sc{constructor(t){this.segmentGroup=t||null}}class oc{constructor(t){this.urlTree=t}}function ac(t){return new nr.a(e=>e.error(new sc(t)))}function cc(t){return new nr.a(e=>e.error(new oc(t)))}function lc(t){return new nr.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class uc{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.z)}apply(){const t=ec(this.urlTree.root,[],[],this.config).segmentGroup,e=new Yo(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,"primary").pipe(Object(ir.a)(t=>this.createUrlTree(hc(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ys(t=>{if(t instanceof oc)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof sc)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(ir.a)(e=>this.createUrlTree(hc(e),t.queryParams,t.fragment))).pipe(Ys(t=>{if(t instanceof sc)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Yo([],{primary:t}):t;return new qo(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(ir.a)(t=>new Yo([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(or.a)(r).pipe(ji(r=>{const i=n.children[r],s=Za(e,r);return this.expandSegmentGroup(t,s,i,r).pipe(Object(ir.a)(t=>({segment:t,outlet:r})))}),zs((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ni((e,n)=>t(e,n,r)):io.a,$s(1),n?eo(e):Qs(()=>new Es))}())}expandSegment(t,e,n,r,i,s){return Object(or.a)(n).pipe(ji(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(Ys(t=>{if(t instanceof sc)return Object(Ri.a)(null);throw t}))),so(t=>!!t),Ys((t,n)=>{if(t instanceof Es||"EmptyError"===t.name){if(ic(e,r,i))return Object(Ri.a)(new Yo([],{}));throw new sc(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return rc(r,e,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):ac(e):ac(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?cc(i):this.lineralizeSegments(n,i).pipe(Object(Di.a)(n=>{const i=new Yo(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:c,positionalParamSegments:l}=tc(e,r,i);if(!o)return ac(e);const u=this.applyRedirectCommands(a,r.redirectTo,l);return r.redirectTo.startsWith("/")?cc(u):this.lineralizeSegments(r,u).pipe(Object(Di.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(c)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(Ri.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(ir.a)(t=>(n._loadedConfig=t,new Yo(r,{})))):Object(Ri.a)(new Yo(r,{}));const{matched:s,consumedSegments:o,lastChild:a}=tc(e,n,r);if(!s)return ac(e);const c=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(Di.a)(t=>{const r=t.module,s=t.routes,{segmentGroup:a,slicedSegments:l}=ec(e,o,c,s),u=new Yo(a.segments,a.children);if(0===l.length&&u.hasChildren())return this.expandChildren(r,s,u).pipe(Object(ir.a)(t=>new Yo(o,t)));if(0===s.length&&0===l.length)return Object(Ri.a)(new Yo(o,{}));const h=Qa(n)===i;return this.expandSegment(r,u,s,l,h?"primary":i,!0).pipe(Object(ir.a)(t=>new Yo(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Ri.a)(new Ba(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Ri.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(Di.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(ir.a)(t=>(e._loadedConfig=t,t))):function(t){return new nr.a(e=>e.error(Do(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Ri.a)(new Ba([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(Ri.a)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&za(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!za(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return Vo(s)});return Object(Ri.a)(i).pipe(Ya(),Object(oo.a)(t=>{if(!Ha(t))return;const e=Do(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(ir.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Ri.a)(n);if(r.numberOfChildren>1||!r.children.primary)return lc(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new qo(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Mo(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return Mo(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new Yo(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function hc(t){const e={};for(const n of Object.keys(t.children)){const r=hc(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Yo(t.segments.concat(e.segments),e.children)}return t}(new Yo(t.segments,e))}class dc{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class fc{constructor(t,e){this.component=t,this.route=e}}function pc(t,e,n){const r=t._root;return gc(r,e?e._root:null,n,[r.value])}function mc(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function gc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=pa(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Wo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Wo(t.url,e.url)||!Po(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ka(t,e)||!Po(t.queryParams,e.queryParams);case"paramsChange":default:return!ka(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new dc(r)):(s.data=o.data,s._resolvedData=o._resolvedData),gc(t,e,s.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new fc(a.outlet.component,o))}else o&&bc(e,a,i),i.canActivateChecks.push(new dc(r)),gc(t,null,s.component?a?a.children:null:n,r,i)}(t,s[t.value.outlet],n,r.concat([t.value]),i),delete s[t.value.outlet]}),Mo(s,(t,e)=>bc(t,n.getContext(e),i)),i}function bc(t,e,n){const r=pa(t),i=t.value;Mo(r,(t,r)=>{bc(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new fc(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class yc{}function _c(t){return new nr.a(e=>e.error(t))}class vc{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const t=ec(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary");if(null===e)return null;const n=new _a([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new fa(n,e),i=new va(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=ya(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],s=Za(t,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=function(t){const e=[];for(const n of t){if(!wc(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return r.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return ic(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!rc(t,e,n,r))return null;let i,s=[],o=[];if("**"===t.path){const r=n.length>0?Fo(n).parameters:{};i=new _a(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,kc(t),Qa(t),t.component,t,Cc(e),Oc(e)+n.length,Sc(t))}else{const r=tc(e,t,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new _a(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,kc(t),Qa(t),t.component,t,Cc(e),Oc(e)+s.length,Sc(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:l}=ec(e,s,o,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===l.length&&c.hasChildren()){const t=this.processChildren(a,c);return null===t?null:[new fa(i,t)]}if(0===a.length&&0===l.length)return[new fa(i,[])];const u=Qa(t)===r,h=this.processSegment(a,c,l,u?"primary":r);return null===h?null:[new fa(i,h)]}}function wc(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Cc(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Oc(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function kc(t){return t.data||{}}function Sc(t){return t.resolve||{}}function xc(t){return Ps(e=>{const n=t(e);return n?Object(or.a)(n).pipe(Object(ir.a)(()=>e)):Object(Ri.a)(e)})}class Ec extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Tc=new r.s("ROUTES");class Ic{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(Object(ir.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new Ba(Lo(i.injector.get(Tc,void 0,r.r.Self|r.r.Optional)).map(Xa),i)}),Ys(t=>{throw e._loader$=void 0,t}));return e._loader$=new Ds.a(n,()=>new gs.a).pipe(Object(ao.a)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?Object(or.a)(this.loader.load(t)):Vo(t()).pipe(Object(Di.a)(t=>t instanceof r.x?Object(Ri.a)(t):Object(or.a)(this.compiler.compileModuleAsync(t))))}}class Ac{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Rc,this.attachRef=null}}class Rc{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Ac,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Dc{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function jc(t){throw t}function Pc(t,e,n){return e.parse("/")}function Nc(t,e){return Object(Ri.a)(null)}let Lc=(()=>{class t{constructor(t,e,n,i,s,o,a,c){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new gs.a,this.errorHandler=jc,this.malformedUriErrorHandler=Pc,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Nc,afterPreactivation:Nc},this.urlHandlingStrategy=new Dc,this.routeReuseStrategy=new Ec,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=s.get(r.z),this.console=s.get(r.bb);const l=s.get(r.B);this.isNgZoneEnabled=l instanceof r.B&&r.B.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new qo(new Yo([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ic(o,a,t=>this.triggerEvent(new Oo(t)),t=>this.triggerEvent(new ko(t))),this.routerState=ga(this.currentUrlTree,this.rootComponentType),this.transitions=new ys({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Ni(t=>0!==t.id),Object(ir.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Ps(t=>{let n=!1,r=!1;return Object(Ri.a)(t).pipe(Object(oo.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ps(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Ri.a)(t).pipe(Ps(t=>{const n=this.transitions.getValue();return e.next(new po(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?As.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,Ps(t=>function(t,e,n,r,i){return new uc(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(Object(ir.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(oo.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(Di.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new vc(t,e,n,r,i,s).recognize();return null===o?_c(new yc):Object(Ri.a)(o)}catch(HS){return _c(HS)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(ir.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(oo.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new yo(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new po(n,this.serializeUrl(r),i,s);e.next(a);const c=ga(r,this.rootComponentType).snapshot;return Object(Ri.a)(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),As.a}),xc(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(oo.a)(t=>{const e=new _o(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(ir.a)(t=>Object.assign(Object.assign({},t),{guards:pc(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(Di.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(Ri.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(or.a)(t).pipe(Object(Di.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(Ri.a)(!0);const o=s.map(s=>{const o=mc(s,e,i);let a;if(function(t){return t&&za(t.canDeactivate)}(o))a=Vo(o.canDeactivate(t,e,n,r));else{if(!za(o))throw new Error("Invalid CanDeactivate guard");a=Vo(o(t,e,n,r))}return a.pipe(so())});return Object(Ri.a)(o).pipe(Ya())}(t.component,t.route,n,e,r)),so(t=>!0!==t,!0))}(o,r,i,t).pipe(Object(Di.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(or.a)(e).pipe(ji(e=>Is(function(t,e){return null!==t&&e&&e(new So(t)),Object(Ri.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new Eo(t)),Object(Ri.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Rs(()=>{const i=e.guards.map(i=>{const s=mc(i,e.node,n);let o;if(function(t){return t&&za(t.canActivateChild)}(s))o=Vo(s.canActivateChild(r,t));else{if(!za(s))throw new Error("Invalid CanActivateChild guard");o=Vo(s(r,t))}return o.pipe(so())});return Object(Ri.a)(i).pipe(Ya())}));return Object(Ri.a)(i).pipe(Ya())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Ri.a)(!0);const i=r.map(r=>Rs(()=>{const i=mc(r,e,n);let s;if(function(t){return t&&za(t.canActivate)}(i))s=Vo(i.canActivate(e,t));else{if(!za(i))throw new Error("Invalid CanActivate guard");s=Vo(i(e,t))}return s.pipe(so())}));return Object(Ri.a)(i).pipe(Ya())}(t,e.route,n))),so(t=>!0!==t,!0))}(r,s,t,e):Object(Ri.a)(n)),Object(ir.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(oo.a)(t=>{if(Ha(t.guardsResult)){const e=Do(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new vo(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Ni(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new go(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),xc(t=>{if(t.guards.canActivateChecks.length)return Object(Ri.a)(t).pipe(Object(oo.a)(t=>{const e=new wo(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Ps(t=>{let n=!1;return Object(Ri.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(Di.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Ri.a)(t);let s=0;return Object(or.a)(n).pipe(ji(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Ri.a)({});const s={};return Object(or.a)(i).pipe(Object(Di.a)(i=>function(t,e,n,r){const i=mc(t,e,r);return Vo(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(oo.a)(t=>{s[i]=t}))),$s(1),Object(Di.a)(()=>Object.keys(s).length===i.length?Object(Ri.a)(s):As.a))}(t._resolve,t,e,r).pipe(Object(ir.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),ya(t,n).resolve),null)))}(t.route,e,r,i)),Object(oo.a)(()=>s++),$s(1),Object(Di.a)(e=>s===n.length?Object(Ri.a)(t):As.a))})),Object(oo.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new go(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(oo.a)(t=>{const e=new Co(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),xc(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(ir.a)(t=>{const e=function(t,e,n){const r=Sa(t,e._root,n?n._root:void 0);return new ma(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(oo.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(i=this.rootContexts,s=this.routeReuseStrategy,o=t=>this.triggerEvent(t),Object(ir.a)(t=>(new Va(s,t.targetRouterState,t.currentRouterState,o).activate(i),t))),Object(oo.a)({next(){n=!0},complete(){n=!0}}),lo(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new go(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),Ys(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Ha(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new go(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new bo(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(db){t.reject(db)}}var i;return As.a}));var i,s,o}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Wa(t),this.config=t.map(Xa),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,c=o?this.currentUrlTree.fragment:i;let l=null;switch(s){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}return null!==l&&(l=this.removeEmptyProps(l)),function(t,e,n,r,i){if(0===n.length)return Ia(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Ra(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Mo(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Ra(n,e,r)}(n);if(s.toRoot())return Ia(e.root,new Yo([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new Da(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Da(t,t===e.root,0)}const r=Ea(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Da(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?Pa(o.segmentGroup,o.index,s.commands):ja(o.segmentGroup,o.index,s.commands);return Ia(o.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,l,c)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Ha(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(HS){e=this.malformedUriErrorHandler(HS,this.urlSerializer,t)}return e}isActive(t,e){if(Ha(t))return Uo(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Uo(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new mo(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let c,l,u;i?(c=i.resolve,l=i.reject,u=i.promise):u=new Promise((t,e)=>{c=t,l=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.P),r.Yb($o),r.Yb(Rc),r.Yb(w),r.Yb(r.t),r.Yb(r.y),r.Yb(r.i),r.Yb(void 0))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),Fc=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new gs.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:Vc(this.skipLocationChange),replaceUrl:Vc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Vc(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Lc),r.Ob(ba),r.Zb("tabindex"),r.Ob(r.G),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.bc("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.Bb]}),t})(),Mc=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new gs.a,this.subscription=t.events.subscribe(t=>{t instanceof mo&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:Vc(this.skipLocationChange),replaceUrl:Vc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Vc(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Lc),r.Ob(ba),r.Ob(g))},t.\u0275dir=r.Jb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.bc("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Xb("href",e.href,r.sc),r.Eb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.Bb]}),t})();function Vc(t){return""===t||!!t}let Uc=(()=>{class t{constructor(t,e,n,r,i,s){this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=s,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof mo&&this.update()})}ngAfterContentInit(){Object(Ri.a)(this.links.changes,this.linksWithHrefs.changes,Object(Ri.a)(null)).pipe(Object(Ts.a)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=Object(or.a)(e).pipe(Object(Ts.a)()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Lc),r.Ob(r.l),r.Ob(r.G),r.Ob(r.h),r.Ob(Fc,8),r.Ob(Mc,8))},t.\u0275dir=r.Jb({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){if(1&t&&(r.Hb(n,Fc,1),r.Hb(n,Mc,1)),2&t){let t;r.oc(t=r.cc())&&(e.links=t),r.oc(t=r.cc())&&(e.linksWithHrefs=t)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[r.Bb]}),t})(),Bc=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.o,this.deactivateEvents=new r.o,this.name=i||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new zc(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Rc),r.Ob(r.S),r.Ob(r.j),r.Zb("name"),r.Ob(r.h))},t.\u0275dir=r.Jb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class zc{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===ba?this.route:t===Rc?this.childContexts:this.parent.get(t,e)}}class Hc{}class qc{preload(t,e){return Object(Ri.a)(null)}}let Yc=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Ic(e,n,e=>t.triggerEvent(new Oo(e)),e=>t.triggerEvent(new ko(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ni(t=>t instanceof mo),ji(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.z);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(or.a)(n).pipe(Object(Ts.a)(),Object(ir.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?Object(Ri.a)(e._loadedConfig):this.loader.load(t.injector,e)).pipe(Object(Di.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Lc),r.Yb(r.y),r.Yb(r.i),r.Yb(r.t),r.Yb(Hc))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),Gc=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof po?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof mo&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Io&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Io(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Lc),r.Yb($),r.Yb(void 0))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const Wc=new r.s("ROUTER_CONFIGURATION"),$c=new r.s("ROUTER_FORROOT_GUARD"),Kc=[w,{provide:$o,useClass:Ko},{provide:Lc,useFactory:function(t,e,n,r,i,o,a,c={},l,u){const h=new Lc(null,t,e,n,r,i,o,Lo(a));if(l&&(h.urlHandlingStrategy=l),u&&(h.routeReuseStrategy=u),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(c,h),c.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[$o,Rc,w,r.t,r.y,r.i,Tc,Wc,[class{},new r.C],[class{},new r.C]]},Rc,{provide:ba,useFactory:function(t){return t.routerState.root},deps:[Lc]},{provide:r.y,useClass:r.M},Yc,qc,class{preload(t,e){return e().pipe(Ys(()=>Object(Ri.a)(null)))}},{provide:Wc,useValue:{enableTracing:!1}}];function Xc(){return new r.A("Router",Lc)}let Qc=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Kc,el(e),{provide:$c,useFactory:tl,deps:[[Lc,new r.C,new r.L]]},{provide:Wc,useValue:n||{}},{provide:g,useFactory:Jc,deps:[a,[new r.q(y),new r.C],Wc]},{provide:Gc,useFactory:Zc,deps:[Lc,$,Wc]},{provide:Hc,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:qc},{provide:r.A,multi:!0,useFactory:Xc},[nl,{provide:r.d,multi:!0,useFactory:rl,deps:[nl]},{provide:sl,useFactory:il,deps:[nl]},{provide:r.b,multi:!0,useExisting:sl}]]}}static forChild(e){return{ngModule:t,providers:[el(e)]}}}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)(r.Yb($c,8),r.Yb(Lc,8))}}),t})();function Zc(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Gc(t,e,n)}function Jc(t,e,n={}){return n.useHash?new v(t,e):new _(t,e)}function tl(t){return"guarded"}function el(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Tc,multi:!0,useValue:t}]}let nl=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new gs.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Lc),r=this.injector.get(Wc);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(Ri.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Wc),n=this.injector.get(Yc),i=this.injector.get(Gc),s=this.injector.get(Lc),o=this.injector.get(r.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.t))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();function rl(t){return t.appInitializer.bind(t)}function il(t){return t.bootstrapListener.bind(t)}const sl=new r.s("Router Initializer");let ol;try{ol="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(Jj){ol=!1}let al,cl=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?G(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ol)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.D))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(r.D))},token:t,providedIn:"root"}),t})(),ll=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)}}),t})();const ul=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function hl(){if(al)return al;if("object"!=typeof document||!document)return al=new Set(ul),al;let t=document.createElement("input");return al=new Set(ul.filter(e=>(t.setAttribute("type",e),t.type===e))),al}let dl,fl;function pl(t){return function(){if(null==dl&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>dl=!0}))}finally{dl=dl||!1}return dl}()?t:!!t.capture}function ml(t){if(function(){if(null==fl){const t="undefined"!=typeof document?document.head:null;fl=!(!t||!t.createShadowRoot&&!t.attachShadow)}return fl}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function gl(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}var bl=n("D0XW");function yl(t,e=bl.a){return n=>n.lift(new _l(t,e))}class _l{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new vl(t,this.dueTime,this.scheduler))}}class vl extends Pi.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(wl,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function wl(t){t.debouncedNext()}function Cl(t){return null!=t&&"false"!=`${t}`}function Ol(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function kl(t){return Array.isArray(t)?t:[t]}function Sl(t){return null==t?"":"string"==typeof t?t:`${t}px`}function xl(t){return t instanceof r.l?t.nativeElement:t}let El=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Tl=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=xl(t);return new nr.a(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new gs.a,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(El))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(El))},token:t,providedIn:"root"}),t})(),Il=(()=>{class t{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new r.o,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Cl(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Ol(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(yl(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription&&this._currentSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Tl),r.Ob(r.l),r.Ob(r.B))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),Al=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[El]}),t})();function Rl(t,e){return(t.getAttribute(e)||"").match(/\S+/g)||[]}let Dl=0;const jl=new Map;let Pl=null,Nl=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}describe(t,e){this._canBeDescribed(t,e)&&("string"!=typeof e?(this._setMessageId(e),jl.set(e,{messageElement:e,referenceCount:0})):jl.has(e)||this._createMessageElement(e),this._isElementDescribedByMessage(t,e)||this._addMessageReference(t,e))}removeDescription(t,e){if(e&&this._isElementNode(t)){if(this._isElementDescribedByMessage(t,e)&&this._removeMessageReference(t,e),"string"==typeof e){const t=jl.get(e);t&&0===t.referenceCount&&this._deleteMessageElement(e)}Pl&&0===Pl.childNodes.length&&this._deleteMessagesContainer()}}ngOnDestroy(){const t=this._document.querySelectorAll("[cdk-describedby-host]");for(let e=0;e<t.length;e++)this._removeCdkDescribedByReferenceIds(t[e]),t[e].removeAttribute("cdk-describedby-host");Pl&&this._deleteMessagesContainer(),jl.clear()}_createMessageElement(t){const e=this._document.createElement("div");this._setMessageId(e),e.textContent=t,this._createMessagesContainer(),Pl.appendChild(e),jl.set(t,{messageElement:e,referenceCount:0})}_setMessageId(t){t.id||(t.id="cdk-describedby-message-"+Dl++)}_deleteMessageElement(t){const e=jl.get(t),n=e&&e.messageElement;Pl&&n&&Pl.removeChild(n),jl.delete(t)}_createMessagesContainer(){if(!Pl){const t=!this._platform||!this._platform.EDGE&&!this._platform.TRIDENT,e=this._document.getElementById("cdk-describedby-message-container");e&&e.parentNode&&e.parentNode.removeChild(e),Pl=this._document.createElement("div"),Pl.id="cdk-describedby-message-container",Pl.classList.add("cdk-visually-hidden"),Pl.setAttribute("aria-hidden",t+""),this._document.body.appendChild(Pl)}}_deleteMessagesContainer(){Pl&&Pl.parentNode&&(Pl.parentNode.removeChild(Pl),Pl=null)}_removeCdkDescribedByReferenceIds(t){const e=Rl(t,"aria-describedby").filter(t=>0!=t.indexOf("cdk-describedby-message"));t.setAttribute("aria-describedby",e.join(" "))}_addMessageReference(t,e){const n=jl.get(e);!function(t,e,n){const r=Rl(t,e);r.some(t=>t.trim()==n.trim())||(r.push(n.trim()),t.setAttribute(e,r.join(" ")))}(t,"aria-describedby",n.messageElement.id),t.setAttribute("cdk-describedby-host",""),n.referenceCount++}_removeMessageReference(t,e){const n=jl.get(e);n.referenceCount--,function(t,e,n){const r=Rl(t,e).filter(t=>t!=n.trim());r.length?t.setAttribute(e,r.join(" ")):t.removeAttribute(e)}(t,"aria-describedby",n.messageElement.id),t.removeAttribute("cdk-describedby-host")}_isElementDescribedByMessage(t,e){const n=Rl(t,"aria-describedby"),r=jl.get(e),i=r&&r.messageElement.id;return!!i&&-1!=n.indexOf(i)}_canBeDescribed(t,e){if(!this._isElementNode(t))return!1;if(e&&"object"==typeof e)return!0;const n=null==e?"":`${e}`.trim(),r=t.getAttribute("aria-label");return!(!n||r&&r.trim()===n)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(o),r.Yb(cl))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(o),Object(r.Yb)(cl))},token:t,providedIn:"root"}),t})();class Ll extends class{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new gs.a,this._typeaheadSubscription=co.a.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new gs.a,this.change=new gs.a,t instanceof r.F&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Object(oo.a)(t=>this._pressedLetters.push(t)),yl(t),Ni(()=>this._pressedLetters.length>0),Object(ir.a)(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let n=1;n<e.length+1;n++){const r=(this._activeItemIndex+n)%e.length,i=e[r];if(!this._skipPredicateFn(i)&&0===i.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(r);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&n){this.setNextItemActive();break}return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&n){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&n){this.setLastItemActive();break}return;default:return void((n||gl(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),r=e[n];this._activeItem=null==r?null:r,this._activeItemIndex=n}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const r=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof r.F?this._items.toArray():this._items}}{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}let Fl=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(Jj){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){if(-1===Vl(e))return!1;if(!this.isVisible(e))return!1}let r=t.nodeName.toLowerCase(),i=Vl(t);return t.hasAttribute("contenteditable")?-1!==i:"iframe"!==r&&"object"!==r&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==i:"video"===r?-1!==i&&(null!==i||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,e){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||Ml(t))}(t)&&!this.isDisabled(t)&&((null==e?void 0:e.ignoreVisibility)||this.isVisible(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(cl))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(cl))},token:t,providedIn:"root"}),t})();function Ml(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function Vl(t){if(!Ml(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Ul{constructor(t,e,n,r,i=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,i||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]):e[n].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return t?(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),t.focus(),!0):this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Ms(1)).subscribe(t)}}let Bl=(()=>{class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new Ul(t,this._checker,this._ngZone,this._document,e)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Fl),r.Yb(r.B),r.Yb(o))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(Fl),Object(r.Yb)(r.B),Object(r.Yb)(o))},token:t,providedIn:"root"}),t})();"undefined"!=typeof Element&&Element;const zl=new r.s("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),Hl=new r.s("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let ql=(()=>{class t{constructor(t,e,n,r){this._ngZone=e,this._defaultOptions=r,this._document=n,this._liveElement=t||this._createLiveElement()}announce(t,...e){const n=this._defaultOptions;let r,i;return 1===e.length&&"number"==typeof e[0]?i=e[0]:[r,i]=e,this.clear(),clearTimeout(this._previousTimeout),r||(r=n&&n.politeness?n.politeness:"polite"),null==i&&n&&(i=n.duration),this._liveElement.setAttribute("aria-live",r),this._ngZone.runOutsideAngular(()=>new Promise(e=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,e(),"number"==typeof i&&(this._previousTimeout=setTimeout(()=>this.clear(),i))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const t=this._document.getElementsByClassName("cdk-live-announcer-element"),e=this._document.createElement("div");for(let n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);return e.classList.add("cdk-live-announcer-element"),e.classList.add("cdk-visually-hidden"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),e}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(zl,8),r.Yb(r.B),r.Yb(o),r.Yb(Hl,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(zl,8),Object(r.Yb)(r.B),Object(r.Yb)(o),Object(r.Yb)(Hl,8))},token:t,providedIn:"root"}),t})();function Yl(t){return 0===t.buttons}const Gl=new r.s("cdk-focus-monitor-default-options"),Wl=pl({passive:!0,capture:!0});let $l=(()=>{class t{constructor(t,e,n,r){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=Yl(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=Kl(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=Kl(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let r=e;r;r=r.parentElement)n.call(this,t,r)},this._document=n,this._detectionMode=(null==r?void 0:r.detectionMode)||0}monitor(t,e=!1){const n=xl(t);if(!this._platform.isBrowser||1!==n.nodeType)return Object(Ri.a)(null);const r=ml(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return e&&(i.checkChildren=!0),i.subject;const s={checkChildren:e,subject:new gs.a,rootNode:r};return this._elementInfo.set(n,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(t){const e=xl(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const r=xl(t);this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n)}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=Kl(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);if(!n||!n.checkChildren&&e!==Kl(t))return;const r=this._getFocusOrigin(t);this._setClasses(e,r),this._emitOrigin(n.subject,r),this._lastFocusOrigin=r}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,Wl),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,Wl)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,Wl),t.addEventListener("mousedown",this._documentMousedownListener,Wl),t.addEventListener("touchstart",this._documentTouchstartListener,Wl),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Wl),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Wl),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,Wl),t.removeEventListener("mousedown",this._documentMousedownListener,Wl),t.removeEventListener("touchstart",this._documentTouchstartListener,Wl),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.B),r.Yb(cl),r.Yb(o,8),r.Yb(Gl,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(r.B),Object(r.Yb)(cl),Object(r.Yb)(o,8),Object(r.Yb)(Gl,8))},token:t,providedIn:"root"}),t})();function Kl(t){return t.composedPath?t.composedPath()[0]:t.target}let Xl=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove("cdk-high-contrast-active"),t.remove("cdk-high-contrast-black-on-white"),t.remove("cdk-high-contrast-white-on-black");const e=this.getHighContrastMode();1===e?(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-black-on-white")):2===e&&(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-white-on-black"))}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(cl),r.Yb(o))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(cl),Object(r.Yb)(o))},token:t,providedIn:"root"}),t})(),Ql=(()=>{class t{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)(r.Yb(Xl))},imports:[[ll,Al]]}),t})();const Zl=new r.s("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.X)(o)}});let Jl=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new r.o,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Zl,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(Zl,8))},token:t,providedIn:"root"}),t})(),tu=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)}}),t})();const eu=new r.R("10.2.7");function nu(t,e){if(1&t&&r.Pb(0,"mat-pseudo-checkbox",3),2&t){const t=r.fc();r.kc("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}const ru=["*"],iu=new r.R("10.2.7"),su=new r.s("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let ou,au=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getDocument(){const t=this._document||document;return"object"==typeof t&&t?t:null}_getWindow(){const t=this._getDocument(),e=(null==t?void 0:t.defaultView)||window;return"object"==typeof e&&e?e:null}_checksAreEnabled(){return Object(r.Y)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){const t=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),e=this._getDocument();t&&e&&!e.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){const t=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,e=this._getDocument();if(t||!e||!e.body||"function"!=typeof getComputedStyle)return;const n=e.createElement("div");n.classList.add("mat-theme-loaded-marker"),e.body.appendChild(n);const r=getComputedStyle(n);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),e.body.removeChild(n)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&iu.full!==eu.full&&console.warn("The Angular Material version ("+iu.full+") does not match the Angular CDK version ("+eu.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)(r.Yb(Xl),r.Yb(su,8),r.Yb(o,8))},imports:[[tu],tu]}),t})();function cu(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Cl(t)}}}function lu(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),e&&this._elementRef.nativeElement.classList.add(`mat-${e}`),this._color=e)}}}function uu(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Cl(t)}}}function hu(t,e=0){return class extends t{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?Ol(t):this.defaultTabIndex}}}function du(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new gs.a}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}try{ou="undefined"!=typeof Intl}catch(Jj){ou=!1}let fu=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();class pu{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const mu={enterDuration:450,exitDuration:400},gu=pl({passive:!0}),bu=["mousedown","touchstart"],yu=["mouseup","mouseleave","touchend","touchcancel"];class _u{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=xl(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},mu),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),o=t-r.left,a=e-r.top,c=i.enterDuration,l=document.createElement("div");l.classList.add("mat-ripple-element"),l.style.left=o-s+"px",l.style.top=a-s+"px",l.style.height=2*s+"px",l.style.width=2*s+"px",null!=n.color&&(l.style.backgroundColor=n.color),l.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(l),window.getComputedStyle(l).getPropertyValue("opacity"),l.style.transform="scale(1)";const u=new pu(this,l,n);return u.state=0,this._activeRipples.add(u),n.persistent||(this._mostRecentTransientRipple=u),this._runTimeoutOutsideZone(()=>{const t=u===this._mostRecentTransientRipple;u.state=1,n.persistent||t&&this._isPointerDown||u.fadeOut()},c),u}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign(Object.assign({},mu),t.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=xl(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(bu))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(yu),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=Yl(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,gu)})})}_removeTriggerEvents(){this._triggerElement&&(bu.forEach(t=>{this._triggerElement.removeEventListener(t,this,gu)}),this._pointerUpEventsRegistered&&yu.forEach(t=>{this._triggerElement.removeEventListener(t,this,gu)}))}}const vu=new r.s("mat-ripple-global-options");let wu=(()=>{class t{constructor(t,e,n,r,i){this._elementRef=t,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new _u(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(r.B),r.Ob(cl),r.Ob(vu,8),r.Ob(Jn,8))},t.\u0275dir=r.Jb({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&r.Gb("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),Cu=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[au,ll],au]}),t})(),Ou=(()=>{class t{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Jn,8))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,e){2&t&&r.Gb("mat-pseudo-checkbox-indeterminate","indeterminate"===e.state)("mat-pseudo-checkbox-checked","checked"===e.state)("mat-pseudo-checkbox-disabled",e.disabled)("_mat-animation-noopable","NoopAnimations"===e._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,e){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),t})(),ku=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)}}),t})();class Su{}const xu=cu(Su);let Eu=0,Tu=(()=>{class t extends xu{constructor(){super(...arguments),this._labelId="mat-optgroup-label-"+Eu++}}return t.\u0275fac=function(e){return Iu(e||t)},t.\u0275dir=r.Jb({type:t,inputs:{label:"label"},features:[r.Ab]}),t})();const Iu=r.Wb(Tu),Au=new r.s("MatOptgroup");let Ru=0;class Du{constructor(t,e=!1){this.source=t,this.isUserInput=e}}const ju=new r.s("MAT_OPTION_PARENT_COMPONENT");let Pu=(()=>{class t{constructor(t,e,n,i){this._element=t,this._changeDetectorRef=e,this._parent=n,this.group=i,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Ru++,this.onSelectionChange=new r.o,this._stateChanges=new gs.a}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=Cl(t)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,e){const n=this._getHostElement();"function"==typeof n.focus&&n.focus(e)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){13!==t.keyCode&&32!==t.keyCode||gl(t)||(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new Du(this,t))}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(r.h),r.Ob(void 0),r.Ob(Tu))},t.\u0275dir=r.Jb({type:t,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),t})(),Nu=(()=>{class t extends Pu{constructor(t,e,n,r){super(t,e,n,r)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(r.h),r.Ob(ju,8),r.Ob(Au,8))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,e){1&t&&r.bc("click",function(){return e._selectViaInteraction()})("keydown",function(t){return e._handleKeydown(t)}),2&t&&(r.Xb("id",e.id),r.Eb("tabindex",e._getTabIndex())("aria-selected",e._getAriaSelected())("aria-disabled",e.disabled.toString()),r.Gb("mat-selected",e.selected)("mat-option-multiple",e.multiple)("mat-active",e.active)("mat-option-disabled",e.disabled))},exportAs:["matOption"],features:[r.Ab],ngContentSelectors:ru,decls:4,vars:3,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"]],template:function(t,e){1&t&&(r.jc(),r.xc(0,nu,1,2,"mat-pseudo-checkbox",0),r.Ub(1,"span",1),r.ic(2),r.Tb(),r.Pb(3,"div",2)),2&t&&(r.kc("ngIf",e.multiple),r.Db(3),r.kc("matRippleTrigger",e._getHostElement())("matRippleDisabled",e.disabled||e.disableRipple))},directives:[j,wu,Ou],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.cdk-high-contrast-active .mat-option .mat-option-ripple{opacity:.5}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),t})();function Lu(t,e,n){if(n.length){let r=e.toArray(),i=n.toArray(),s=0;for(let e=0;e<t+1;e++)r[e].group&&r[e].group===i[s]&&s++;return s}return 0}let Fu=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[Cu,Y,ku]]}),t})();const Mu=new r.s("mat-label-global-options"),Vu=["mat-button",""],Uu=["*"],Bu=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class zu{constructor(t){this._elementRef=t}}const Hu=lu(cu(uu(zu)));let qu=(()=>{class t extends Hu{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of Bu)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",e){this._focusMonitor.focusVia(this._getHostElement(),t,e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob($l),r.Ob(Jn,8))},t.\u0275cmp=r.Ib({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){if(1&t&&r.Dc(wu,1),2&t){let t;r.oc(t=r.cc())&&(e.ripple=t.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){2&t&&(r.Eb("disabled",e.disabled||null),r.Gb("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[r.Ab],attrs:Vu,ngContentSelectors:Uu,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(r.jc(),r.Ub(0,"span",0),r.ic(1),r.Tb(),r.Pb(2,"span",1),r.Pb(3,"span",2)),2&t&&(r.Db(2),r.Gb("mat-button-ripple-round",e.isRoundButton||e.isIconButton),r.kc("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[wu],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),t})(),Yu=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[Cu,au],au]}),t})();var Gu=n("z6cu"),Wu=n("w1tV");const $u=["*"];function Ku(t){return Error(`Unable to find icon with the name "${t}"`)}function Xu(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function Qu(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class Zu{constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}}let Ju=(()=>{class t{constructor(t,e,n,r){this._httpClient=t,this._sanitizer=e,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}addSvgIconInNamespace(t,e,n,r){return this._addSvgIconConfig(t,e,new Zu(n,null,r))}addSvgIconLiteralInNamespace(t,e,n,i){const s=this._sanitizer.sanitize(r.K.HTML,n);if(!s)throw Qu(n);return this._addSvgIconConfig(t,e,new Zu("",s,i))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new Zu(e,null,n))}addSvgIconSetLiteralInNamespace(t,e,n){const i=this._sanitizer.sanitize(r.K.HTML,e);if(!i)throw Qu(e);return this._addSvgIconSetConfig(t,new Zu("",i,n))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(r.K.RESOURCE_URL,t);if(!e)throw Xu(t);const n=this._cachedIconsByUrl.get(e);return n?Object(Ri.a)(th(n)):this._loadSvgIconFromConfig(new Zu(t,null)).pipe(Object(oo.a)(t=>this._cachedIconsByUrl.set(e,t)),Object(ir.a)(t=>th(t)))}getNamedSvgIcon(t,e=""){const n=eh(e,t),r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);const i=this._iconSetConfigs.get(e);return i?this._getSvgFromIconSetConfigs(t,i):Object(Gu.a)(Ku(n))}ngOnDestroy(){this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Object(Ri.a)(th(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Object(ir.a)(t=>th(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?Object(Ri.a)(n):ar(e.filter(t=>!t.svgText).map(t=>this._loadSvgIconSetFromConfig(t).pipe(Ys(e=>{const n=this._sanitizer.sanitize(r.K.RESOURCE_URL,t.url);return this._errorHandler.handleError(new Error(`Loading icon set URL: ${n} failed: ${e.message}`)),Object(Ri.a)(null)})))).pipe(Object(ir.a)(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw Ku(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const r=e[n];if(r.svgText&&r.svgText.indexOf(t)>-1){const e=this._svgElementFromConfig(r),n=this._extractSvgIconFromSet(e,t,r.options);if(n)return n}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Object(oo.a)(e=>t.svgText=e),Object(ir.a)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Object(Ri.a)(null):this._fetchIcon(t).pipe(Object(oo.a)(e=>t.svgText=e))}_extractSvgIconFromSet(t,e,n){const r=t.querySelector(`[id="${e}"]`);if(!r)return null;const i=r.cloneNode(!0);if(i.removeAttribute("id"),"svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i,n);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i),n);const s=this._svgElementFromString("<svg></svg>");return s.appendChild(i),this._setSvgAttributes(s,n)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),n=t.attributes;for(let r=0;r<n.length;r++){const{name:t,value:i}=n[r];"id"!==t&&e.setAttribute(t,i)}for(let r=0;r<t.childNodes.length;r++)t.childNodes[r].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[r].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchIcon(t){var e;const{url:n,options:i}=t,s=null!==(e=null==i?void 0:i.withCredentials)&&void 0!==e&&e;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const o=this._sanitizer.sanitize(r.K.RESOURCE_URL,n);if(!o)throw Xu(n);const a=this._inProgressUrlFetches.get(o);if(a)return a;const c=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(lo(()=>this._inProgressUrlFetches.delete(o)),Object(Wu.a)());return this._inProgressUrlFetches.set(o,c),c}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(eh(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}_svgElementFromConfig(t){if(!t.svgElement){const e=this._svgElementFromString(t.svgText);this._setSvgAttributes(e,t.options),t.svgElement=e}return t.svgElement}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(ts,8),r.Yb(Ct),r.Yb(o,8),r.Yb(r.n))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(ts,8),Object(r.Yb)(Ct),Object(r.Yb)(o,8),Object(r.Yb)(r.n))},token:t,providedIn:"root"}),t})();function th(t){return t.cloneNode(!0)}function eh(t,e){return t+":"+e}class nh{constructor(t){this._elementRef=t}}const rh=lu(nh),ih=new r.s("mat-icon-location",{providedIn:"root",factory:function(){const t=Object(r.X)(o),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),sh=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],oh=sh.map(t=>`[${t}]`).join(", "),ah=/^url\(['"]?#(.*?)['"]?\)$/;let ch=(()=>{class t extends rh{constructor(t,e,n,r,i){super(t),this._iconRegistry=e,this._location=r,this._errorHandler=i,this._inline=!1,this._currentIconFetch=co.a.EMPTY,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Cl(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const e=this._cleanupFontValue(t);e!==this._fontSet&&(this._fontSet=e,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const e=this._cleanupFontValue(t);e!==this._fontIcon&&(this._fontIcon=e,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let r=0;r<e.length;r++)e[r].textContent+=" ";const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(oh),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<e.length;r++)sh.forEach(t=>{const i=e[r],s=i.getAttribute(t),o=s?s.match(ah):null;if(o){let e=n.get(i);e||(e=[],n.set(i,e)),e.push({name:t,value:o[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[e,n]=this._splitIconName(t);e&&(this._svgNamespace=e),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,e).pipe(Ms(1)).subscribe(t=>this._setSvgElement(t),t=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${e}:${n}! ${t.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(Ju),r.Zb("aria-hidden"),r.Ob(ih),r.Ob(r.n))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,e){2&t&&(r.Eb("data-mat-icon-type",e._usingFontIcon()?"font":"svg")("data-mat-icon-name",e._svgName||e.fontIcon)("data-mat-icon-namespace",e._svgNamespace||e.fontSet),r.Gb("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[r.Ab],ngContentSelectors:$u,decls:1,vars:0,template:function(t,e){1&t&&(r.jc(),r.ic(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),lh=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[au],au]}),t})();var uh=n("qgXg"),hh=n("pxpQ"),dh=n("Ylt2");class fh extends gs.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),super.next(t)}nextTimeWindow(t){this._events.push(new ph(this._getNow(),t)),this._trimBufferThenGetEvents(),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new bs.a;if(this.isStopped||this.hasError?s=co.a.EMPTY:(this.observers.push(t),s=new dh.a(this,t)),r&&t.add(t=new hh.a(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||uh.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class ph{constructor(t,e){this.time=t,this.value=e}}function mh(t){return e=>e.lift(new gh(t))}class gh{constructor(t){this.notifier=t}call(t,e){const n=new bh(t),r=Object(ws.a)(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class bh extends vs.a{constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,n,r,i){this.seenValue=!0,this.complete()}notifyComplete(){}}function yh(){return t=>t.lift(new _h)}class _h{call(t,e){return e.subscribe(new vh(t))}}class vh extends Pi.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}function wh(t,e){return n=>n.lift(new Ch(t,e))}class Ch{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Oh(t,this.compare,this.keySelector))}}class Oh extends Pi.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var kh=n("spgP"),Sh=n("Jgta"),xh=n("zIRd"),Eh=n("q/0M"),Th=n("qOnz"),Ih=function(t,e){return(Ih=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Ah(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Rh,Dh="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},jh=jh||{},Ph=Dh||self;function Nh(){}function Lh(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Fh(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Mh="closure_uid_"+(1e9*Math.random()>>>0),Vh=0;function Uh(t,e,n){return t.call.apply(t.bind,arguments)}function Bh(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function zh(t,e,n){return(zh=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Uh:Bh).apply(null,arguments)}function Hh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function qh(){return Date.now()}function Yh(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function Gh(){this.j=this.j,this.i=this.i}Gh.prototype.j=!1,Gh.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Mh)&&t[Mh]||(t[Mh]=++Vh)}(this)},Gh.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Wh=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},$h=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function Kh(t){return Array.prototype.concat.apply([],arguments)}function Xh(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Qh(t){return/^[\s\xa0]*$/.test(t)}var Zh,Jh=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function td(t,e){return-1!=t.indexOf(e)}function ed(t,e){return t<e?-1:t>e?1:0}t:{var nd=Ph.navigator;if(nd){var rd=nd.userAgent;if(rd){Zh=rd;break t}}Zh=""}function id(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function sd(t){var e={};for(var n in t)e[n]=t[n];return e}var od="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ad(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<od.length;s++)n=od[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function cd(t){return cd[" "](t),t}cd[" "]=Nh;var ld,ud,hd=td(Zh,"Opera"),dd=td(Zh,"Trident")||td(Zh,"MSIE"),fd=td(Zh,"Edge"),pd=fd||dd,md=td(Zh,"Gecko")&&!(td(Zh.toLowerCase(),"webkit")&&!td(Zh,"Edge"))&&!(td(Zh,"Trident")||td(Zh,"MSIE"))&&!td(Zh,"Edge"),gd=td(Zh.toLowerCase(),"webkit")&&!td(Zh,"Edge");function bd(){var t=Ph.document;return t?t.documentMode:void 0}t:{var yd="",_d=(ud=Zh,md?/rv:([^\);]+)(\)|;)/.exec(ud):fd?/Edge\/([\d\.]+)/.exec(ud):dd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ud):gd?/WebKit\/(\S+)/.exec(ud):hd?/(?:Version)[ \/]?(\S+)/.exec(ud):void 0);if(_d&&(yd=_d?_d[1]:""),dd){var vd=bd();if(null!=vd&&vd>parseFloat(yd)){ld=String(vd);break t}}ld=yd}var wd={};function Cd(t){return function(t,e){var n=wd;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=Jh(String(ld)).split("."),r=Jh(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=ed(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||ed(0==o[2].length,0==a[2].length)||ed(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}var Od=Ph.document&&dd&&(bd()||parseInt(ld,10))||void 0,kd=!dd||9<=Number(Od),Sd=dd&&!Cd("9"),xd=function(){if(!Ph.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ph.addEventListener("test",Nh,e),Ph.removeEventListener("test",Nh,e)}catch(n){}return t}();function Ed(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Td(t,e){if(Ed.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(md){t:{try{cd(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Id[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Ed.prototype.b=function(){this.defaultPrevented=!0},Yh(Td,Ed);var Id={2:"touch",3:"pen",4:"mouse"};Td.prototype.b=function(){Td.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Sd)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Ad="closure_listenable_"+(1e6*Math.random()|0),Rd=0;function Dd(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Rd,this.Y=this.Z=!1}function jd(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Pd(t){this.src=t,this.a={},this.b=0}function Nd(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=Wh(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(jd(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Ld(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}Pd.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=Ld(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new Dd(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var Fd="closure_lm_"+(1e6*Math.random()|0),Md={};function Vd(t,e,n,r,i){if(r&&r.once)return Bd(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Vd(t,e[s],n,r,i);return null}return n=Kd(n),t&&t[Ad]?t.va(e,n,Fh(r)?!!r.capture:!!r,i):Ud(t,e,n,!1,r,i)}function Ud(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Fh(i)?!!i.capture:!!i;if(o&&!kd)return null;var a=Wd(t);if(a||(t[Fd]=a=new Pd(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=Gd,e=kd?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)xd||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(qd(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Bd(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Bd(t,e[s],n,r,i);return null}return n=Kd(n),t&&t[Ad]?t.wa(e,n,Fh(r)?!!r.capture:!!r,i):Ud(t,e,n,!0,r,i)}function zd(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)zd(t,e[s],n,r,i);else r=Fh(r)?!!r.capture:!!r,n=Kd(n),t&&t[Ad]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Ld(s=t.a[e],n,r,i))&&(jd(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.a[e],t.b--))):t&&(t=Wd(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Ld(e,n,r,i)),(n=-1<t?e[t]:null)&&Hd(n))}function Hd(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Ad])Nd(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(qd(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Wd(e))?(Nd(n,t),0==n.b&&(n.src=null,e[Fd]=null)):jd(t)}}}function qd(t){return t in Md?Md[t]:Md[t]="on"+t}function Yd(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Hd(t),n.call(r,e)}function Gd(t,e){if(t.Y)return!0;if(!kd){if(!e)t:{e=["window","event"];for(var n=Ph,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Yd(t,e=new Td(e,this))}return Yd(t,new Td(e,this))}function Wd(t){return(t=t[Fd])instanceof Pd?t:null}var $d="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kd(t){return"function"==typeof t?t:(t[$d]||(t[$d]=function(e){return t.handleEvent(e)}),t[$d])}function Xd(){Gh.call(this),this.c=new Pd(this),this.J=this,this.C=null}function Qd(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Ed(e,t);else if(e instanceof Ed)e.target=e.target||t;else{var i=e;ad(e=new Ed(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];i=Zd(o,r,!0,e)&&i}if(i=Zd(o=e.a=t,r,!0,e)&&i,i=Zd(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Zd(o=e.a=n[s],r,!1,e)&&i}function Zd(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,c=o.ca||o.src;o.Z&&Nd(t.c,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Yh(Xd,Gh),Xd.prototype[Ad]=!0,(Rh=Xd.prototype).addEventListener=function(t,e,n,r){Vd(this,t,e,n,r)},Rh.removeEventListener=function(t,e,n,r){zd(this,t,e,n,r)},Rh.G=function(){if(Xd.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)jd(n[r]);delete e.a[t],e.b--}}this.C=null},Rh.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Rh.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Jd=Ph.JSON.stringify;function tf(){this.b=this.a=null}var ef,nf=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new sf},function(t){t.reset()});function rf(){var t=lf,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function sf(){this.next=this.b=this.a=null}function of(t){Ph.setTimeout(function(){throw t},0)}function af(t,e){ef||function(){var t=Ph.Promise.resolve(void 0);ef=function(){t.then(uf)}}(),cf||(ef(),cf=!0),lf.add(t,e)}tf.prototype.add=function(t,e){var n=nf.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},sf.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},sf.prototype.reset=function(){this.next=this.b=this.a=null};var cf=!1,lf=new tf;function uf(){for(var t;t=rf();){try{t.a.call(t.b)}catch(n){of(n)}var e=nf;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}cf=!1}function hf(t,e){Xd.call(this),this.b=t||1,this.a=e||Ph,this.f=zh(this.Za,this),this.g=qh()}function df(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function ff(t,e,n){if("function"==typeof t)n&&(t=zh(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=zh(t.handleEvent,t)}return 2147483647<Number(e)?-1:Ph.setTimeout(t,e||0)}function pf(t){t.a=ff(function(){t.a=null,t.c&&(t.c=!1,pf(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Yh(hf,Xd),(Rh=hf.prototype).aa=!1,Rh.M=null,Rh.Za=function(){if(this.aa){var t=qh()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Qd(this,"tick"),this.aa&&(df(this),this.start()))}},Rh.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=qh())},Rh.G=function(){hf.X.G.call(this),df(this),delete this.a};var mf=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Ih(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:pf(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Ph.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Gh);function gf(t){Gh.call(this),this.b=t,this.a={}}Yh(gf,Gh);var bf=[];function yf(t,e,n,r){Array.isArray(n)||(n&&(bf[0]=n.toString()),n=bf);for(var i=0;i<n.length;i++){var s=Vd(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function _f(t){id(t.a,function(t,e){this.a.hasOwnProperty(e)&&Hd(t)},t),t.a={}}function vf(){this.a=!0}function wf(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Jd(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}gf.prototype.G=function(){gf.X.G.call(this),_f(this)},gf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},vf.prototype.info=function(){};var Cf={},Of=null;function kf(){return Of=Of||new Xd}function Sf(t){Ed.call(this,Cf.Fa,t)}function xf(t){var e=kf();Qd(e,new Sf(e,t))}function Ef(t,e){Ed.call(this,Cf.STAT_EVENT,t),this.stat=e}function Tf(t){var e=kf();Qd(e,new Ef(e,t))}function If(t){Ed.call(this,Cf.Ga,t)}function Af(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Ph.setTimeout(function(){t()},e)}Cf.Fa="serverreachability",Yh(Sf,Ed),Cf.STAT_EVENT="statevent",Yh(Ef,Ed),Cf.Ga="timingevent",Yh(If,Ed);var Rf={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Df={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function jf(){}function Pf(){}jf.prototype.a=null;var Nf,Lf={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Ff(){Ed.call(this,"d")}function Mf(){Ed.call(this,"c")}function Vf(){}function Uf(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new gf(this),this.P=Bf,this.R=new hf(t=pd?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Yh(Ff,Ed),Yh(Mf,Ed),Yh(Vf,jf),Nf=new Vf;var Bf=45e3,zf={},Hf={};function qf(t,e,n){t.H=1,t.i=dp(op(e)),t.j=n,t.I=!0,Yf(t,null)}function Yf(t,e){t.u=qh(),$f(t),t.l=op(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Sp(n.b,"t",r),t.D=0,t.a=_m(t.g,t.g.C?e:null),0<t.O&&(t.F=new mf(zh(t.Ca,t,t.a),t.O)),yf(t.J,t.a,"readystatechange",t.Xa),e=t.B?sd(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),xf(1),function(t,e,n,r,i,s){t.info(function(){if(t.a)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+l+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Gf(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Wf(t,n);if(i==Hf){4==e&&(t.h=4,Tf(14),r=!1),wf(t.c,t.f,null,"[Incomplete Response]");break}if(i==zf){t.h=4,Tf(15),wf(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}wf(t.c,t.f,i,null),Jf(t,i)}4==e&&0==n.length&&(t.h=1,Tf(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),hm(e),e.F=!0,Tf(11))):(wf(t.c,t.f,n,"[Invalid Chunked Response]"),Zf(t),Qf(t))}function Wf(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Hf:(n=Number(e.substring(n,r)),isNaN(n)?zf:(r+=1)+n>e.length?Hf:(e=e.substr(r,n),t.D=r+n,e))}function $f(t){t.T=qh()+t.P,Kf(t,t.P)}function Kf(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Af(zh(t.Va,t),e)}function Xf(t){t.o&&(Ph.clearTimeout(t.o),t.o=null)}function Qf(t){0==t.g.v||t.A||pm(t.g,t)}function Zf(t){Xf(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,df(t.R),_f(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Jf(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Dp(n.b,t)))if(n.I=t.N,!t.C&&Dp(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(nS){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;fm(n),nm(n)}um(n),Tf(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Af(zh(n.Sa,n),6e3));if(1>=Rp(n.b)&&n.ea){try{n.ea()}catch(nS){}n.ea=void 0}}else gm(n,11)}else if((t.C||n.a==t)&&fm(n),!Qh(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var c=1.5*a;n.D=c,n.c.info("backChannelRequestTimeoutMs_="+c)}c=n;var l=t.a;if(l){var u=l.a?l.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(u){var h=c.b;!h.a&&(td(u,"spdy")||td(u,"quic")||td(u,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(jp(h,h.b),h.b=null))}if(c.A){var d=l.a?l.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(c.na=d,hp(c.B,c.A,d))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=qh()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((c=n).la=ym(c,c.C?c.ga:null,c.fa),f.C){Pp(c.b,f);var p=f,m=c.D;m&&p.setTimeout(m),p.o&&(Xf(p),$f(p)),c.a=f}else lm(c);0<n.g.length&&sm(n)}else"stop"!=i[0]&&"close"!=i[0]||gm(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?gm(n,7):em(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);xf(4)}catch(nS){}}function tp(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Lh(t)||"string"==typeof t)$h(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Lh(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Lh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function ep(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ep)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function np(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];rp(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)rp(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function rp(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Rh=Uf.prototype).setTimeout=function(t){this.P=t},Rh.Xa=function(t){t=t.target;var e=this.F;e&&3==Qp(t)?e.f():this.Ca(t)},Rh.Ca=function(t){try{if(t==this.a)t:{var e=Qp(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!pd&&!this.a.$())){this.A||4!=e||7==n||xf(8==n||0>=r?3:2),Xf(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qh(o)){var c=o;break e}}c=null}if(!c){this.b=!1,this.h=3,Tf(12),Zf(this),Qf(this);break t}wf(this.c,this.f,c,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Jf(this,c)}this.I?(Gf(this,e,s),pd&&this.b&&3==e&&(yf(this.J,this.R,"tick",this.Wa),this.R.start())):(wf(this.c,this.f,s,null),Jf(this,s)),4==e&&Zf(this),this.b&&!this.A&&(4==e?pm(this.g,this):(this.b=!1,$f(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,Tf(12)):(this.h=0,Tf(13)),Zf(this),Qf(this)}}}catch(l){}},Rh.Wa=function(){if(this.a){var t=Qp(this.a),e=this.a.$();this.D<e.length&&(Xf(this),Gf(this,t,e),this.b&&4!=t&&$f(this))}},Rh.cancel=function(){this.A=!0,Zf(this)},Rh.Va=function(){this.o=null;var t=qh();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(xf(3),Tf(17)),Zf(this),this.h=2,Qf(this)):Kf(this,this.T-t)},(Rh=ep.prototype).K=function(){np(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Rh.L=function(){return np(this),this.a.concat()},Rh.get=function(t,e){return rp(this.b,t)?this.b[t]:e},Rh.set=function(t,e){rp(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Rh.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var ip=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function sp(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof sp){this.a=void 0!==e?e:t.a,ap(this,t.f),this.j=t.j,cp(this,t.c),lp(this,t.h),this.g=t.g,e=t.b;var n=new wp;n.c=e.c,e.a&&(n.a=new ep(e.a),n.b=e.b),up(this,n),this.i=t.i}else t&&(n=String(t).match(ip))?(this.a=!!e,ap(this,n[1]||"",!0),this.j=fp(n[2]||""),cp(this,n[3]||"",!0),lp(this,n[4]),this.g=fp(n[5]||"",!0),up(this,n[6]||"",!0),this.i=fp(n[7]||"")):(this.a=!!e,this.b=new wp(null,this.a))}function op(t){return new sp(t)}function ap(t,e,n){t.f=n?fp(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function cp(t,e,n){t.c=n?fp(e,!0):e}function lp(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function up(t,e,n){e instanceof wp?(t.b=e,function(t,e){e&&!t.f&&(Cp(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Op(this,e),Sp(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=pp(e,_p)),t.b=new wp(e,t.a))}function hp(t,e,n){t.b.set(e,n)}function dp(t){return hp(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^qh()).toString(36)),t}function fp(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function pp(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,mp),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function mp(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}sp.prototype.toString=function(){var t=[],e=this.f;e&&t.push(pp(e,gp,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(pp(e,gp,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(pp(n,"/"==n.charAt(0)?yp:bp,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",pp(n,vp)),t.join("")};var gp=/[#\/\?@]/g,bp=/[#\?:]/g,yp=/[#\?]/g,_p=/[#\?@]/g,vp=/#/g;function wp(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Cp(t){t.a||(t.a=new ep,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Op(t,e){Cp(t),e=xp(t,e),rp(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,rp((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&np(t)))}function kp(t,e){return Cp(t),e=xp(t,e),rp(t.a.b,e)}function Sp(t,e,n){Op(t,e),0<n.length&&(t.c=null,t.a.set(xp(t,e),Xh(n)),t.b+=n.length)}function xp(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Rh=wp.prototype).add=function(t,e){Cp(this),this.c=null,t=xp(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Rh.forEach=function(t,e){Cp(this),this.a.forEach(function(n,r){$h(n,function(n){t.call(e,n,r,this)},this)},this)},Rh.L=function(){Cp(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},Rh.K=function(t){Cp(this);var e=[];if("string"==typeof t)kp(this,t)&&(e=Kh(e,this.a.get(xp(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Kh(e,t[n])}return e},Rh.set=function(t,e){return Cp(this),this.c=null,kp(this,t=xp(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Rh.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Rh.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var Ep=function(){return function(t,e){this.b=t,this.a=e}}();function Tp(t){this.g=t||Ip,t=Ph.PerformanceNavigationTiming?0<(t=Ph.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Ph.ia&&Ph.ia.ya&&Ph.ia.ya()&&Ph.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Ip=10;function Ap(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Rp(t){return t.b?1:t.a?t.a.size:0}function Dp(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function jp(t,e){t.a?t.a.add(e):t.b=e}function Pp(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Np(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Ah(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Xh(t.c)}function Lp(){}function Fp(){this.a=new Lp}function Mp(t,e,n){var r=n||"";try{tp(t,function(t,n){var i=t;Fh(t)&&(i=Jd(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(HS){throw e.push(r+"type="+encodeURIComponent("_badmap")),HS}}function Vp(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}Tp.prototype.cancel=function(){var t,e;if(this.c=Np(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Ah(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Lp.prototype.stringify=function(t){return Ph.JSON.stringify(t,void 0)},Lp.prototype.parse=function(t){return Ph.JSON.parse(t,void 0)};var Up=Ph.JSON.parse;function Bp(t){Xd.call(this),this.headers=new ep,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=zp,this.D=this.F=!1}Yh(Bp,Xd);var zp="",Hp=/^https?$/i,qp=["POST","PUT"];function Yp(t){return"content-type"==t.toLowerCase()}function Gp(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Wp(t),Kp(t)}function Wp(t){t.u||(t.u=!0,Qd(t,"complete"),Qd(t,"error"))}function $p(t){if(t.b&&void 0!==jh&&(!t.s[1]||4!=Qp(t)||2!=t.W()))if(t.l&&4==Qp(t))ff(t.za,0,t);else if(Qd(t,"readystatechange"),4==Qp(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(ip)[1]||null;if(!s&&Ph.self&&Ph.self.location){var o=Ph.self.location.protocol;s=o.substr(0,o.length-1)}i=!Hp.test(s?s.toLowerCase():"")}e=i}if(e)Qd(t,"complete"),Qd(t,"success");else{t.h=6;try{var a=2<Qp(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Wp(t)}}finally{Kp(t)}}}function Kp(t,e){if(t.a){Xp(t);var n=t.a,r=t.s[0]?Nh:null;t.a=null,t.s=null,e||Qd(t,"ready");try{n.onreadystatechange=r}catch(HS){}}}function Xp(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Ph.clearTimeout(t.m),t.m=null)}function Qp(t){return t.a?t.a.readyState:0}function Zp(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return id(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):hp(t,e,n))}function Jp(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function tm(t){this.pa=0,this.g=[],this.c=new vf,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Jp("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Jp("baseRetryDelayMs",5e3,t),this.Ra=Jp("retryDelaySeedMs",1e4,t),this.Ma=Jp("forwardChannelMaxRetries",2,t),this.ma=Jp("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Tp(t&&t.concurrentRequestLimit),this.ka=new Fp,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function em(t){if(rm(t),3==t.v){var e=t.R++,n=op(t.B);hp(n,"SID",t.J),hp(n,"RID",e),hp(n,"TYPE","terminate"),am(t,n),(e=new Uf(t,t.c,e,void 0)).H=2,e.i=dp(op(n)),n=!1,Ph.navigator&&Ph.navigator.sendBeacon&&(n=Ph.navigator.sendBeacon(e.i.toString(),"")),!n&&Ph.Image&&((new Image).src=e.i,n=!0),n||(e.a=_m(e.g,null),e.a.ba(e.i)),e.u=qh(),$f(e)}bm(t)}function nm(t){t.a&&(hm(t),t.a.cancel(),t.a=null)}function rm(t){nm(t),t.j&&(Ph.clearTimeout(t.j),t.j=null),fm(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Ph.clearTimeout(t.h),t.h=null)}function im(t,e){t.g.push(new Ep(t.Oa++,e)),3==t.v&&sm(t)}function sm(t){Ap(t.b)||t.h||(t.h=!0,af(t.Ba,t),t.u=0)}function om(t,e){var n;n=e?e.f:t.R++;var r=op(t.B);hp(r,"SID",t.J),hp(r,"RID",n),hp(r,"AID",t.P),am(t,r),t.i&&t.l&&Zp(r,t.i,t.l),n=new Uf(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=cm(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),jp(t.b,n),qf(n,r,e)}function am(t,e){t.f&&tp({},function(t,n){hp(e,n,t)})}function cm(t,e,n){n=Math.min(t.g.length,n);var r=t.f?zh(t.f.Ja,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,c=0;c<n;c++){var l=i[c].b,u=i[c].a;if(0>(l-=s))s=Math.max(0,i[c].b-100),a=!1;else try{Mp(u,o,"req"+l+"_")}catch(h){r&&r(u)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function lm(t){t.a||t.j||(t.T=1,af(t.Aa,t),t.o=0)}function um(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Af(zh(t.Aa,t),mm(t,t.o)),t.o++,0))}function hm(t){null!=t.s&&(Ph.clearTimeout(t.s),t.s=null)}function dm(t){t.a=new Uf(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=op(t.la);hp(e,"RID","rpc"),hp(e,"SID",t.J),hp(e,"CI",t.H?"0":"1"),hp(e,"AID",t.P),am(t,e),hp(e,"TYPE","xmlhttp"),t.i&&t.l&&Zp(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=dp(op(e)),n.j=null,n.I=!0,Yf(n,t)}function fm(t){null!=t.m&&(Ph.clearTimeout(t.m),t.m=null)}function pm(t,e){var n=null;if(t.a==e){fm(t),hm(t),t.a=null;var r=2}else{if(!Dp(t.b,e))return;n=e.s,Pp(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=qh()-e.u;var i=t.u;Qd(r=kf(),new If(r,n,e,i)),sm(t)}else lm(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Rp(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Af(zh(t.Ba,t,e),mm(t,t.u)),t.u++,0)))}(t,e)||2==r&&um(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:gm(t,5);break;case 4:gm(t,10);break;case 3:gm(t,6);break;default:gm(t,2)}}function mm(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function gm(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=zh(t.Ya,t);n||(n=new sp("//www.google.com/images/cleardot.gif"),Ph.location&&"http"==Ph.location.protocol||ap(n,"https"),dp(n)),function(t,e){var n=new vf;if(Ph.Image){var r=new Image;r.onload=Hh(Vp,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Hh(Vp,n,r,"TestLoadImage: error",!1,e),r.onabort=Hh(Vp,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Hh(Vp,n,r,"TestLoadImage: timeout",!1,e),Ph.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Tf(2);t.v=0,t.f&&t.f.ra(e),bm(t),rm(t)}function bm(t){t.v=0,t.I=-1,t.f&&(0==Np(t.b).length&&0==t.g.length||(t.b.c.length=0,Xh(t.g),t.g.length=0),t.f.qa())}function ym(t,e,n){var r=function(t){return t instanceof sp?op(t):new sp(t,void 0)}(n);if(""!=r.c)e&&cp(r,e+"."+r.c),lp(r,r.h);else{var i=Ph.location;r=function(t,e,n,r){var i=new sp(null,void 0);return t&&ap(i,t),e&&cp(i,e),n&&lp(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&id(t.V,function(t,e){hp(r,e,t)}),n=t.na,(e=t.A)&&n&&hp(r,e,n),hp(r,"VER",t.ha),am(t,r),r}function _m(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Bp(t.Na)).F=t.C,e}function vm(){}function wm(){if(dd&&!(10<=Number(Od)))throw Error("Environmental error: no available transport.")}function Cm(t,e){Xd.call(this),this.a=new tm(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Qh(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Qh(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Sm(this)}function Om(t){Ff.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function km(){Mf.call(this),this.status=1}function Sm(t){this.a=t}(Rh=Bp.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Nf),this.a.onreadystatechange=zh(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void Gp(this,s)}t=n||"";var i=new ep(this.headers);r&&tp(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Yp,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Ph.FormData&&t instanceof Ph.FormData,!(0<=Wh(qp,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Xp(this),0<this.o&&((this.D=function(t){return dd&&Cd(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=zh(this.xa,this)):this.m=ff(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){Gp(this,s)}},Rh.xa=function(){void 0!==jh&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Qd(this,"timeout"),this.abort(8))},Rh.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Qd(this,"complete"),Qd(this,"abort"),Kp(this))},Rh.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Kp(this,!0)),Bp.X.G.call(this)},Rh.za=function(){this.j||(this.A||this.l||this.g?$p(this):this.Ua())},Rh.Ua=function(){$p(this)},Rh.W=function(){try{return 2<Qp(this)?this.a.status:-1}catch(ud){return-1}},Rh.$=function(){try{return this.a?this.a.responseText:""}catch(ud){return""}},Rh.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Up(e)}},Rh.ua=function(){return this.h},Rh.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Rh=tm.prototype).ha=8,Rh.v=1,Rh.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Uf(this,this.c,t,void 0),r=this.l;if(this.O&&(r?ad(r=sd(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=cm(this,n,e),hp(i=op(this.B),"RID",t),hp(i,"CVER",22),this.A&&hp(i,"X-HTTP-Session-Id",this.A),am(this,i),this.i&&r&&Zp(i,this.i,r),jp(this.b,n),this.Ia&&hp(i,"TYPE","init"),this.da?(hp(i,"$req",e),hp(i,"SID","null"),n.U=!0,qf(n,i,null)):qf(n,i,e),this.v=2}}else 3==this.v&&(t?om(this,t):0==this.g.length||Ap(this.b)||om(this))},Rh.Aa=function(){if(this.j=null,dm(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Af(zh(this.Ta,this),t)}},Rh.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Tf(10),nm(this),dm(this))},Rh.Sa=function(){null!=this.m&&(this.m=null,nm(this),um(this),Tf(19))},Rh.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Tf(2)):(this.c.info("Failed to ping google.com"),Tf(1))},(Rh=vm.prototype).ta=function(){},Rh.sa=function(){},Rh.ra=function(){},Rh.qa=function(){},Rh.Ja=function(){},wm.prototype.a=function(t,e){return new Cm(t,e)},Yh(Cm,Xd),Cm.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Tf(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=ym(t,null,t.fa),sm(t)},Cm.prototype.close=function(){em(this.a)},Cm.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,im(this.a,e)}else this.l?((e={}).__data__=Jd(t),im(this.a,e)):im(this.a,t)},Cm.prototype.G=function(){this.a.f=null,delete this.f,em(this.a),delete this.a,Cm.X.G.call(this)},Yh(Om,Ff),Yh(km,Mf),Yh(Sm,vm),Sm.prototype.ta=function(){Qd(this.a,"a")},Sm.prototype.sa=function(t){Qd(this.a,new Om(t))},Sm.prototype.ra=function(t){Qd(this.a,new km(t))},Sm.prototype.qa=function(){Qd(this.a,"b")},wm.prototype.createWebChannel=wm.prototype.a,Cm.prototype.send=Cm.prototype.h,Cm.prototype.open=Cm.prototype.g,Cm.prototype.close=Cm.prototype.close,Rf.NO_ERROR=0,Rf.TIMEOUT=8,Rf.HTTP_ERROR=6,Df.COMPLETE="complete",Pf.EventType=Lf,Lf.OPEN="a",Lf.CLOSE="b",Lf.ERROR="c",Lf.MESSAGE="d",Xd.prototype.listen=Xd.prototype.va,Bp.prototype.listenOnce=Bp.prototype.wa,Bp.prototype.getLastError=Bp.prototype.Qa,Bp.prototype.getLastErrorCode=Bp.prototype.ua,Bp.prototype.getStatus=Bp.prototype.W,Bp.prototype.getResponseJson=Bp.prototype.Pa,Bp.prototype.getResponseText=Bp.prototype.$,Bp.prototype.send=Bp.prototype.ba;var xm=Rf,Em=Df,Tm=Cf,Im=Pf,Am=Bp,Rm=n("uXP2"),Dm=function(t,e,n,r,i,s){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=s},jm=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Pm=new Eh.b("@firebase/firestore");function Nm(){return Pm.logLevel}function Lm(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Pm.logLevel<=Eh.a.DEBUG){var r=e.map(Vm);Pm.debug.apply(Pm,Object(Rm.i)(["Firestore (8.2.9): "+t],r))}}function Fm(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Pm.logLevel<=Eh.a.ERROR){var r=e.map(Vm);Pm.error.apply(Pm,Object(Rm.i)(["Firestore (8.2.9): "+t],r))}}function Mm(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Pm.logLevel<=Eh.a.WARN){var r=e.map(Vm);Pm.warn.apply(Pm,Object(Rm.i)(["Firestore (8.2.9): "+t],r))}}function Vm(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(HS){return t}}function Um(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.9) INTERNAL ASSERTION FAILED: "+t;throw Fm(e),new Error(e)}function Bm(t,e){t||Um()}function zm(t,e){return t}function Hm(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var qm=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Hm(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Ym(t,e){return t<e?-1:t>e?1:0}function Gm(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Wm(t){return t+"\0"}var $m=function(){function t(t){this.h=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.h)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.h)},t.prototype.l=function(){return 2*this.h.length},t.prototype._=function(t){return Ym(this.h,t.h)},t.prototype.isEqual=function(t){return this.h===t.h},t}();$m.T=new $m("");var Km={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Xm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Rm.d)(e,t),e}(Error),Qm=function(){function t(t){this.I=t}return t.fromBase64String=function(e){try{return new t($m.fromBase64String(e))}catch(e){throw new Xm(Km.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t($m.fromUint8Array(e))},t.prototype.toBase64=function(){return this.I.toBase64()},t.prototype.toUint8Array=function(){return this.I.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.I.isEqual(t.I)},t}(),Zm=function(){function t(t){this.uid=t}return t.prototype.m=function(){return null!=this.uid},t.prototype.A=function(){return this.m()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Zm.UNAUTHENTICATED=new Zm(null),Zm.R=new Zm("google-credentials-uid"),Zm.P=new Zm("first-party-uid");var Jm=function(t,e){this.user=e,this.type="OAuth",this.g={},this.g.Authorization="Bearer "+t},tg=function(){function t(){this.V=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.p=function(){},t.prototype.v=function(t){this.V=t,t(Zm.UNAUTHENTICATED)},t.prototype.S=function(){this.V=null},t}(),eg=function(){function t(t){var e=this;this.D=null,this.currentUser=Zm.UNAUTHENTICATED,this.C=!1,this.N=0,this.V=null,this.forceRefresh=!1,this.D=function(){e.N++,e.currentUser=e.$(),e.C=!0,e.V&&e.V(e.currentUser)},this.N=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.D):(this.D(null),t.get().then(function(t){e.auth=t,e.D&&e.auth.addAuthTokenListener(e.D)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.N,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.N!==e?(Lm("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Bm("string"==typeof n.accessToken),new Jm(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.p=function(){this.forceRefresh=!0},t.prototype.v=function(t){this.V=t,this.C&&t(this.currentUser)},t.prototype.S=function(){this.auth&&this.auth.removeAuthTokenListener(this.D),this.D=null,this.V=null},t.prototype.$=function(){var t=this.auth&&this.auth.getUid();return Bm(null===t||"string"==typeof t),new Zm(t)},t}(),ng=function(){function t(t,e){this.F=t,this.O=e,this.type="FirstParty",this.user=Zm.P}return Object.defineProperty(t.prototype,"g",{get:function(){var t={"X-Goog-AuthUser":this.O},e=this.F.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),rg=function(){function t(t,e){this.F=t,this.O=e}return t.prototype.getToken=function(){return Promise.resolve(new ng(this.F,this.O))},t.prototype.v=function(t){t(Zm.P)},t.prototype.S=function(){},t.prototype.p=function(){},t}(),ig=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.k=function(t){return n.M(t)},this.L=function(t){return e.B(t)})}return t.prototype.M=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.L&&this.L(t),t},t}();ig.q=-1;var sg=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Xm(Km.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Xm(Km.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Xm(Km.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Xm(Km.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.U=function(t){return this.seconds===t.seconds?Ym(this.nanoseconds,t.nanoseconds):Ym(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),og=function(){function t(t){this.timestamp=t}return t.K=function(e){return new t(e)},t.min=function(){return new t(new sg(0,0))},t.prototype._=function(t){return this.timestamp.U(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.j=function(){return this.timestamp},t}(),ag=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Um(),void 0===n?n=t.length-e:n>t.length-e&&Um(),this.segments=t,this.offset=e,this.G=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.G},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.H(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.J(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.Y=function(t){return this.J(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.X=function(){return this.J(this.segments,this.offset,this.length-1)},t.prototype.Z=function(){return this.segments[this.offset]},t.prototype.tt=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.et=function(){return 0===this.length},t.prototype.nt=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.st=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.it=function(){return this.segments.slice(this.offset,this.limit())},t.H=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),cg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Rm.d)(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.prototype.rt=function(){return this.it().join("/")},e.prototype.toString=function(){return this.rt()},e.ot=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new Xm(Km.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.ct=function(){return new e([])},e}(ag),lg=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ug=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Rm.d)(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.at=function(t){return lg.test(t)},e.prototype.rt=function(){return this.it().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.at(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.rt()},e.prototype.ut=function(){return 1===this.length&&"__name__"===this.get(0)},e.ht=function(){return new e(["__name__"])},e.lt=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new Xm(Km.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Xm(Km.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var c=t[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new Xm(Km.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Xm(Km.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.ct=function(){return new e([])},e}(ag),hg=function(){function t(t){this.path=t}return t._t=function(e){return new t(cg.ot(e))},t.ft=function(e){return new t(cg.ot(e).Y(5))},t.prototype.dt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===cg.H(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.H=function(t,e){return cg.H(t.path,e.path)},t.wt=function(t){return t.length%2==0},t.Et=function(e){return new t(new cg(e.slice()))},t}();function dg(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fg(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function pg(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var mg=function(){function t(t){this.fields=t,t.sort(ug.H)}return t.prototype.Tt=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].nt(t))return!0;return!1},t.prototype.isEqual=function(t){return Gm(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),gg=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bg(t){if(Bm(!!t),"string"==typeof t){var e=0,n=gg.exec(t);if(Bm(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:yg(t.seconds),nanos:yg(t.nanos)}}function yg(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function _g(t){return"string"==typeof t?$m.fromBase64String(t):$m.fromUint8Array(t)}function vg(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function wg(t){var e=t.mapValue.fields.__previous_value__;return vg(e)?wg(e):e}function Cg(t){var e=bg(t.mapValue.fields.__local_write_time__.timestampValue);return new sg(e.seconds,e.nanos)}function Og(t){return null==t}function kg(t){return 0===t&&1/t==-1/0}function Sg(t){return"number"==typeof t&&Number.isInteger(t)&&!kg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function xg(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vg(t)?4:10:Um()}function Eg(t,e){var n=xg(t);if(n!==xg(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Cg(t).isEqual(Cg(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=bg(t.timestampValue),r=bg(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return _g(t.bytesValue).isEqual(_g(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return yg(t.geoPointValue.latitude)===yg(e.geoPointValue.latitude)&&yg(t.geoPointValue.longitude)===yg(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return yg(t.integerValue)===yg(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=yg(t.doubleValue),r=yg(e.doubleValue);return n===r?kg(n)===kg(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Gm(t.arrayValue.values||[],e.arrayValue.values||[],Eg);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(dg(n)!==dg(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Eg(n[i],r[i])))return!1;return!0}(t,e);default:return Um()}}function Tg(t,e){return void 0!==(t.values||[]).find(function(t){return Eg(t,e)})}function Ig(t,e){var n=xg(t),r=xg(e);if(n!==r)return Ym(n,r);switch(n){case 0:return 0;case 1:return Ym(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=yg(t.integerValue||t.doubleValue),r=yg(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Ag(t.timestampValue,e.timestampValue);case 4:return Ag(Cg(t),Cg(e));case 5:return Ym(t.stringValue,e.stringValue);case 6:return function(t,e){var n=_g(t),r=_g(e);return n._(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=Ym(n[i],r[i]);if(0!==s)return s}return Ym(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Ym(yg(t.latitude),yg(e.latitude));return 0!==n?n:Ym(yg(t.longitude),yg(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=Ig(n[i],r[i]);if(s)return s}return Ym(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=Ym(r[o],s[o]);if(0!==a)return a;var c=Ig(n[r[o]],i[s[o]]);if(0!==c)return c}return Ym(r.length,s.length)}(t.mapValue,e.mapValue);default:throw Um()}}function Ag(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Ym(t,e);var n=bg(t),r=bg(e),i=Ym(n.seconds,r.seconds);return 0!==i?i:Ym(n.nanos,r.nanos)}function Rg(t){return Dg(t)}function Dg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=bg(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?_g(t.bytesValue).toBase64():"referenceValue"in t?hg.ft(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Dg(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var s=i[r];n?n=!1:e+=",",e+=s+":"+Dg(t.fields[s])}return e+"}"}(t.mapValue):Um();var e}function jg(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.rt()}}function Pg(t){return!!t&&"integerValue"in t}function Ng(t){return!!t&&"arrayValue"in t}function Lg(t){return!!t&&"nullValue"in t}function Fg(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Mg(t){return!!t&&"mapValue"in t}var Vg=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.et())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Mg(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.tt()])||null},t.prototype.isEqual=function(t){return Eg(this.proto,t.proto)},t}(),Ug=function(){function t(t){void 0===t&&(t=Vg.empty()),this.It=t,this.At=new Map}return t.prototype.set=function(t,e){return this.Rt(t,e),this},t.prototype.delete=function(t){return this.Rt(t,null),this},t.prototype.Rt=function(t,e){for(var n=this.At,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===xg(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.tt(),e)},t.prototype.Pt=function(){var t=this.yt(ug.ct(),this.At);return null!=t?new Vg(t):this.It},t.prototype.yt=function(t,e){var n=this,r=!1,i=this.It.field(t),s=Mg(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var o=n.yt(t.child(i),e);null!=o&&(s[i]=o,r=!0)}else null!==e?(s[i]=e,r=!0):s.hasOwnProperty(i)&&(delete s[i],r=!0)}),r?{mapValue:{fields:s}}:null},t}();function Bg(t){var e=[];return fg(t.fields||{},function(t,n){var r=new ug([t]);if(Mg(n)){var i=Bg(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)}),new mg(e)}var zg=function(t,e){this.key=t,this.version=e},Hg=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this,e,n)||this).gt=r,s.Vt=!!i.Vt,s.hasCommittedMutations=!!i.hasCommittedMutations,s}return Object(Rm.d)(e,t),e.prototype.field=function(t){return this.gt.field(t)},e.prototype.data=function(){return this.gt},e.prototype.bt=function(){return this.gt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Vt===t.Vt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.gt.isEqual(t.gt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.gt.toString()+", {hasLocalMutations: "+this.Vt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Vt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(zg),qg=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(Rm.d)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(zg),Yg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Rm.d)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(zg),Gg=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.vt=null};function Wg(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new Gg(t,e,n,r,i,s,o)}function $g(t){var e=zm(t);if(null===e.vt){var n=e.path.rt();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.rt()+t.op.toString()+Rg(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.rt()+t.dir}(t)}).join(","),Og(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=ab(e.startAt)),e.endAt&&(n+="|ub:",n+=ab(e.endAt)),e.vt=n}return e.vt}function Kg(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!lb(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!Eg(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!hb(t.startAt,e.startAt)&&hb(t.endAt,e.endAt)}function Xg(t){return hg.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Qg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Rm.d)(e,t),e.create=function(t,n,r){return t.ut()?"in"===n||"not-in"===n?this.St(t,n,r):new Zg(t,n,r):"array-contains"===n?new nb(t,r):"in"===n?new rb(t,r):"not-in"===n?new ib(t,r):"array-contains-any"===n?new sb(t,r):new e(t,n,r)},e.St=function(t,e,n){return"in"===e?new Jg(t,n):new tb(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Dt(Ig(e,this.value)):null!==e&&xg(this.value)===xg(e)&&this.Dt(Ig(e,this.value))},e.prototype.Dt=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Um()}},e.prototype.Ct=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Zg=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=hg.ft(r.referenceValue),i}return Object(Rm.d)(e,t),e.prototype.matches=function(t){var e=hg.H(t.key,this.key);return this.Dt(e)},e}(Qg),Jg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=eb(0,n),r}return Object(Rm.d)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Qg),tb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=eb(0,n),r}return Object(Rm.d)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Qg);function eb(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return hg.ft(t.referenceValue)})}var nb=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Rm.d)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Ng(e)&&Tg(e.arrayValue,this.value)},e}(Qg),rb=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Rm.d)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Tg(this.value.arrayValue,e)},e}(Qg),ib=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Rm.d)(e,t),e.prototype.matches=function(t){if(Tg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Tg(this.value.arrayValue,e)},e}(Qg),sb=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Rm.d)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Ng(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Tg(e.value.arrayValue,t)})},e}(Qg),ob=function(t,e){this.position=t,this.before=e};function ab(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Rg(t)}).join(",")}var cb=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function lb(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function ub(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.ut()?hg.H(hg.ft(o.referenceValue),n.key):Ig(o,n.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function hb(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Eg(t.position[n],e.position[n]))return!1;return!0}var db=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.xt=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.Nt=null,this.$t=null};function fb(t,e,n,r,i,s,o,a){return new db(t,e,n,r,i,s,o,a)}function pb(t){return new db(t)}function mb(t){return!Og(t.limit)&&"F"===t.limitType}function gb(t){return!Og(t.limit)&&"L"===t.limitType}function bb(t){return t.xt.length>0?t.xt[0].field:null}function yb(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.Ct())return r.field}return null}function _b(t){return null!==t.collectionGroup}function vb(t){var e=zm(t);if(null===e.Nt){e.Nt=[];var n=yb(e),r=bb(e);if(null!==n&&null===r)n.ut()||e.Nt.push(new cb(n)),e.Nt.push(new cb(ug.ht(),"asc"));else{for(var i=!1,s=0,o=e.xt;s<o.length;s++){var a=o[s];e.Nt.push(a),a.field.ut()&&(i=!0)}if(!i){var c=e.xt.length>0?e.xt[e.xt.length-1].dir:"asc";e.Nt.push(new cb(ug.ht(),c))}}}return e.Nt}function wb(t){var e=zm(t);if(!e.$t)if("F"===e.limitType)e.$t=Wg(e.path,e.collectionGroup,vb(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=vb(e);r<i.length;r++){var s=i[r];n.push(new cb(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new ob(e.endAt.position,!e.endAt.before):null,a=e.startAt?new ob(e.startAt.position,!e.startAt.before):null;e.$t=Wg(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.$t}function Cb(t,e,n){return new db(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ob(t,e){return Kg(wb(t),wb(e))&&t.limitType===e.limitType}function kb(t){return $g(wb(t))+"|lt:"+t.limitType}function Sb(t){return"Query(target="+function(t){var e=t.path.rt();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.rt()+" "+e.op+" "+Rg(e.value);var e}).join(", ")+"]"),Og(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.rt()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+ab(t.startAt)),t.endAt&&(e+=", endAt: "+ab(t.endAt)),"Target("+e+")"}(wb(t))+"; limitType="+t.limitType+")"}function xb(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.dt(t.collectionGroup)&&t.path.nt(n):hg.wt(t.path)?t.path.isEqual(n):t.path.st(n)}(t,e)&&function(t,e){for(var n=0,r=t.xt;n<r.length;n++){var i=r[n];if(!i.field.ut()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!ub(t.startAt,vb(t),e)||t.endAt&&ub(t.endAt,vb(t),e))}(t,e)}function Eb(t){return function(e,n){for(var r=!1,i=0,s=vb(t);i<s.length;i++){var o=s[i],a=Tb(o,e,n);if(0!==a)return a;r=r||o.field.ut()}return 0}}function Tb(t,e,n){var r=t.field.ut()?hg.H(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Ig(r,i):Um()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Um()}}var Ib=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=og.min()),void 0===s&&(s=og.min()),void 0===o&&(o=$m.T),this.target=t,this.targetId=e,this.Ft=n,this.sequenceNumber=r,this.Ot=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.kt=function(e){return new t(this.target,this.targetId,this.Ft,e,this.Ot,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.Mt=function(e,n){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,this.Ot,e,this.resumeToken)},t}();function Ab(t,e){if(t.Bt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kg(e)?"-0":e}}function Rb(t){return{integerValue:""+t}}function Db(t,e){return Sg(e)?Rb(e):Ab(t,e)}var jb=function(){this.qt=void 0};function Pb(t,e,n){return t instanceof Fb?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Mb?Vb(t,e):t instanceof Ub?Bb(t,e):function(t,e){var n=Lb(t,e),r=Hb(n)+Hb(t.Ut);return Pg(n)&&Pg(t.Ut)?Rb(r):Ab(t.Qt,r)}(t,e)}function Nb(t,e,n){return t instanceof Mb?Vb(t,e):t instanceof Ub?Bb(t,e):n}function Lb(t,e){return t instanceof zb?Pg(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Fb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Rm.d)(e,t),e}(jb),Mb=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Rm.d)(e,t),e}(jb);function Vb(t,e){for(var n=qb(e),r=function(t){n.some(function(e){return Eg(e,t)})||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Ub=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Rm.d)(e,t),e}(jb);function Bb(t,e){for(var n=qb(e),r=function(t){n=n.filter(function(e){return!Eg(e,t)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var zb=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qt=e,r.Ut=n,r}return Object(Rm.d)(e,t),e}(jb);function Hb(t){return yg(t.integerValue||t.doubleValue)}function qb(t){return Ng(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Yb=function(t,e){this.field=t,this.transform=e},Gb=function(t,e){this.version=t,this.transformResults=e},Wb=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Kt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function $b(t,e){return void 0!==t.updateTime?e instanceof Hg&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Hg}var Kb=function(){};function Xb(t,e,n){return t instanceof ey?function(t,e,n){var r=t.value;if(n.transformResults){var i=iy(t.fieldTransforms,e,n.transformResults);r=oy(t.fieldTransforms,r,i)}return new Hg(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof ny?function(t,e,n){if(!$b(t.jt,e))return new Yg(t.key,n.version);var r=ry(t,e,n.transformResults?iy(t.fieldTransforms,e,n.transformResults):[]);return new Hg(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new qg(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Qb(t,e,n){return t instanceof ey?function(t,e,n){if(!$b(t.jt,e))return e;var r=t.value,i=sy(t.fieldTransforms,n,e);r=oy(t.fieldTransforms,r,i);var s=ty(e);return new Hg(t.key,s,r,{Vt:!0})}(t,e,n):t instanceof ny?function(t,e,n){if(!$b(t.jt,e))return e;var r=ty(e),i=ry(t,e,sy(t.fieldTransforms,n,e));return new Hg(t.key,r,i,{Vt:!0})}(t,e,n):function(t,e){return $b(t.jt,e)?new qg(t.key,og.min()):e}(t,e)}function Zb(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var s=i[r],o=e instanceof Hg?e.field(s.field):void 0,a=Lb(s.transform,o||null);null!=a&&(n=null==n?(new Ug).set(s.field,a):n.set(s.field,a))}return n?n.Pt():null}(t.fieldTransforms,e)}function Jb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.jt.isEqual(e.jt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Gm(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Mb&&e instanceof Mb||t instanceof Ub&&e instanceof Ub?Gm(t.elements,e.elements,Eg):t instanceof zb&&e instanceof zb?Eg(t.Ut,e.Ut):t instanceof Fb&&e instanceof Fb}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.Gt.isEqual(e.Gt))}function ty(t){return t instanceof Hg?t.version:og.min()}var ey=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var s=this;return(s=t.call(this)||this).key=e,s.value=n,s.jt=r,s.fieldTransforms=i,s.type=0,s}return Object(Rm.d)(e,t),e}(Kb),ny=function(t){function e(e,n,r,i,s){void 0===s&&(s=[]);var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.Gt=r,o.jt=i,o.fieldTransforms=s,o.type=1,o}return Object(Rm.d)(e,t),e}(Kb);function ry(t,e,n){var r;return r=function(t,e){var n=new Ug(e);return t.Gt.fields.forEach(function(e){if(!e.et()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.Pt()}(t,r=e instanceof Hg?e.data():Vg.empty()),oy(t.fieldTransforms,r,n)}function iy(t,e,n){var r=[];Bm(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=null;e instanceof Hg&&(a=e.field(s.field)),r.push(Nb(o,a,n[i]))}return r}function sy(t,e,n){for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i],a=o.transform,c=null;n instanceof Hg&&(c=n.field(o.field)),r.push(Pb(a,c,e))}return r}function oy(t,e,n){for(var r=new Ug(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.Pt()}var ay,cy,ly=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=2,r.fieldTransforms=[],r}return Object(Rm.d)(e,t),e}(Kb),uy=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=3,r.fieldTransforms=[],r}return Object(Rm.d)(e,t),e}(Kb),hy=function(t){this.count=t};function dy(t){switch(t){case Km.OK:return Um();case Km.CANCELLED:case Km.UNKNOWN:case Km.DEADLINE_EXCEEDED:case Km.RESOURCE_EXHAUSTED:case Km.INTERNAL:case Km.UNAVAILABLE:case Km.UNAUTHENTICATED:return!1;case Km.INVALID_ARGUMENT:case Km.NOT_FOUND:case Km.ALREADY_EXISTS:case Km.PERMISSION_DENIED:case Km.FAILED_PRECONDITION:case Km.ABORTED:case Km.OUT_OF_RANGE:case Km.UNIMPLEMENTED:case Km.DATA_LOSS:return!0;default:return Um()}}function fy(t){if(void 0===t)return Fm("GRPC error has no .code"),Km.UNKNOWN;switch(t){case ay.OK:return Km.OK;case ay.CANCELLED:return Km.CANCELLED;case ay.UNKNOWN:return Km.UNKNOWN;case ay.DEADLINE_EXCEEDED:return Km.DEADLINE_EXCEEDED;case ay.RESOURCE_EXHAUSTED:return Km.RESOURCE_EXHAUSTED;case ay.INTERNAL:return Km.INTERNAL;case ay.UNAVAILABLE:return Km.UNAVAILABLE;case ay.UNAUTHENTICATED:return Km.UNAUTHENTICATED;case ay.INVALID_ARGUMENT:return Km.INVALID_ARGUMENT;case ay.NOT_FOUND:return Km.NOT_FOUND;case ay.ALREADY_EXISTS:return Km.ALREADY_EXISTS;case ay.PERMISSION_DENIED:return Km.PERMISSION_DENIED;case ay.FAILED_PRECONDITION:return Km.FAILED_PRECONDITION;case ay.ABORTED:return Km.ABORTED;case ay.OUT_OF_RANGE:return Km.OUT_OF_RANGE;case ay.UNIMPLEMENTED:return Km.UNIMPLEMENTED;case ay.DATA_LOSS:return Km.DATA_LOSS;default:return Um()}}(cy=ay||(ay={}))[cy.OK=0]="OK",cy[cy.CANCELLED=1]="CANCELLED",cy[cy.UNKNOWN=2]="UNKNOWN",cy[cy.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cy[cy.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cy[cy.NOT_FOUND=5]="NOT_FOUND",cy[cy.ALREADY_EXISTS=6]="ALREADY_EXISTS",cy[cy.PERMISSION_DENIED=7]="PERMISSION_DENIED",cy[cy.UNAUTHENTICATED=16]="UNAUTHENTICATED",cy[cy.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cy[cy.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cy[cy.ABORTED=10]="ABORTED",cy[cy.OUT_OF_RANGE=11]="OUT_OF_RANGE",cy[cy.UNIMPLEMENTED=12]="UNIMPLEMENTED",cy[cy.INTERNAL=13]="INTERNAL",cy[cy.UNAVAILABLE=14]="UNAVAILABLE",cy[cy.DATA_LOSS=15]="DATA_LOSS";var py=function(){function t(t,e){this.H=t,this.root=e||gy.EMPTY}return t.prototype.zt=function(e,n){return new t(this.H,this.root.zt(e,n,this.H).copy(null,null,gy.Ht,null,null))},t.prototype.remove=function(e){return new t(this.H,this.root.remove(e,this.H).copy(null,null,gy.Ht,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.et();){var n=this.H(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.et();){var r=this.H(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.et=function(){return this.root.et()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Jt=function(){return this.root.Jt()},t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(t){return this.root.Xt(t)},t.prototype.forEach=function(t){this.Xt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Xt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.te=function(){return new my(this.root,null,this.H,!1)},t.prototype.ee=function(t){return new my(this.root,t,this.H,!1)},t.prototype.ne=function(){return new my(this.root,null,this.H,!0)},t.prototype.se=function(t){return new my(this.root,t,this.H,!0)},t}(),my=function(){function t(t,e,n,r){this.ie=r,this.re=[];for(var i=1;!t.et();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.ie?t.left:t.right;else{if(0===i){this.re.push(t);break}this.re.push(t),t=this.ie?t.right:t.left}}return t.prototype.oe=function(){var t=this.re.pop(),e={key:t.key,value:t.value};if(this.ie)for(t=t.left;!t.et();)this.re.push(t),t=t.right;else for(t=t.right;!t.et();)this.re.push(t),t=t.left;return e},t.prototype.ce=function(){return this.re.length>0},t.prototype.ae=function(){if(0===this.re.length)return null;var t=this.re[this.re.length-1];return{key:t.key,value:t.value}},t}(),gy=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.et=function(){return!1},t.prototype.Xt=function(t){return this.left.Xt(t)||t(this.key,this.value)||this.right.Xt(t)},t.prototype.Zt=function(t){return this.right.Zt(t)||t(this.key,this.value)||this.left.Zt(t)},t.prototype.min=function(){return this.left.et()?this:this.left.min()},t.prototype.Jt=function(){return this.min().key},t.prototype.Yt=function(){return this.right.et()?this.key:this.right.Yt()},t.prototype.zt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.zt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.zt(t,e,n))).ue()},t.prototype.he=function(){if(this.left.et())return t.EMPTY;var e=this;return e.left.le()||e.left.left.le()||(e=e._e()),(e=e.copy(null,null,null,e.left.he(),null)).ue()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.et()||i.left.le()||i.left.left.le()||(i=i._e()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.le()&&(i=i.fe()),i.right.et()||i.right.le()||i.right.left.le()||(i=i.de()),0===n(e,i.key)){if(i.right.et())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.he())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.ue()},t.prototype.le=function(){return this.color},t.prototype.ue=function(){var t=this;return t.right.le()&&!t.left.le()&&(t=t.we()),t.left.le()&&t.left.left.le()&&(t=t.fe()),t.left.le()&&t.right.le()&&(t=t.Ee()),t},t.prototype._e=function(){var t=this.Ee();return t.right.left.le()&&(t=(t=(t=t.copy(null,null,null,null,t.right.fe())).we()).Ee()),t},t.prototype.de=function(){var t=this.Ee();return t.left.left.le()&&(t=(t=t.fe()).Ee()),t},t.prototype.we=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.fe=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Ee=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Te=function(){var t=this.Ie();return Math.pow(2,t)<=this.size+1},t.prototype.Ie=function(){if(this.le()&&this.left.le())throw Um();if(this.right.le())throw Um();var t=this.left.Ie();if(t!==this.right.Ie())throw Um();return t+(this.le()?0:1)},t}();gy.EMPTY=null,gy.RED=!0,gy.Ht=!1,gy.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Um()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Um()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Um()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Um()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Um()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.zt=function(t,e,n){return new gy(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.et=function(){return!0},t.prototype.Xt=function(t){return!1},t.prototype.Zt=function(t){return!1},t.prototype.Jt=function(){return null},t.prototype.Yt=function(){return null},t.prototype.le=function(){return!1},t.prototype.Te=function(){return!0},t.prototype.Ie=function(){return 0},t}());var by=function(){function t(t){this.H=t,this.data=new py(this.H)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Jt()},t.prototype.last=function(){return this.data.Yt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Xt(function(e,n){return t(e),!1})},t.prototype.me=function(t,e){for(var n=this.data.ee(t[0]);n.ce();){var r=n.oe();if(this.H(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ae=function(t,e){var n;for(n=void 0!==e?this.data.ee(e):this.data.te();n.ce();)if(!t(n.oe().key))return},t.prototype.Re=function(t){var e=this.data.ee(t);return e.ce()?e.oe().key:null},t.prototype.te=function(){return new yy(this.data.te())},t.prototype.ee=function(t){return new yy(this.data.ee(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).zt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.et=function(){return this.data.et()},t.prototype.Pe=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.te(),r=e.data.te();n.ce();){var i=n.oe().key,s=r.oe().key;if(0!==this.H(i,s))return!1}return!0},t.prototype.it=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.H);return n.data=e,n},t}(),yy=function(){function t(t){this.ye=t}return t.prototype.oe=function(){return this.ye.oe().key},t.prototype.ce=function(){return this.ye.ce()},t}(),_y=new py(hg.H);function vy(){return _y}function wy(){return vy()}var Cy=new py(hg.H);function Oy(){return Cy}var ky=new py(hg.H);function Sy(){return ky}var xy=new by(hg.H);function Ey(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=xy,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var Ty=new by(Ym);function Iy(){return Ty}var Ay=function(){function t(t){this.H=t?function(e,n){return t(e,n)||hg.H(e.key,n.key)}:function(t,e){return hg.H(t.key,e.key)},this.ge=Oy(),this.Ve=new py(this.H)}return t.pe=function(e){return new t(e.H)},t.prototype.has=function(t){return null!=this.ge.get(t)},t.prototype.get=function(t){return this.ge.get(t)},t.prototype.first=function(){return this.Ve.Jt()},t.prototype.last=function(){return this.Ve.Yt()},t.prototype.et=function(){return this.Ve.et()},t.prototype.indexOf=function(t){var e=this.ge.get(t);return e?this.Ve.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Ve.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Ve.Xt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.ge.zt(t.key,t),e.Ve.zt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.ge.remove(t),this.Ve.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Ve.te(),r=e.Ve.te();n.ce();){var i=n.oe().key,s=r.oe().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.H=this.H,r.ge=e,r.Ve=n,r},t}(),Ry=function(){function t(){this.be=new py(hg.H)}return t.prototype.track=function(t){var e=t.doc.key,n=this.be.get(e);n?0!==t.type&&3===n.type?this.be=this.be.zt(e,t):3===t.type&&1!==n.type?this.be=this.be.zt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.be=this.be.zt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.be=this.be.remove(e):1===t.type&&2===n.type?this.be=this.be.zt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):Um():this.be=this.be.zt(e,t)},t.prototype.ve=function(){var t=[];return this.be.Xt(function(e,n){t.push(n)}),t},t}(),Dy=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.Se=n,this.docChanges=r,this.De=i,this.fromCache=s,this.Ce=o,this.xe=a}return t.Ne=function(e,n,r,i){var s=[];return n.forEach(function(t){s.push({type:0,doc:t})}),new t(e,n,Ay.pe(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.De.et()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Ce===t.Ce&&this.De.isEqual(t.De)&&Ob(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Se.isEqual(t.Se)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),jy=function(){function t(t,e,n,r,i){this.Ot=t,this.$e=e,this.Fe=n,this.Oe=r,this.ke=i}return t.Me=function(e,n){var r=new Map;return r.set(e,Py.Le(e,n)),new t(og.min(),r,Iy(),vy(),Ey())},t}(),Py=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Be=e,this.qe=n,this.Ue=r,this.Qe=i}return t.Le=function(e,n){return new t($m.T,n,Ey(),Ey(),Ey())},t}(),Ny=function(t,e,n,r){this.Ke=t,this.removedTargetIds=e,this.key=n,this.We=r},Ly=function(t,e){this.targetId=t,this.je=e},Fy=function(t,e,n,r){void 0===n&&(n=$m.T),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},My=function(){function t(){this.Ge=0,this.ze=By(),this.He=$m.T,this.Je=!1,this.Ye=!0}return Object.defineProperty(t.prototype,"Be",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.He},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Xe",{get:function(){return 0!==this.Ge},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),t.prototype.tn=function(t){t.l()>0&&(this.Ye=!0,this.He=t)},t.prototype.en=function(){var t=Ey(),e=Ey(),n=Ey();return this.ze.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Um()}}),new Py(this.He,this.Je,t,e,n)},t.prototype.nn=function(){this.Ye=!1,this.ze=By()},t.prototype.sn=function(t,e){this.Ye=!0,this.ze=this.ze.zt(t,e)},t.prototype.rn=function(t){this.Ye=!0,this.ze=this.ze.remove(t)},t.prototype.on=function(){this.Ge+=1},t.prototype.cn=function(){this.Ge-=1},t.prototype.an=function(){this.Ye=!0,this.Je=!0},t}(),Vy=function(){function t(t){this.un=t,this.hn=new Map,this.ln=vy(),this._n=Uy(),this.fn=new by(Ym)}return t.prototype.dn=function(t){for(var e=0,n=t.Ke;e<n.length;e++){var r=n[e];t.We instanceof Hg?this.wn(r,t.We):t.We instanceof qg&&this.En(r,t.key,t.We)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.En(r=s[i],t.key,t.We)},t.prototype.Tn=function(t){var e=this;this.In(t,function(n){var r=e.mn(n);switch(t.state){case 0:e.An(n)&&r.tn(t.resumeToken);break;case 1:r.cn(),r.Xe||r.nn(),r.tn(t.resumeToken);break;case 2:r.cn(),r.Xe||e.removeTarget(n);break;case 3:e.An(n)&&(r.an(),r.tn(t.resumeToken));break;case 4:e.An(n)&&(e.Rn(n),r.tn(t.resumeToken));break;default:Um()}})},t.prototype.In=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.hn.forEach(function(t,r){n.An(r)&&e(r)})},t.prototype.Pn=function(t){var e=t.targetId,n=t.je.count,r=this.yn(e);if(r){var i=r.target;if(Xg(i))if(0===n){var s=new hg(i.path);this.En(e,s,new qg(s,og.min()))}else Bm(1===n);else this.gn(e)!==n&&(this.Rn(e),this.fn=this.fn.add(e))}},t.prototype.Vn=function(t){var e=this,n=new Map;this.hn.forEach(function(r,i){var s=e.yn(i);if(s){if(r.Be&&Xg(s.target)){var o=new hg(s.target.path);null!==e.ln.get(o)||e.pn(i,o)||e.En(i,o,new qg(o,t))}r.Ze&&(n.set(i,r.en()),r.nn())}});var r=Ey();this._n.forEach(function(t,n){var i=!0;n.Ae(function(t){var n=e.yn(t);return!n||2===n.Ft||(i=!1,!1)}),i&&(r=r.add(t))});var i=new jy(t,n,this.fn,this.ln,r);return this.ln=vy(),this._n=Uy(),this.fn=new by(Ym),i},t.prototype.wn=function(t,e){if(this.An(t)){var n=this.pn(t,e.key)?2:0;this.mn(t).sn(e.key,n),this.ln=this.ln.zt(e.key,e),this._n=this._n.zt(e.key,this.bn(e.key).add(t))}},t.prototype.En=function(t,e,n){if(this.An(t)){var r=this.mn(t);this.pn(t,e)?r.sn(e,1):r.rn(e),this._n=this._n.zt(e,this.bn(e).delete(t)),n&&(this.ln=this.ln.zt(e,n))}},t.prototype.removeTarget=function(t){this.hn.delete(t)},t.prototype.gn=function(t){var e=this.mn(t).en();return this.un.vn(t).size+e.qe.size-e.Qe.size},t.prototype.on=function(t){this.mn(t).on()},t.prototype.mn=function(t){var e=this.hn.get(t);return e||(e=new My,this.hn.set(t,e)),e},t.prototype.bn=function(t){var e=this._n.get(t);return e||(e=new by(Ym),this._n=this._n.zt(t,e)),e},t.prototype.An=function(t){var e=null!==this.yn(t);return e||Lm("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.yn=function(t){var e=this.hn.get(t);return e&&e.Xe?null:this.un.Sn(t)},t.prototype.Rn=function(t){var e=this;this.hn.set(t,new My),this.un.vn(t).forEach(function(n){e.En(t,n,null)})},t.prototype.pn=function(t,e){return this.un.vn(t).has(e)},t}();function Uy(){return new py(hg.H)}function By(){return new py(hg.H)}var zy={asc:"ASCENDING",desc:"DESCENDING"},Hy={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qy=function(t,e){this.t=t,this.Bt=e};function Yy(t,e){return t.Bt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Gy(t,e){return t.Bt?e.toBase64():e.toUint8Array()}function Wy(t,e){return Yy(t,e.j())}function $y(t){return Bm(!!t),og.K(function(t){var e=bg(t);return new sg(e.seconds,e.nanos)}(t))}function Ky(t,e){return function(t){return new cg(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).rt()}function Xy(t){var e=cg.ot(t);return Bm(v_(e)),e}function Qy(t,e){return Ky(t.t,e.path)}function Zy(t,e){var n=Xy(e);if(n.get(1)!==t.t.projectId)throw new Xm(Km.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new Xm(Km.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new hg(n_(n))}function Jy(t,e){return Ky(t.t,e)}function t_(t){var e=Xy(t);return 4===e.length?cg.ct():n_(e)}function e_(t){return new cg(["projects",t.t.projectId,"databases",t.t.database]).rt()}function n_(t){return Bm(t.length>4&&"documents"===t.get(4)),t.Y(5)}function r_(t,e,n){return{name:Qy(t,e),fields:n.proto.mapValue.fields}}function i_(t,e,n){var r=Zy(t,e.name),i=$y(e.updateTime),s=new Vg({mapValue:{fields:e.fields}});return new Hg(r,i,s,{hasCommittedMutations:!!n})}function s_(t,e){var n;if(e instanceof ey)n={update:r_(t,e.key,e.value)};else if(e instanceof ly)n={delete:Qy(t,e.key)};else if(e instanceof ny)n={update:r_(t,e.key,e.data),updateMask:__(e.Gt)};else{if(!(e instanceof uy))return Um();n={verify:Qy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Fb)return{fieldPath:e.field.rt(),setToServerValue:"REQUEST_TIME"};if(n instanceof Mb)return{fieldPath:e.field.rt(),appendMissingElements:{values:n.elements}};if(n instanceof Ub)return{fieldPath:e.field.rt(),removeAllFromArray:{values:n.elements}};if(n instanceof zb)return{fieldPath:e.field.rt(),increment:n.Ut};throw Um()}(0,t)})),e.jt.Wt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Wy(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Um()}(t,e.jt)),n}function o_(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Wb.updateTime($y(t.updateTime)):void 0!==t.exists?Wb.exists(t.exists):Wb.Kt()}(e.currentDocument):Wb.Kt(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Bm("REQUEST_TIME"===e.setToServerValue),n=new Fb):"appendMissingElements"in e?n=new Mb(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Ub(e.removeAllFromArray.values||[]):"increment"in e?n=new zb(t,e.increment):Um();var r=ug.lt(e.fieldPath);return new Yb(r,n)}(t,e)}):[];if(e.update){var i=Zy(t,e.update.name),s=new Vg({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new mg((t.fieldPaths||[]).map(function(t){return ug.lt(t)}))}(e.updateMask);return new ny(i,s,o,n,r)}return new ey(i,s,n,r)}if(e.delete){var a=Zy(t,e.delete);return new ly(a,n)}if(e.verify){var c=Zy(t,e.verify);return new uy(c,n)}return Um()}function a_(t,e){return{documents:[Jy(t,e.path)]}}function c_(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Jy(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Jy(t,r.X()),n.structuredQuery.from=[{collectionId:r.tt()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Fg(t.value))return{unaryFilter:{field:m_(t.field),op:"IS_NAN"}};if(Lg(t.value))return{unaryFilter:{field:m_(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Fg(t.value))return{unaryFilter:{field:m_(t.field),op:"IS_NOT_NAN"}};if(Lg(t.value))return{unaryFilter:{field:m_(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:m_(t.field),op:p_(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:m_(t.field),direction:f_(t.dir)}}(t)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.Bt||Og(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=h_(e.startAt)),e.endAt&&(n.structuredQuery.endAt=h_(e.endAt)),n}function l_(t){var e=t_(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Bm(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=u_(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new cb(g_(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var c=null;n.limit&&(c=function(t){var e;return Og(e="object"==typeof t?t.value:t)?null:e}(n.limit));var l=null;n.startAt&&(l=d_(n.startAt));var u=null;return n.endAt&&(u=d_(n.endAt)),fb(e,i,a,o,c,"F",l,u)}function u_(t){return t?void 0!==t.unaryFilter?[y_(t)]:void 0!==t.fieldFilter?[b_(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return u_(t)}).reduce(function(t,e){return t.concat(e)}):Um():[]}function h_(t){return{before:t.before,values:t.position}}function d_(t){return new ob(t.values||[],!!t.before)}function f_(t){return zy[t]}function p_(t){return Hy[t]}function m_(t){return{fieldPath:t.rt()}}function g_(t){return ug.lt(t.fieldPath)}function b_(t){return Qg.create(g_(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Um()}}(t.fieldFilter.op),t.fieldFilter.value)}function y_(t){switch(t.unaryFilter.op){case"IS_NAN":var e=g_(t.unaryFilter.field);return Qg.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=g_(t.unaryFilter.field);return Qg.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=g_(t.unaryFilter.field);return Qg.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=g_(t.unaryFilter.field);return Qg.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Um()}}function __(t){var e=[];return t.fields.forEach(function(t){return e.push(t.rt())}),{fieldPaths:e}}function v_(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var w_=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},C_=function(){function t(t){var e=this;this.Dn=null,this.Cn=null,this.result=void 0,this.error=void 0,this.xn=!1,this.Nn=!1,t(function(t){e.xn=!0,e.result=t,e.Dn&&e.Dn(t)},function(t){e.xn=!0,e.error=t,e.Cn&&e.Cn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Nn&&Um(),this.Nn=!0,this.xn?this.error?this.$n(n,this.error):this.Fn(e,this.result):new t(function(t,i){r.Dn=function(n){r.Fn(e,n).next(t,i)},r.Cn=function(e){r.$n(n,e).next(t,i)}})},t.prototype.On=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.kn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Fn=function(e,n){return e?this.kn(function(){return e(n)}):t.resolve(n)},t.prototype.$n=function(e,n){return e?this.kn(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.Mn=function(e){return new t(function(t,n){var r=0,i=0,s=!1;e.forEach(function(e){++r,e.next(function(){++i,s&&i===r&&t()},function(t){return n(t)})}),s=!0,i===r&&t()})},t.Ln=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.Mn(r)},t}(),O_=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Bn=new w_,this.transaction.oncomplete=function(){n.Bn.resolve()},this.transaction.onabort=function(){e.error?n.Bn.reject(new x_(t,e.error)):n.Bn.resolve()},this.transaction.onerror=function(e){var r=R_(e.target.error);n.Bn.reject(new x_(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new x_(n,e)}},Object.defineProperty(t.prototype,"qn",{get:function(){return this.Bn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Bn.reject(t),this.aborted||(Lm("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new T_(e)},t}(),k_=function(){function t(e,n,r){this.name=e,this.version=n,this.Un=r,12.2===t.Qn(Object(Th.j)())&&Fm("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Lm("SimpleDb","Removing database:",t),I_(window.indexedDB.deleteDatabase(t)).On()},t.Kn=function(){if("undefined"==typeof indexedDB)return!1;if(t.Wn())return!0;var e=Object(Th.j)(),n=t.Qn(e),r=0<n&&n<10,i=t.jn(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.Wn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Gn)},t.zn=function(t,e){return t.store(e)},t.Qn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.jn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Hn=function(t){return Object(Rm.b)(this,void 0,void 0,function(){var e,n=this;return Object(Rm.e)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Lm("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new x_(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Xm(Km.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new x_(t,n))},i.onupgradeneeded=function(t){Lm("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Un.Jn(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Lm("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Yn&&(this.db.onversionchange=function(t){return n.Yn(t)}),this.db)]}})})},t.prototype.Xn=function(t){this.Yn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Rm.b)(this,void 0,void 0,function(){var i,s,o,a,c;return Object(Rm.e)(this,function(l){switch(l.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,c,l,u;return Object(Rm.e)(this,function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Hn(t)];case 2:return a.db=h.sent(),e=O_.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch(function(t){return e.abort(t),C_.reject(t)}).On(),c={},o.catch(function(){}),[4,e.qn];case 3:return[2,(c.value=(h.sent(),o),c)];case 4:return Lm("SimpleDb","Transaction failed with error:",(l=h.sent()).message,"Retrying:",u="FirebaseError"!==l.name&&s<3),a.close(),u?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}})},a=this,l.label=1;case 1:return[5,o()];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),S_=function(){function t(t){this.Zn=t,this.ts=!1,this.es=null}return Object.defineProperty(t.prototype,"xn",{get:function(){return this.ts},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ns",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Zn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.ts=!0},t.prototype.ss=function(t){this.es=t},t.prototype.delete=function(){return I_(this.Zn.delete())},t}(),x_=function(t){function e(e,n){var r=this;return(r=t.call(this,Km.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Rm.d)(e,t),e}(Xm);function E_(t){return"IndexedDbTransactionError"===t.name}var T_=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Lm("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Lm("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),I_(n)},t.prototype.add=function(t){return Lm("SimpleDb","ADD",this.store.name,t,t),I_(this.store.add(t))},t.prototype.get=function(t){var e=this;return I_(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Lm("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Lm("SimpleDb","DELETE",this.store.name,t),I_(this.store.delete(t))},t.prototype.count=function(){return Lm("SimpleDb","COUNT",this.store.name),I_(this.store.count())},t.prototype.rs=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.os(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.cs=function(t,e){Lm("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.us=!1;var r=this.cursor(n);return this.os(r,function(t,e,n){return n.delete()})},t.prototype.hs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.os(r,e)},t.prototype.ls=function(t){var e=this.cursor({});return new C_(function(n,r){e.onerror=function(t){var e=R_(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.os=function(t,e){var n=[];return new C_(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new S_(i),o=e(i.primaryKey,i.value,s);if(o instanceof C_){var a=o.catch(function(t){return s.done(),C_.reject(t)});n.push(a)}s.xn?r():null===s.ns?i.continue():i.continue(s.ns)}else r()}}).next(function(){return C_.Mn(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.us?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function I_(t){return new C_(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=R_(t.target.error);n(e)}})}var A_=!1;function R_(t){var e=k_.Qn(Object(Th.j)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Xm("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return A_||(A_=!0,setTimeout(function(){throw r},0)),r}}return t}var D_=function(){function t(t,e,n,r,i){this._s=t,this.fs=e,this.ds=n,this.op=r,this.ws=i,this.Es=new w_,this.then=this.Es.promise.then.bind(this.Es.promise),this.Es.promise.catch(function(t){})}return t.Ts=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.Is=setTimeout(function(){return e.As()},t)},t.prototype.Rs=function(){return this.As()},t.prototype.cancel=function(t){null!==this.Is&&(this.clearTimeout(),this.Es.reject(new Xm(Km.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.As=function(){var t=this;this._s.Ps(function(){return null!==t.Is?(t.clearTimeout(),t.op().then(function(e){return t.Es.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.Is&&(this.ws(this),clearTimeout(this.Is),this.Is=null)},t}();function j_(t,e){if(Fm("AsyncQueue",e+": "+t),E_(t))return new Xm(Km.UNAVAILABLE,e+": "+t);throw t}var P_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",N_=function(){function t(){this.ys=[]}return t.prototype.gs=function(t){this.ys.push(t)},t.prototype.Vs=function(){this.ys.forEach(function(t){return t()})},t}();function L_(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=M_(e)),e=F_(t.get(n),e);return M_(e)}function F_(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function M_(t){return t+"\x01\x01"}function V_(t){var e=t.length;if(Bm(e>=2),2===e)return Bm("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),cg.ct();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&Um(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),c=void 0;0===i.length?c=a:(c=i+=a,i=""),r.push(c);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:Um()}s=o+2}return new cg(r)}var U_=function(t,e){this.seconds=t,this.nanoseconds=e},B_=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};B_.store="owner",B_.key="owner";var z_=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};z_.store="mutationQueues",z_.keyPath="userId";var H_=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};H_.store="mutations",H_.keyPath="batchId",H_.userMutationsIndex="userMutationsIndex",H_.userMutationsKeyPath=["userId","batchId"];var q_=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,L_(e)]},t.key=function(t,e,n){return[t,L_(e),n]},t}();q_.store="documentMutations",q_.PLACEHOLDER=new q_;var Y_=function(t,e){this.path=t,this.readTime=e},G_=function(t,e){this.path=t,this.version=e},W_=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};W_.store="remoteDocuments",W_.readTimeIndex="readTimeIndex",W_.readTimeIndexPath="readTime",W_.collectionReadTimeIndex="collectionReadTimeIndex",W_.collectionReadTimeIndexPath=["parentPath","readTime"];var $_=function(t){this.byteSize=t};$_.store="remoteDocumentGlobal",$_.key="remoteDocumentGlobalKey";var K_=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};K_.store="targets",K_.keyPath="targetId",K_.queryTargetsIndexName="queryTargetsIndex",K_.queryTargetsKeyPath=["canonicalId","targetId"];var X_=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};X_.store="targetDocuments",X_.keyPath=["targetId","path"],X_.documentTargetsIndex="documentTargetsIndex",X_.documentTargetsKeyPath=["path","targetId"];var Q_=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Q_.key="targetGlobalKey",Q_.store="targetGlobal";var Z_=function(t,e){this.collectionId=t,this.parent=e};Z_.store="collectionParents",Z_.keyPath=["collectionId","parent"];var J_=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};J_.store="clientMetadata",J_.keyPath="clientId";var tv=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};tv.store="bundles",tv.keyPath="bundleId";var ev=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};ev.store="namedQueries",ev.keyPath="name";var nv=Object(Rm.i)(Object(Rm.i)(Object(Rm.i)(Object(Rm.i)([z_.store,H_.store,q_.store,W_.store,K_.store,B_.store,Q_.store,X_.store],[J_.store]),[$_.store]),[Z_.store]),[tv.store,ev.store]),rv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ps=e,r.bs=n,r}return Object(Rm.d)(e,t),e}(N_);function iv(t,e){var n=zm(t);return k_.zn(n.ps,e)}var sv=function(){function t(t,e,n,r){this.batchId=t,this.vs=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ss=function(t,e,n){for(var r=n.Ds,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t)&&(e=Xb(s,e,r[i]))}return e},t.prototype.Cs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(o=r[n]).key.isEqual(t)&&(e=Qb(o,e,this.vs));for(var i=0,s=this.mutations;i<s.length;i++){var o;(o=s[i]).key.isEqual(t)&&(e=Qb(o,e,this.vs))}return e},t.prototype.xs=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.Cs(r.key,t.get(r.key));i&&(n=n.zt(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Ey())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Gm(this.mutations,t.mutations,function(t,e){return Jb(t,e)})&&Gm(this.baseMutations,t.baseMutations,function(t,e){return Jb(t,e)})},t}(),ov=function(){function t(t,e,n,r){this.batch=t,this.Ns=e,this.Ds=n,this.$s=r}return t.from=function(e,n,r){Bm(e.mutations.length===r.length);for(var i=Sy(),s=e.mutations,o=0;o<s.length;o++)i=i.zt(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),av=function(t){this.Fs=t};function cv(t,e){if(e.document)return i_(t.Fs,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=hg.Et(e.noDocument.path),r=fv(e.noDocument.readTime);return new qg(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=hg.Et(e.unknownDocument.path);return r=fv(e.unknownDocument.version),new Yg(i,r)}return Um()}function lv(t,e,n){var r=uv(n),i=e.key.path.X().it();if(e instanceof Hg){var s=function(t,e){return{name:Qy(t,e.key),fields:e.bt().mapValue.fields,updateTime:Yy(t,e.version.j())}}(t.Fs,e),o=e.hasCommittedMutations;return new W_(null,null,s,o,r,i)}if(e instanceof qg){var a=e.key.path.it(),c=dv(e.version);return o=e.hasCommittedMutations,new W_(null,new Y_(a,c),null,o,r,i)}if(e instanceof Yg){var l=e.key.path.it(),u=dv(e.version);return new W_(new G_(l,u),null,null,!0,r,i)}return Um()}function uv(t){var e=t.j();return[e.seconds,e.nanoseconds]}function hv(t){var e=new sg(t[0],t[1]);return og.K(e)}function dv(t){var e=t.j();return new U_(e.seconds,e.nanoseconds)}function fv(t){var e=new sg(t.seconds,t.nanoseconds);return og.K(e)}function pv(t,e){for(var n=(e.baseMutations||[]).map(function(e){return o_(t.Fs,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return o_(t.Fs,e)}),s=sg.fromMillis(e.localWriteTimeMs);return new sv(e.batchId,s,n,i)}function mv(t){var e,n,r=fv(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?fv(t.lastLimboFreeSnapshotVersion):og.min();return void 0!==t.query.documents?(Bm(1===(n=t.query).documents.length),e=wb(pb(t_(n.documents[0])))):e=function(t){return wb(l_(t))}(t.query),new Ib(e,t.targetId,0,t.lastListenSequenceNumber,r,i,$m.fromBase64String(t.resumeToken))}function gv(t,e){var n,r=dv(e.Ot),i=dv(e.lastLimboFreeSnapshotVersion);n=Xg(e.target)?a_(t.Fs,e.target):c_(t.Fs,e.target);var s=e.resumeToken.toBase64();return new K_(e.targetId,$g(e.target),r,s,e.sequenceNumber,i,n)}function bv(t){var e=l_({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Cb(e,e.limit,"L"):e}var yv=function(){function t(){}return t.prototype.Os=function(t,e){return _v(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:fv(e.createTime),version:e.version};var e})},t.prototype.ks=function(t,e){return _v(t).put({bundleId:(n=e).id,createTime:dv($y(n.createTime)),version:n.version});var n},t.prototype.Ms=function(t,e){return vv(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:bv(e.bundledQuery),readTime:fv(e.readTime)};var e})},t.prototype.Ls=function(t,e){return vv(t).put(function(t){return{name:t.name,readTime:dv($y(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function _v(t){return iv(t,tv.store)}function vv(t){return iv(t,ev.store)}var wv=function(){function t(){this.Bs=new Cv}return t.prototype.qs=function(t,e){return this.Bs.add(e),C_.resolve()},t.prototype.Us=function(t,e){return C_.resolve(this.Bs.getEntries(e))},t}(),Cv=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.tt(),n=t.X(),r=this.index[e]||new by(cg.H),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.tt(),n=t.X(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new by(cg.H)).it()},t}(),Ov=function(){function t(){this.Qs=new Cv}return t.prototype.qs=function(t,e){var n=this;if(!this.Qs.has(e)){var r=e.tt(),i=e.X();t.gs(function(){n.Qs.add(e)});var s={collectionId:r,parent:L_(i)};return kv(t).put(s)}return C_.resolve()},t.prototype.Us=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Wm(e),""],!1,!0);return kv(t).rs(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(V_(s.parent))}return n})},t}();function kv(t){return iv(t,Z_.store)}var Sv={Ks:!1,Ws:0,js:0,Gs:0},xv=function(){function t(t,e,n){this.zs=t,this.Hs=e,this.Js=n}return t.Ys=function(e){return new t(e,t.Xs,t.Zs)},t}();function Ev(t){return Object(Rm.b)(this,void 0,void 0,function(){return Object(Rm.e)(this,function(e){if(t.code!==Km.FAILED_PRECONDITION||t.message!==P_)throw t;return Lm("LocalStore","Unexpectedly lost primary lease"),[2]})})}xv.Xs=10,xv.Zs=1e3,xv.ti=new xv(41943040,xv.Xs,xv.Zs),xv.ei=new xv(-1,0,0);var Tv=function(){function t(t,e){this.ni=t,this.si=e,this.ii={}}return t.prototype.get=function(t){var e=this.ni(t),n=this.ii[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.si(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ni(t),r=this.ii[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.si(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ii[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ni(t),n=this.ii[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.si(n[r][0],t))return 1===n.length?delete this.ii[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){fg(this.ii,function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}})},t.prototype.et=function(){return pg(this.ii)},t}(),Iv=function(){function t(){this.ri=new Tv(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.oi=!1}return t.prototype.ci=function(t){var e=this.ri.get(t);return e?e.readTime:og.min()},t.prototype.ai=function(t,e){this.ui(),this.ri.set(t.key,{hi:t,readTime:e})},t.prototype.li=function(t,e){void 0===e&&(e=null),this.ui(),this.ri.set(t,{hi:null,readTime:e})},t.prototype._i=function(t,e){this.ui();var n=this.ri.get(e);return void 0!==n?C_.resolve(n.hi):this.fi(t,e)},t.prototype.getEntries=function(t,e){return this.di(t,e)},t.prototype.apply=function(t){return this.ui(),this.oi=!0,this.wi(t)},t.prototype.ui=function(){},t}();function Av(t,e,n){var r=t.store(H_.store),i=t.store(q_.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,c=r.hs({range:o},function(t,e,n){return a++,n.delete()});s.push(c.next(function(){Bm(1===a)}));for(var l=[],u=0,h=n.mutations;u<h.length;u++){var d=h[u],f=q_.key(e,d.key.path,n.batchId);s.push(i.delete(f)),l.push(d.key)}return C_.Mn(s).next(function(){return l})}function Rv(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Um();e=t.noDocument}return JSON.stringify(e).length}var Dv=function(){function t(t,e,n,r){this.userId=t,this.Qt=e,this.Ei=n,this.Ti=r,this.Ii={}}return t.mi=function(e,n,r,i){return Bm(""!==e.uid),new t(e.m()?e.uid:"",n,r,i)},t.prototype.Ai=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Pv(t).hs({index:H_.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.Ri=function(t,e,n,r){var i=this,s=Nv(t),o=Pv(t);return o.add({}).next(function(a){Bm("number"==typeof a);for(var c=new sv(a,e,n,r),l=function(t,e,n){var r=n.baseMutations.map(function(e){return s_(t.Fs,e)}),i=n.mutations.map(function(e){return s_(t.Fs,e)});return new H_(e,n.batchId,n.vs.toMillis(),r,i)}(i.Qt,i.userId,c),u=[],h=new by(function(t,e){return Ym(t.rt(),e.rt())}),d=0,f=r;d<f.length;d++){var p=f[d],m=q_.key(i.userId,p.key.path,a);h=h.add(p.key.path.X()),u.push(o.put(l)),u.push(s.put(m,q_.PLACEHOLDER))}return h.forEach(function(e){u.push(i.Ei.qs(t,e))}),t.gs(function(){i.Ii[a]=c.keys()}),C_.Mn(u).next(function(){return c})})},t.prototype.Pi=function(t,e){var n=this;return Pv(t).get(e).next(function(t){return t?(Bm(t.userId===n.userId),pv(n.Qt,t)):null})},t.prototype.yi=function(t,e){var n=this;return this.Ii[e]?C_.resolve(this.Ii[e]):this.Pi(t,e).next(function(t){if(t){var r=t.keys();return n.Ii[e]=r,r}return null})},t.prototype.gi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return Pv(t).hs({index:H_.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Bm(e.batchId>=r),s=pv(n.Qt,e)),i.done()}).next(function(){return s})},t.prototype.Vi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Pv(t).hs({index:H_.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.pi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Pv(t).rs(H_.userMutationsIndex,n).next(function(t){return t.map(function(t){return pv(e.Qt,t)})})},t.prototype.bi=function(t,e){var n=this,r=q_.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return Nv(t).hs({range:i},function(r,i,o){var a=r[0],c=r[2],l=V_(r[1]);if(a===n.userId&&e.path.isEqual(l))return Pv(t).get(c).next(function(t){if(!t)throw Um();Bm(t.userId===n.userId),s.push(pv(n.Qt,t))});o.done()}).next(function(){return s})},t.prototype.vi=function(t,e){var n=this,r=new by(Ym),i=[];return e.forEach(function(e){var s=q_.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=Nv(t).hs({range:o},function(t,i,s){var o=t[0],a=t[2],c=V_(t[1]);o===n.userId&&e.path.isEqual(c)?r=r.add(a):s.done()});i.push(a)}),C_.Mn(i).next(function(){return n.Si(t,r)})},t.prototype.Di=function(t,e){var n=this,r=e.path,i=r.length+1,s=q_.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new by(Ym);return Nv(t).hs({range:o},function(t,e,s){var o=t[0],c=t[2],l=V_(t[1]);o===n.userId&&r.nt(l)?l.length===i&&(a=a.add(c)):s.done()}).next(function(){return n.Si(t,a)})},t.prototype.Si=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Pv(t).get(e).next(function(t){if(null===t)throw Um();Bm(t.userId===n.userId),r.push(pv(n.Qt,t))}))}),C_.Mn(i).next(function(){return r})},t.prototype.Ci=function(t,e){var n=this;return Av(t.ps,this.userId,e).next(function(r){return t.gs(function(){n.xi(e.batchId)}),C_.forEach(r,function(e){return n.Ti.Ni(t,e)})})},t.prototype.xi=function(t){delete this.Ii[t]},t.prototype.$i=function(t){var e=this;return this.Ai(t).next(function(n){if(!n)return C_.resolve();var r=IDBKeyRange.lowerBound(q_.prefixForUser(e.userId)),i=[];return Nv(t).hs({range:r},function(t,n,r){if(t[0]===e.userId){var s=V_(t[1]);i.push(s)}else r.done()}).next(function(){Bm(0===i.length)})})},t.prototype.Fi=function(t,e){return jv(t,this.userId,e)},t.prototype.Oi=function(t){var e=this;return Lv(t).get(this.userId).next(function(t){return t||new z_(e.userId,-1,"")})},t}();function jv(t,e,n){var r=q_.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return Nv(t).hs({range:s,us:!0},function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()}).next(function(){return o})}function Pv(t){return iv(t,H_.store)}function Nv(t){return iv(t,q_.store)}function Lv(t){return iv(t,z_.store)}var Fv=function(){function t(t){this.ki=t}return t.prototype.next=function(){return this.ki+=2,this.ki},t.Mi=function(){return new t(0)},t.Li=function(){return new t(-1)},t}(),Mv=function(){function t(t,e){this.Ti=t,this.Qt=e}return t.prototype.Bi=function(t){var e=this;return this.qi(t).next(function(n){var r=new Fv(n.highestTargetId);return n.highestTargetId=r.next(),e.Ui(t,n).next(function(){return n.highestTargetId})})},t.prototype.Qi=function(t){return this.qi(t).next(function(t){return og.K(new sg(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.Ki=function(t){return this.qi(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.Wi=function(t,e,n){var r=this;return this.qi(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.j()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ui(t,i)})},t.prototype.ji=function(t,e){var n=this;return this.Gi(t,e).next(function(){return n.qi(t).next(function(r){return r.targetCount+=1,n.zi(e,r),n.Ui(t,r)})})},t.prototype.Hi=function(t,e){return this.Gi(t,e)},t.prototype.Ji=function(t,e){var n=this;return this.Yi(t,e.targetId).next(function(){return Vv(t).delete(e.targetId)}).next(function(){return n.qi(t)}).next(function(e){return Bm(e.targetCount>0),e.targetCount-=1,n.Ui(t,e)})},t.prototype.Xi=function(t,e,n){var r=this,i=0,s=[];return Vv(t).hs(function(o,a){var c=mv(a);c.sequenceNumber<=e&&null===n.get(c.targetId)&&(i++,s.push(r.Ji(t,c)))}).next(function(){return C_.Mn(s)}).next(function(){return i})},t.prototype.In=function(t,e){return Vv(t).hs(function(t,n){var r=mv(n);e(r)})},t.prototype.qi=function(t){return Uv(t).get(Q_.key).next(function(t){return Bm(null!==t),t})},t.prototype.Ui=function(t,e){return Uv(t).put(Q_.key,e)},t.prototype.Gi=function(t,e){return Vv(t).put(gv(this.Qt,e))},t.prototype.zi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Zi=function(t){return this.qi(t).next(function(t){return t.targetCount})},t.prototype.tr=function(t,e){var n=$g(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Vv(t).hs({range:r,index:K_.queryTargetsIndexName},function(t,n,r){var s=mv(n);Kg(e,s.target)&&(i=s,r.done())}).next(function(){return i})},t.prototype.er=function(t,e,n){var r=this,i=[],s=Bv(t);return e.forEach(function(e){var o=L_(e.path);i.push(s.put(new X_(n,o))),i.push(r.Ti.nr(t,n,e))}),C_.Mn(i)},t.prototype.sr=function(t,e,n){var r=this,i=Bv(t);return C_.forEach(e,function(e){var s=L_(e.path);return C_.Mn([i.delete([n,s]),r.Ti.ir(t,n,e)])})},t.prototype.Yi=function(t,e){var n=Bv(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.rr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Bv(t),i=Ey();return r.hs({range:n,us:!0},function(t,e,n){var r=V_(t[1]),s=new hg(r);i=i.add(s)}).next(function(){return i})},t.prototype.Fi=function(t,e){var n=L_(e.path),r=IDBKeyRange.bound([n],[Wm(n)],!1,!0),i=0;return Bv(t).hs({index:X_.documentTargetsIndex,us:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Sn=function(t,e){return Vv(t).get(e).next(function(t){return t?mv(t):null})},t}();function Vv(t){return iv(t,K_.store)}function Uv(t){return iv(t,Q_.store)}function Bv(t){return iv(t,X_.store)}function zv(t,e){var n=t[1],r=e[1],i=Ym(t[0],e[0]);return 0===i?Ym(n,r):i}var Hv=function(){function t(t){this.cr=t,this.buffer=new by(zv),this.ar=0}return t.prototype.ur=function(){return++this.ar},t.prototype.hr=function(t){var e=[t,this.ur()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();zv(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),qv=function(){function t(t,e){this.lr=t,this._s=e,this._r=!1,this.dr=null}return t.prototype.start=function(t){-1!==this.lr.params.zs&&this.wr(t)},t.prototype.stop=function(){this.dr&&(this.dr.cancel(),this.dr=null)},Object.defineProperty(t.prototype,"Er",{get:function(){return null!==this.dr},enumerable:!1,configurable:!0}),t.prototype.wr=function(t){var e=this,n=this._r?3e5:6e4;Lm("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.dr=this._s.Tr("lru_garbage_collection",n,function(){return Object(Rm.b)(e,void 0,void 0,function(){var e;return Object(Rm.e)(this,function(n){switch(n.label){case 0:this.dr=null,this._r=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Ir(this.lr)];case 2:return n.sent(),[3,7];case 3:return E_(e=n.sent())?(Lm("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Ev(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.wr(t)];case 8:return n.sent(),[2]}})})})},t}(),Yv=function(){function t(t,e){this.mr=t,this.params=e}return t.prototype.Ar=function(t,e){return this.mr.Rr(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.Pr=function(t,e){var n=this;if(0===e)return C_.resolve(ig.q);var r=new Hv(e);return this.mr.In(t,function(t){return r.hr(t.sequenceNumber)}).next(function(){return n.mr.yr(t,function(t){return r.hr(t)})}).next(function(){return r.maxValue})},t.prototype.Xi=function(t,e,n){return this.mr.Xi(t,e,n)},t.prototype.gr=function(t,e){return this.mr.gr(t,e)},t.prototype.Vr=function(t,e){var n=this;return-1===this.params.zs?(Lm("LruGarbageCollector","Garbage collection skipped; disabled"),C_.resolve(Sv)):this.pr(t).next(function(r){return r<n.params.zs?(Lm("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.zs),Sv):n.br(t,e)})},t.prototype.pr=function(t){return this.mr.pr(t)},t.prototype.br=function(t,e){var n,r,i,s,o,a,c,l=this,u=Date.now();return this.Ar(t,this.params.Hs).next(function(e){return e>l.params.Js?(Lm("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.Js+" from "+e),r=l.params.Js):r=e,s=Date.now(),l.Pr(t,r)}).next(function(r){return n=r,o=Date.now(),l.Xi(t,n,e)}).next(function(e){return i=e,a=Date.now(),l.gr(t,n)}).next(function(t){return c=Date.now(),Nm()<=Eh.a.DEBUG&&Lm("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-u)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(c-a)+"ms\nTotal Duration: "+(c-u)+"ms"),C_.resolve({Ks:!0,Ws:r,js:i,Gs:t})})},t}(),Gv=function(){function t(t,e){this.db=t,this.lr=function(t,e){return new Yv(t,e)}(this,e)}return t.prototype.Rr=function(t){var e=this.vr(t);return this.db.Sr().Zi(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.vr=function(t){var e=0;return this.yr(t,function(t){e++}).next(function(){return e})},t.prototype.In=function(t,e){return this.db.Sr().In(t,e)},t.prototype.yr=function(t,e){return this.Dr(t,function(t,n){return e(n)})},t.prototype.nr=function(t,e,n){return Wv(t,n)},t.prototype.ir=function(t,e,n){return Wv(t,n)},t.prototype.Xi=function(t,e,n){return this.db.Sr().Xi(t,e,n)},t.prototype.Ni=function(t,e){return Wv(t,e)},t.prototype.Cr=function(t,e){return function(t,e){var n=!1;return Lv(t).ls(function(r){return jv(t,r,e).next(function(t){return t&&(n=!0),C_.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.gr=function(t,e){var n=this,r=this.db.$r().Nr(),i=[],s=0;return this.Dr(t,function(o,a){if(a<=e){var c=n.Cr(t,o).next(function(e){if(!e)return s++,r._i(t,o).next(function(){return r.li(o),Bv(t).delete([0,L_(o.path)])})});i.push(c)}}).next(function(){return C_.Mn(i)}).next(function(){return r.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.kt(t.bs);return this.db.Sr().Hi(t,n)},t.prototype.Fr=function(t,e){return Wv(t,e)},t.prototype.Dr=function(t,e){var n,r=Bv(t),i=ig.q;return r.hs({index:X_.documentTargetsIndex},function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==ig.q&&e(new hg(V_(n)),i),i=o,n=s):i=ig.q}).next(function(){i!==ig.q&&e(new hg(V_(n)),i)})},t.prototype.pr=function(t){return this.db.$r().Or(t)},t}();function Wv(t,e){return Bv(t).put(function(t,e){return new X_(0,L_(t.path),e)}(e,t.bs))}var $v=function(){function t(t,e){this.Qt=t,this.Ei=e}return t.prototype.ai=function(t,e,n){return Qv(t).put(Zv(e),n)},t.prototype.li=function(t,e){var n=Qv(t),r=Zv(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.kr(t,r)})},t.prototype._i=function(t,e){var n=this;return Qv(t).get(Zv(e)).next(function(t){return n.Mr(t)})},t.prototype.Lr=function(t,e){var n=this;return Qv(t).get(Zv(e)).next(function(t){var e=n.Mr(t);return e?{hi:e,size:Rv(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=wy();return this.Br(t,e,function(t,e){var i=n.Mr(e);r=r.zt(t,i)}).next(function(){return r})},t.prototype.qr=function(t,e){var n=this,r=wy(),i=new py(hg.H);return this.Br(t,e,function(t,e){var s=n.Mr(e);s?(r=r.zt(t,s),i=i.zt(t,Rv(e))):(r=r.zt(t,null),i=i.zt(t,0))}).next(function(){return{Ur:r,Qr:i}})},t.prototype.Br=function(t,e,n){if(e.et())return C_.resolve();var r=IDBKeyRange.bound(e.first().path.it(),e.last().path.it()),i=e.te(),s=i.oe();return Qv(t).hs({range:r},function(t,e,r){for(var o=hg.Et(t);s&&hg.H(s,o)<0;)n(s,null),s=i.oe();s&&s.isEqual(o)&&(n(s,e),s=i.ce()?i.oe():null),s?r.ss(s.path.it()):r.done()}).next(function(){for(;s;)n(s,null),s=i.ce()?i.oe():null})},t.prototype.Kr=function(t,e,n){var r=this,i=Oy(),s=e.path.length+1,o={};if(n.isEqual(og.min())){var a=e.path.it();o.range=IDBKeyRange.lowerBound(a)}else{var c=e.path.it(),l=uv(n);o.range=IDBKeyRange.lowerBound([c,l],!0),o.index=W_.collectionReadTimeIndex}return Qv(t).hs(o,function(t,n,o){if(t.length===s){var a=cv(r.Qt,n);e.path.nt(a.key.path)?a instanceof Hg&&xb(e,a)&&(i=i.zt(a.key,a)):o.done()}}).next(function(){return i})},t.prototype.Nr=function(t){return new Kv(this,!!t&&t.Wr)},t.prototype.Or=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Xv(t).get($_.key).next(function(t){return Bm(!!t),t})},t.prototype.kr=function(t,e){return Xv(t).put($_.key,e)},t.prototype.Mr=function(t){if(t){var e=cv(this.Qt,t);return e instanceof qg&&e.version.isEqual(og.min())?null:e}return null},t}(),Kv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jr=e,r.Wr=n,r.Gr=new Tv(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(Rm.d)(e,t),e.prototype.wi=function(t){var e=this,n=[],r=0,i=new by(function(t,e){return Ym(t.rt(),e.rt())});return this.ri.forEach(function(s,o){var a=e.Gr.get(s);if(o.hi){var c=lv(e.jr.Qt,o.hi,e.ci(s));i=i.add(s.path.X());var l=Rv(c);r+=l-a,n.push(e.jr.ai(t,s,c))}else if(r-=a,e.Wr){var u=lv(e.jr.Qt,new qg(s,og.min()),e.ci(s));n.push(e.jr.ai(t,s,u))}else n.push(e.jr.li(t,s))}),i.forEach(function(r){n.push(e.jr.Ei.qs(t,r))}),n.push(this.jr.updateMetadata(t,r)),C_.Mn(n)},e.prototype.fi=function(t,e){var n=this;return this.jr.Lr(t,e).next(function(t){return null===t?(n.Gr.set(e,0),null):(n.Gr.set(e,t.size),t.hi)})},e.prototype.di=function(t,e){var n=this;return this.jr.qr(t,e).next(function(t){var e=t.Ur;return t.Qr.forEach(function(t,e){n.Gr.set(t,e)}),e})},e}(Iv);function Xv(t){return iv(t,$_.store)}function Qv(t){return iv(t,W_.store)}function Zv(t){return t.path.it()}var Jv=function(){function t(t){this.Qt=t}return t.prototype.Jn=function(t,e,n,r){var i=this;Bm(n<r&&n>=0&&r<=11);var s=new O_("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(B_.store)}(t),function(t){t.createObjectStore(z_.store,{keyPath:z_.keyPath}),t.createObjectStore(H_.store,{keyPath:H_.keyPath,autoIncrement:!0}).createIndex(H_.userMutationsIndex,H_.userMutationsKeyPath,{unique:!0}),t.createObjectStore(q_.store)}(t),tw(t),function(t){t.createObjectStore(W_.store)}(t));var o=C_.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(X_.store),t.deleteObjectStore(K_.store),t.deleteObjectStore(Q_.store)}(t),tw(t)),o=o.next(function(){return function(t){var e=t.store(Q_.store),n=new Q_(0,0,og.min().j(),0);return e.put(Q_.key,n)}(s)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(H_.store).rs().next(function(n){t.deleteObjectStore(H_.store),t.createObjectStore(H_.store,{keyPath:H_.keyPath,autoIncrement:!0}).createIndex(H_.userMutationsIndex,H_.userMutationsKeyPath,{unique:!0});var r=e.store(H_.store),i=n.map(function(t){return r.put(t)});return C_.Mn(i)})}(t,s)})),o=o.next(function(){!function(t){t.createObjectStore(J_.store,{keyPath:J_.keyPath})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.zr(s)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore($_.store)}(t),i.Hr(s)})),n<7&&r>=7&&(o=o.next(function(){return i.Jr(s)})),n<8&&r>=8&&(o=o.next(function(){return i.Yr(t,s)})),n<9&&r>=9&&(o=o.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(W_.store);e.createIndex(W_.readTimeIndex,W_.readTimeIndexPath,{unique:!1}),e.createIndex(W_.collectionReadTimeIndex,W_.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(o=o.next(function(){return i.Xr(s)})),n<11&&r>=11&&(o=o.next(function(){!function(t){t.createObjectStore(tv.store,{keyPath:tv.keyPath})}(t),function(t){t.createObjectStore(ev.store,{keyPath:ev.keyPath})}(t)})),o},t.prototype.Hr=function(t){var e=0;return t.store(W_.store).hs(function(t,n){e+=Rv(n)}).next(function(){var n=new $_(e);return t.store($_.store).put($_.key,n)})},t.prototype.zr=function(t){var e=this,n=t.store(z_.store),r=t.store(H_.store);return n.rs().next(function(n){return C_.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.rs(H_.userMutationsIndex,i).next(function(r){return C_.forEach(r,function(r){Bm(r.userId===n.userId);var i=pv(e.Qt,r);return Av(t,n.userId,i).next(function(){})})})})})},t.prototype.Jr=function(t){var e=t.store(X_.store),n=t.store(W_.store);return t.store(Q_.store).get(Q_.key).next(function(t){var r=[];return n.hs(function(n,i){var s=new cg(n),o=function(t){return[0,L_(t)]}(s);r.push(e.get(o).next(function(n){return n?C_.resolve():function(n){return e.put(new X_(0,L_(n),t.highestListenSequenceNumber))}(s)}))}).next(function(){return C_.Mn(r)})})},t.prototype.Yr=function(t,e){t.createObjectStore(Z_.store,{keyPath:Z_.keyPath});var n=e.store(Z_.store),r=new Cv,i=function(t){if(r.add(t)){var e=t.tt(),i=t.X();return n.put({collectionId:e,parent:L_(i)})}};return e.store(W_.store).hs({us:!0},function(t,e){var n=new cg(t);return i(n.X())}).next(function(){return e.store(q_.store).hs({us:!0},function(t,e){var n=V_(t[1]);return i(n.X())})})},t.prototype.Xr=function(t){var e=this,n=t.store(K_.store);return n.hs(function(t,r){var i=mv(r),s=gv(e.Qt,i);return n.put(s)})},t}();function tw(t){t.createObjectStore(X_.store,{keyPath:X_.keyPath}).createIndex(X_.documentTargetsIndex,X_.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(K_.store,{keyPath:K_.keyPath}).createIndex(K_.queryTargetsIndexName,K_.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Q_.store)}var ew="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",nw=function(){function t(e,n,r,i,s,o,a,c,l,u){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Zr=s,this.window=o,this.document=a,this.eo=l,this.no=u,this.so=null,this.io=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ro=null,this.inForeground=!1,this.oo=null,this.co=null,this.ao=Number.NEGATIVE_INFINITY,this.uo=function(t){return Promise.resolve()},!t.Kn())throw new Xm(Km.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ti=new Gv(this,i),this.ho=n+"main",this.Qt=new av(c),this.lo=new k_(this.ho,11,new Jv(this.Qt)),this._o=new Mv(this.Ti,this.Qt),this.Ei=new Ov,this.fo=function(t,e){return new $v(t,e)}(this.Qt,this.Ei),this.wo=new yv,this.window&&this.window.localStorage?this.Eo=this.window.localStorage:(this.Eo=null,!1===u&&Fm("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.To().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Xm(Km.FAILED_PRECONDITION,ew);return t.Io(),t.mo(),t.Ao(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t._o.Ki(e)})}).then(function(e){t.so=new ig(e,t.eo)}).then(function(){t.io=!0}).catch(function(e){return t.lo&&t.lo.close(),Promise.reject(e)})},t.prototype.Ro=function(t){var e=this;return this.uo=function(n){return Object(Rm.b)(e,void 0,void 0,function(){return Object(Rm.e)(this,function(e){return this.Er?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.Po=function(t){var e=this;this.lo.Xn(function(n){return Object(Rm.b)(e,void 0,void 0,function(){return Object(Rm.e)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.yo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Zr.Ps(function(){return Object(Rm.b)(e,void 0,void 0,function(){return Object(Rm.e)(this,function(t){switch(t.label){case 0:return this.Er?[4,this.To()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.To=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return iw(e).put(new J_(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Vo(e).next(function(e){e||(t.isPrimary=!1,t.Zr.po(function(){return t.uo(!1)}))})}).next(function(){return t.bo(e)}).next(function(n){return t.isPrimary&&!n?t.vo(e).next(function(){return!1}):!!n&&t.So(e).next(function(){return!0})})}).catch(function(e){if(E_(e))return Lm("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Lm("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Zr.po(function(){return t.uo(e)}),t.isPrimary=e})},t.prototype.Vo=function(t){var e=this;return rw(t).get(B_.key).next(function(t){return C_.resolve(e.Do(t))})},t.prototype.Co=function(t){return iw(t).delete(this.clientId)},t.prototype.xo=function(){return Object(Rm.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(Rm.e)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.No(this.ao,18e5)?[3,2]:(this.ao=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=iv(t,J_.store);return e.rs().next(function(t){var n=r.$o(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return C_.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Eo)for(e=0,n=t;e<n.length;e++)this.Eo.removeItem(this.Fo(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.Ao=function(){var t=this;this.co=this.Zr.Tr("client_metadata_refresh",4e3,function(){return t.To().then(function(){return t.xo()}).then(function(){return t.Ao()})})},t.prototype.Do=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.bo=function(t){var e=this;return this.no?C_.resolve(!0):rw(t).get(B_.key).next(function(n){if(null!==n&&e.No(n.leaseTimestampMs,5e3)&&!e.Oo(n.ownerId)){if(e.Do(n)&&e.networkEnabled)return!0;if(!e.Do(n)){if(!n.allowTabSynchronization)throw new Xm(Km.FAILED_PRECONDITION,ew);return!1}}return!(!e.networkEnabled||!e.inForeground)||iw(t).rs().next(function(t){return void 0===e.$o(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Lm("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.ko=function(){return Object(Rm.b)(this,void 0,void 0,function(){var t=this;return Object(Rm.e)(this,function(e){switch(e.label){case 0:return this.io=!1,this.Mo(),this.co&&(this.co.cancel(),this.co=null),this.Lo(),this.Bo(),[4,this.lo.runTransaction("shutdown","readwrite",[B_.store,J_.store],function(e){var n=new rv(e,ig.q);return t.vo(n).next(function(){return t.Co(n)})})];case 1:return e.sent(),this.lo.close(),this.qo(),[2]}})})},t.prototype.$o=function(t,e){var n=this;return t.filter(function(t){return n.No(t.updateTimeMs,e)&&!n.Oo(t.clientId)})},t.prototype.Uo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return iw(e).rs().next(function(e){return t.$o(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Qo=function(t){return Dv.mi(t,this.Qt,this.Ei,this.Ti)},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Ko=function(){return this.Ei},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Lm("IndexedDbPersistence","Starting transaction:",t),this.lo.runTransaction(t,"readonly"===e?"readonly":"readwrite",nv,function(s){return r=new rv(s,i.so?i.so.next():ig.q),"readwrite-primary"===e?i.Vo(r).next(function(t){return!!t||i.bo(r)}).next(function(e){if(!e)throw Fm("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Zr.po(function(){return i.uo(!1)}),new Xm(Km.FAILED_PRECONDITION,P_);return n(r)}).next(function(t){return i.So(r).next(function(){return t})}):i.jo(r).next(function(){return n(r)})}).then(function(t){return r.Vs(),t})},t.prototype.jo=function(t){var e=this;return rw(t).get(B_.key).next(function(t){if(null!==t&&e.No(t.leaseTimestampMs,5e3)&&!e.Oo(t.ownerId)&&!e.Do(t)&&!(e.no||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Xm(Km.FAILED_PRECONDITION,ew)})},t.prototype.So=function(t){var e=new B_(this.clientId,this.allowTabSynchronization,Date.now());return rw(t).put(B_.key,e)},t.Kn=function(){return k_.Kn()},t.prototype.vo=function(t){var e=this,n=rw(t);return n.get(B_.key).next(function(t){return e.Do(t)?(Lm("IndexedDbPersistence","Releasing primary lease."),n.delete(B_.key)):C_.resolve()})},t.prototype.No=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Fm("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Io=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.oo=function(){t.Zr.Ps(function(){return t.inForeground="visible"===t.document.visibilityState,t.To()})},this.document.addEventListener("visibilitychange",this.oo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Lo=function(){this.oo&&(this.document.removeEventListener("visibilitychange",this.oo),this.oo=null)},t.prototype.mo=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ro=function(){e.Mo(),e.Zr.Ps(function(){return e.ko()})},this.window.addEventListener("unload",this.ro))},t.prototype.Bo=function(){this.ro&&(this.window.removeEventListener("unload",this.ro),this.ro=null)},t.prototype.Oo=function(t){var e;try{var n=null!==(null===(e=this.Eo)||void 0===e?void 0:e.getItem(this.Fo(t)));return Lm("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Fm("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Mo=function(){if(this.Eo)try{this.Eo.setItem(this.Fo(this.clientId),String(Date.now()))}catch(t){Fm("Failed to set zombie client id.",t)}},t.prototype.qo=function(){if(this.Eo)try{this.Eo.removeItem(this.Fo(this.clientId))}catch(t){}},t.prototype.Fo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function rw(t){return iv(t,B_.store)}function iw(t){return iv(t,J_.store)}function sw(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var ow=function(t,e){this.progress=t,this.Go=e},aw=function(){function t(t,e,n){this.fo=t,this.zo=e,this.Ei=n}return t.prototype.Ho=function(t,e){var n=this;return this.zo.bi(t,e).next(function(r){return n.Jo(t,e,r)})},t.prototype.Jo=function(t,e,n){return this.fo._i(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Cs(e,t);return t})},t.prototype.Yo=function(t,e,n){var r=wy();return e.forEach(function(t,e){for(var i=0,s=n;i<s.length;i++)e=s[i].Cs(t,e);r=r.zt(t,e)}),r},t.prototype.Xo=function(t,e){var n=this;return this.fo.getEntries(t,e).next(function(e){return n.Zo(t,e)})},t.prototype.Zo=function(t,e){var n=this;return this.zo.vi(t,e).next(function(r){var i=n.Yo(t,e,r),s=vy();return i.forEach(function(t,e){e||(e=new qg(t,og.min())),s=s.zt(t,e)}),s})},t.prototype.Kr=function(t,e,n){return function(t){return hg.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.tc(t,e.path):_b(e)?this.ec(t,e,n):this.nc(t,e,n)},t.prototype.tc=function(t,e){return this.Ho(t,new hg(e)).next(function(t){var e=Oy();return t instanceof Hg&&(e=e.zt(t.key,t)),e})},t.prototype.ec=function(t,e,n){var r=this,i=e.collectionGroup,s=Oy();return this.Ei.Us(t,i).next(function(o){return C_.forEach(o,function(o){var a=function(t,e){return new db(e,null,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.nc(t,a,n).next(function(t){t.forEach(function(t,e){s=s.zt(t,e)})})}).next(function(){return s})})},t.prototype.nc=function(t,e,n){var r,i,s=this;return this.fo.Kr(t,e,n).next(function(n){return r=n,s.zo.Di(t,e)}).next(function(e){return s.sc(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var c=a[o],l=c.key,u=Qb(c,r.get(l),s.vs);r=u instanceof Hg?r.zt(l,u):r.remove(l)}})}).next(function(){return r.forEach(function(t,n){xb(e,n)||(r=r.remove(t))}),r})},t.prototype.sc=function(t,e,n){for(var r=Ey(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var c=a[o];c instanceof ny&&null===n.get(c.key)&&(r=r.add(c.key))}var l=n;return this.fo.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof Hg&&(l=l.zt(t,e))}),l})},t}(),cw=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.ic=n,this.rc=r}return t.oc=function(e,n){for(var r=Ey(),i=Ey(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),lw=function(){function t(){}return t.prototype.cc=function(t){this.ac=t},t.prototype.Kr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.xt.length||1===t.xt.length&&t.xt[0].field.ut())}(e)||n.isEqual(og.min())?this.uc(t,e):this.ac.Xo(t,r).next(function(s){var o=i.hc(e,s);return(mb(e)||gb(e))&&i.lc(e.limitType,o,r,n)?i.uc(t,e):(Nm()<=Eh.a.DEBUG&&Lm("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Sb(e)),i.ac.Kr(t,e,n).next(function(t){return o.forEach(function(e){t=t.zt(e.key,e)}),t}))})},t.prototype.hc=function(t,e){var n=new by(Eb(t));return e.forEach(function(e,r){r instanceof Hg&&xb(t,r)&&(n=n.add(r))}),n},t.prototype.lc=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version._(r)>0)},t.prototype.uc=function(t,e){return Nm()<=Eh.a.DEBUG&&Lm("QueryEngine","Using full collection scan to execute query:",Sb(e)),this.ac.Kr(t,e,og.min())},t}(),uw=function(){function t(t,e,n,r){this.persistence=t,this._c=e,this.Qt=r,this.fc=new py(Ym),this.dc=new Tv(function(t){return $g(t)},Kg),this.wc=og.min(),this.zo=t.Qo(n),this.Ec=t.$r(),this._o=t.Sr(),this.Tc=new aw(this.Ec,this.zo,this.persistence.Ko()),this.wo=t.Wo(),this._c.cc(this.Tc)}return t.prototype.Ir=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.Vr(n,e.fc)})},t}();function hw(t,e,n,r){return new uw(t,e,n,r)}function dw(t,e){return Object(Rm.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(Rm.e)(this,function(o){switch(o.label){case 0:return n=zm(t),r=n.zo,i=n.Tc,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var s;return n.zo.pi(t).next(function(o){return s=o,r=n.persistence.Qo(e),i=new aw(n.Ec,r,n.persistence.Ko()),r.pi(t)}).next(function(e){for(var n=[],r=[],o=Ey(),a=0,c=s;a<c.length;a++){var l=c[a];n.push(l.batchId);for(var u=0,h=l.mutations;u<h.length;u++)o=o.add(h[u].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)o=o.add(g[m].key)}return i.Xo(t,o).next(function(t){return{Ic:t,mc:n,Ac:r}})})})];case 1:return s=o.sent(),[2,(n.zo=r,n.Tc=i,n._c.cc(n.Tc),s)]}})})}function fw(t,e){var n=zm(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Ec.Nr({Wr:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=C_.resolve();return s.forEach(function(t){o=o.next(function(){return r._i(e,t)}).next(function(e){var s=e,o=n.$s.get(t);Bm(null!==o),(!s||s.version._(o)<0)&&(s=i.Ss(t,s,n))&&r.ai(s,n.Ns)})}),o.next(function(){return t.zo.Ci(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.zo.$i(t)}).next(function(){return n.Tc.Xo(t,r)})})}function pw(t){var e=zm(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e._o.Qi(t)})}function mw(t,e){var n=zm(t),r=e.Ot,i=n.fc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var s=n.Ec.Nr({Wr:!0});i=n.fc;var o=[];e.$e.forEach(function(e,s){var a=i.get(s);if(a){o.push(n._o.sr(t,e.Qe,s).next(function(){return n._o.er(t,e.qe,s)}));var c=e.resumeToken;if(c.l()>0){var l=a.Mt(c,r).kt(t.bs);i=i.zt(s,l),function(t,e,n){return Bm(e.resumeToken.l()>0),0===t.resumeToken.l()||e.Ot.W()-t.Ot.W()>=3e8||n.qe.size+n.Ue.size+n.Qe.size>0}(a,l,e)&&o.push(n._o.Hi(t,l))}}});var a=vy();if(e.Oe.forEach(function(r,i){e.ke.has(r)&&o.push(n.persistence.Ti.Fr(t,r))}),o.push(gw(t,s,e.Oe,r,void 0).next(function(t){a=t})),!r.isEqual(og.min())){var c=n._o.Qi(t).next(function(e){return n._o.Wi(t,t.bs,r)});o.push(c)}return C_.Mn(o).next(function(){return s.apply(t)}).next(function(){return n.Tc.Zo(t,a)})}).then(function(t){return n.fc=i,t})}function gw(t,e,n,r,i){var s=Ey();return n.forEach(function(t){return s=s.add(t)}),e.getEntries(t,s).next(function(t){var s=vy();return n.forEach(function(n,o){var a=t.get(n),c=(null==i?void 0:i.get(n))||r;o instanceof qg&&o.version.isEqual(og.min())?(e.li(n,c),s=s.zt(n,o)):null==a||o.version._(a.version)>0||0===o.version._(a.version)&&a.hasPendingWrites?(e.ai(o,c),s=s.zt(n,o)):Lm("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function bw(t,e){var n=zm(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.zo.gi(t,e)})}function yw(t,e){var n=zm(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n._o.tr(t,e).next(function(i){return i?C_.resolve(r=i):n._o.Bi(t).next(function(i){return r=new Ib(e,i,0,t.bs),n._o.ji(t,r).next(function(){return r})})})}).then(function(t){var r=n.fc.get(t.targetId);return(null===r||t.Ot._(r.Ot)>0)&&(n.fc=n.fc.zt(t.targetId,t),n.dc.set(e,t.targetId)),t})}function _w(t,e,n){return Object(Rm.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Rm.e)(this,function(a){switch(a.label){case 0:r=zm(t),i=r.fc.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(t){return r.persistence.Ti.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!E_(o=a.sent()))throw o;return Lm("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.fc=r.fc.remove(e),r.dc.delete(i.target),[2]}})})}function vw(t,e,n){var r=zm(t),i=og.min(),s=Ey();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=zm(t),i=r.dc.get(n);return void 0!==i?C_.resolve(r.fc.get(i)):r._o.tr(e,n)}(r,t,wb(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r._o.rr(t,e.targetId).next(function(t){s=t})}).next(function(){return r._c.Kr(t,e,n?i:og.min(),n?s:Ey())}).next(function(t){return{documents:t,Rc:s}})})}function ww(t,e){var n=zm(t),r=zm(n._o),i=n.fc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Sn(t,e).next(function(t){return t?t.target:null})})}function Cw(t){var e=zm(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=zm(t),i=vy(),s=uv(n),o=Qv(e),a=IDBKeyRange.lowerBound(s,!0);return o.hs({index:W_.readTimeIndex,range:a},function(t,e){var n=cv(r.Qt,e);i=i.zt(n.key,n),s=e.readTime}).next(function(){return{Go:i,readTime:hv(s)}})}(e.Ec,t,e.wc)}).then(function(t){var n=t.Go;return e.wc=t.readTime,n})}function Ow(t){return Object(Rm.b)(this,void 0,void 0,function(){var e;return Object(Rm.e)(this,function(n){return[2,(e=zm(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Qv(t),n=og.min();return e.hs({index:W_.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=hv(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.wc=t})]})})}function kw(t,e,n,r){return Object(Rm.b)(this,void 0,void 0,function(){var i,s,o,a,c,l,u,h,d,f;return Object(Rm.e)(this,function(p){switch(p.label){case 0:for(i=zm(t),s=Ey(),o=vy(),a=Sy(),c=0,l=n;c<l.length;c++)h=e.Pc((u=l[c]).metadata.name),u.document&&(s=s.add(h)),o=o.zt(h,e.yc(u)),a=a.zt(h,e.gc(u.metadata.readTime));return d=i.Ec.Nr({Wr:!0}),[4,yw(i,function(t){return wb(pb(cg.ot("__bundle__/docs/"+t)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return gw(t,d,o,og.min(),a).next(function(e){return d.apply(t),e}).next(function(e){return i._o.Yi(t,f.targetId).next(function(){return i._o.er(t,s,f.targetId)}).next(function(){return i.Tc.Zo(t,e)})})})]}})})}function Sw(t,e,n){return void 0===n&&(n=Ey()),Object(Rm.b)(this,void 0,void 0,function(){var r,i;return Object(Rm.e)(this,function(s){switch(s.label){case 0:return[4,yw(t,wb(bv(e.bundledQuery)))];case 1:return r=s.sent(),[2,(i=zm(t)).persistence.runTransaction("Save named query","readwrite",function(t){var s=$y(e.readTime);if(r.Ot._(s)>=0)return i.wo.Ls(t,e);var o=r.Mt($m.T,s);return i.fc=i.fc.zt(o.targetId,o),i._o.Hi(t,o).next(function(){return i._o.Yi(t,r.targetId)}).next(function(){return i._o.er(t,n,r.targetId)}).next(function(){return i.wo.Ls(t,e)})})]}})})}var xw=function(){function t(t){this.Qt=t,this.Vc=new Map,this.bc=new Map}return t.prototype.Os=function(t,e){return C_.resolve(this.Vc.get(e))},t.prototype.ks=function(t,e){var n;return this.Vc.set(e.id,{id:(n=e).id,version:n.version,createTime:$y(n.createTime)}),C_.resolve()},t.prototype.Ms=function(t,e){return C_.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){return this.bc.set(e.name,function(t){return{name:t.name,query:bv(t.bundledQuery),readTime:$y(t.readTime)}}(e)),C_.resolve()},t}(),Ew=function(){function t(){this.vc=new by(Tw.Sc),this.Dc=new by(Tw.Cc)}return t.prototype.et=function(){return this.vc.et()},t.prototype.nr=function(t,e){var n=new Tw(t,e);this.vc=this.vc.add(n),this.Dc=this.Dc.add(n)},t.prototype.xc=function(t,e){var n=this;t.forEach(function(t){return n.nr(t,e)})},t.prototype.ir=function(t,e){this.Nc(new Tw(t,e))},t.prototype.$c=function(t,e){var n=this;t.forEach(function(t){return n.ir(t,e)})},t.prototype.Fc=function(t){var e=this,n=new hg(new cg([])),r=new Tw(n,t),i=new Tw(n,t+1),s=[];return this.Dc.me([r,i],function(t){e.Nc(t),s.push(t.key)}),s},t.prototype.Oc=function(){var t=this;this.vc.forEach(function(e){return t.Nc(e)})},t.prototype.Nc=function(t){this.vc=this.vc.delete(t),this.Dc=this.Dc.delete(t)},t.prototype.kc=function(t){var e=new hg(new cg([])),n=new Tw(e,t),r=new Tw(e,t+1),i=Ey();return this.Dc.me([n,r],function(t){i=i.add(t.key)}),i},t.prototype.Fi=function(t){var e=new Tw(t,0),n=this.vc.Re(e);return null!==n&&t.isEqual(n.key)},t}(),Tw=function(){function t(t,e){this.key=t,this.Mc=e}return t.Sc=function(t,e){return hg.H(t.key,e.key)||Ym(t.Mc,e.Mc)},t.Cc=function(t,e){return Ym(t.Mc,e.Mc)||hg.H(t.key,e.key)},t}(),Iw=function(){function t(t,e){this.Ei=t,this.Ti=e,this.zo=[],this.Lc=1,this.Bc=new by(Tw.Sc)}return t.prototype.Ai=function(t){return C_.resolve(0===this.zo.length)},t.prototype.Ri=function(t,e,n,r){var i=this.Lc;this.Lc++;var s=new sv(i,e,n,r);this.zo.push(s);for(var o=0,a=r;o<a.length;o++){var c=a[o];this.Bc=this.Bc.add(new Tw(c.key,i)),this.Ei.qs(t,c.key.path.X())}return C_.resolve(s)},t.prototype.Pi=function(t,e){return C_.resolve(this.qc(e))},t.prototype.gi=function(t,e){var n=this.Uc(e+1),r=n<0?0:n;return C_.resolve(this.zo.length>r?this.zo[r]:null)},t.prototype.Vi=function(){return C_.resolve(0===this.zo.length?-1:this.Lc-1)},t.prototype.pi=function(t){return C_.resolve(this.zo.slice())},t.prototype.bi=function(t,e){var n=this,r=new Tw(e,0),i=new Tw(e,Number.POSITIVE_INFINITY),s=[];return this.Bc.me([r,i],function(t){var e=n.qc(t.Mc);s.push(e)}),C_.resolve(s)},t.prototype.vi=function(t,e){var n=this,r=new by(Ym);return e.forEach(function(t){var e=new Tw(t,0),i=new Tw(t,Number.POSITIVE_INFINITY);n.Bc.me([e,i],function(t){r=r.add(t.Mc)})}),C_.resolve(this.Qc(r))},t.prototype.Di=function(t,e){var n=e.path,r=n.length+1,i=n;hg.wt(i)||(i=i.child(""));var s=new Tw(new hg(i),0),o=new by(Ym);return this.Bc.Ae(function(t){var e=t.key.path;return!!n.nt(e)&&(e.length===r&&(o=o.add(t.Mc)),!0)},s),C_.resolve(this.Qc(o))},t.prototype.Qc=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.qc(t);null!==r&&n.push(r)}),n},t.prototype.Ci=function(t,e){var n=this;Bm(0===this.Kc(e.batchId,"removed")),this.zo.shift();var r=this.Bc;return C_.forEach(e.mutations,function(i){var s=new Tw(i.key,e.batchId);return r=r.delete(s),n.Ti.Ni(t,i.key)}).next(function(){n.Bc=r})},t.prototype.xi=function(t){},t.prototype.Fi=function(t,e){var n=new Tw(e,0),r=this.Bc.Re(n);return C_.resolve(e.isEqual(r&&r.key))},t.prototype.$i=function(t){return C_.resolve()},t.prototype.Kc=function(t,e){return this.Uc(t)},t.prototype.Uc=function(t){return 0===this.zo.length?0:t-this.zo[0].batchId},t.prototype.qc=function(t){var e=this.Uc(t);return e<0||e>=this.zo.length?null:this.zo[e]},t}(),Aw=function(){function t(t,e){this.Ei=t,this.Wc=e,this.docs=new py(hg.H),this.size=0}return t.prototype.ai=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.Wc(e);return this.docs=this.docs.zt(r,{hi:e,size:o,readTime:n}),this.size+=o-s,this.Ei.qs(t,r.path.X())},t.prototype.li=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype._i=function(t,e){var n=this.docs.get(e);return C_.resolve(n?n.hi:null)},t.prototype.getEntries=function(t,e){var n=this,r=wy();return e.forEach(function(t){var e=n.docs.get(t);r=r.zt(t,e?e.hi:null)}),C_.resolve(r)},t.prototype.Kr=function(t,e,n){for(var r=Oy(),i=new hg(e.path.child("")),s=this.docs.ee(i);s.ce();){var o=s.oe(),a=o.value,c=a.hi,l=a.readTime;if(!e.path.nt(o.key.path))break;l._(n)<=0||c instanceof Hg&&xb(e,c)&&(r=r.zt(c.key,c))}return C_.resolve(r)},t.prototype.jc=function(t,e){return C_.forEach(this.docs,function(t){return e(t)})},t.prototype.Nr=function(t){return new Rw(this)},t.prototype.Or=function(t){return C_.resolve(this.size)},t}(),Rw=function(t){function e(e){var n=this;return(n=t.call(this)||this).jr=e,n}return Object(Rm.d)(e,t),e.prototype.wi=function(t){var e=this,n=[];return this.ri.forEach(function(r,i){i&&i.hi?n.push(e.jr.ai(t,i.hi,e.ci(r))):e.jr.li(r)}),C_.Mn(n)},e.prototype.fi=function(t,e){return this.jr._i(t,e)},e.prototype.di=function(t,e){return this.jr.getEntries(t,e)},e}(Iv),Dw=function(){function t(t){this.persistence=t,this.Gc=new Tv(function(t){return $g(t)},Kg),this.lastRemoteSnapshotVersion=og.min(),this.highestTargetId=0,this.zc=0,this.Hc=new Ew,this.targetCount=0,this.Jc=Fv.Mi()}return t.prototype.In=function(t,e){return this.Gc.forEach(function(t,n){return e(n)}),C_.resolve()},t.prototype.Qi=function(t){return C_.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ki=function(t){return C_.resolve(this.zc)},t.prototype.Bi=function(t){return this.highestTargetId=this.Jc.next(),C_.resolve(this.highestTargetId)},t.prototype.Wi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.zc&&(this.zc=e),C_.resolve()},t.prototype.Gi=function(t){this.Gc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Jc=new Fv(e),this.highestTargetId=e),t.sequenceNumber>this.zc&&(this.zc=t.sequenceNumber)},t.prototype.ji=function(t,e){return this.Gi(e),this.targetCount+=1,C_.resolve()},t.prototype.Hi=function(t,e){return this.Gi(e),C_.resolve()},t.prototype.Ji=function(t,e){return this.Gc.delete(e.target),this.Hc.Fc(e.targetId),this.targetCount-=1,C_.resolve()},t.prototype.Xi=function(t,e,n){var r=this,i=0,s=[];return this.Gc.forEach(function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.Gc.delete(o),s.push(r.Yi(t,a.targetId)),i++)}),C_.Mn(s).next(function(){return i})},t.prototype.Zi=function(t){return C_.resolve(this.targetCount)},t.prototype.tr=function(t,e){var n=this.Gc.get(e)||null;return C_.resolve(n)},t.prototype.er=function(t,e,n){return this.Hc.xc(e,n),C_.resolve()},t.prototype.sr=function(t,e,n){this.Hc.$c(e,n);var r=this.persistence.Ti,i=[];return r&&e.forEach(function(e){i.push(r.Ni(t,e))}),C_.Mn(i)},t.prototype.Yi=function(t,e){return this.Hc.Fc(e),C_.resolve()},t.prototype.rr=function(t,e){var n=this.Hc.kc(e);return C_.resolve(n)},t.prototype.Fi=function(t,e){return C_.resolve(this.Hc.Fi(e))},t}(),jw=function(){function t(t,e){var n=this;this.Yc={},this.so=new ig(0),this.io=!1,this.io=!0,this.Ti=t(this),this._o=new Dw(this),this.Ei=new wv,this.fo=function(t,e){return new Aw(t,function(t){return n.Ti.Xc(t)})}(this.Ei),this.Qt=new av(e),this.wo=new xw(this.Qt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.ko=function(){return this.io=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Po=function(){},t.prototype.yo=function(){},t.prototype.Ko=function(){return this.Ei},t.prototype.Qo=function(t){var e=this.Yc[t.A()];return e||(e=new Iw(this.Ei,this.Ti),this.Yc[t.A()]=e),e},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r=this;Lm("MemoryPersistence","Starting transaction:",t);var i=new Pw(this.so.next());return this.Ti.Zc(),n(i).next(function(t){return r.Ti.ta(i).next(function(){return t})}).On().then(function(t){return i.Vs(),t})},t.prototype.ea=function(t,e){return C_.Ln(Object.values(this.Yc).map(function(n){return function(){return n.Fi(t,e)}}))},t}(),Pw=function(t){function e(e){var n=this;return(n=t.call(this)||this).bs=e,n}return Object(Rm.d)(e,t),e}(N_),Nw=function(){function t(t){this.persistence=t,this.na=new Ew,this.sa=null}return t.ia=function(e){return new t(e)},Object.defineProperty(t.prototype,"ra",{get:function(){if(this.sa)return this.sa;throw Um()},enumerable:!1,configurable:!0}),t.prototype.nr=function(t,e,n){return this.na.nr(n,e),this.ra.delete(n.toString()),C_.resolve()},t.prototype.ir=function(t,e,n){return this.na.ir(n,e),this.ra.add(n.toString()),C_.resolve()},t.prototype.Ni=function(t,e){return this.ra.add(e.toString()),C_.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.na.Fc(e.targetId).forEach(function(t){return n.ra.add(t.toString())});var r=this.persistence.Sr();return r.rr(t,e.targetId).next(function(t){t.forEach(function(t){return n.ra.add(t.toString())})}).next(function(){return r.Ji(t,e)})},t.prototype.Zc=function(){this.sa=new Set},t.prototype.ta=function(t){var e=this,n=this.persistence.$r().Nr();return C_.forEach(this.ra,function(r){var i=hg._t(r);return e.oa(t,i).next(function(t){t||n.li(i)})}).next(function(){return e.sa=null,n.apply(t)})},t.prototype.Fr=function(t,e){var n=this;return this.oa(t,e).next(function(t){t?n.ra.delete(e.toString()):n.ra.add(e.toString())})},t.prototype.Xc=function(t){return 0},t.prototype.oa=function(t,e){var n=this;return C_.Ln([function(){return C_.resolve(n.na.Fi(e))},function(){return n.persistence.Sr().Fi(t,e)},function(){return n.persistence.ea(t,e)}])},t}();function Lw(t,e){return"firestore_clients_"+t+"_"+e}function Fw(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.m()&&(r+="_"+e.uid),r}function Mw(t,e){return"firestore_targets_"+t+"_"+e}var Vw=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.ca=function(e,n,r){var i,s=JSON.parse(r),o="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return o&&s.error&&(o="string"==typeof s.error.message&&"string"==typeof s.error.code)&&(i=new Xm(s.error.code,s.error.message)),o?new t(e,n,s.state,i):(Fm("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Uw=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.ca=function(e,n){var r,i=JSON.parse(n),s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Xm(i.error.code,i.error.message)),s?new t(e,i.state,r):(Fm("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Bw=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.ca=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=Iy(),o=0;i&&o<r.activeTargetIds.length;++o)i=Sg(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(Fm("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),zw=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.ca=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Fm("SharedClientState","Failed to parse online state: "+e),null)},t}(),Hw=function(){function t(){this.activeTargetIds=Iy()}return t.prototype.ua=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.aa=function(){var t={activeTargetIds:this.activeTargetIds.it(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),qw=function(){function t(t,e,n,r,i){this.window=t,this.Zr=e,this.persistenceKey=n,this.la=r,this._a=null,this.fa=null,this.k=null,this.da=this.wa.bind(this),this.Ea=new py(Ym),this.Er=!1,this.Ta=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ia=Lw(this.persistenceKey,this.la),this.ma=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ea=this.Ea.zt(this.la,new Hw),this.Aa=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Ra=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.Pa=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.ya=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.ga=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.da)}return t.Kn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Rm.b)(this,void 0,void 0,function(){var t,e,n,r,i,s,o,a,c,l,u=this;return Object(Rm.e)(this,function(h){switch(h.label){case 0:return[4,this._a.Uo()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.la&&(i=this.getItem(Lw(this.persistenceKey,r)))&&(s=Bw.ca(r,i))&&(this.Ea=this.Ea.zt(s.clientId,s));for(this.Va(),(o=this.storage.getItem(this.ya))&&(a=this.pa(o))&&this.ba(a),c=0,l=this.Ta;c<l.length;c++)this.wa(l[c]);return this.Ta=[],this.window.addEventListener("unload",function(){return u.ko()}),this.Er=!0,[2]}})})},t.prototype.B=function(t){this.setItem(this.ma,JSON.stringify(t))},t.prototype.va=function(){return this.Sa(this.Ea)},t.prototype.Da=function(t){var e=!1;return this.Ea.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.Ca=function(t){this.xa(t,"pending")},t.prototype.Na=function(t,e,n){this.xa(t,e,n),this.$a(t)},t.prototype.Fa=function(t){var e="not-current";if(this.Da(t)){var n=this.storage.getItem(Mw(this.persistenceKey,t));if(n){var r=Uw.ca(t,n);r&&(e=r.state)}}return this.Oa.ua(t),this.Va(),e},t.prototype.ka=function(t){this.Oa.ha(t),this.Va()},t.prototype.Ma=function(t){return this.Oa.activeTargetIds.has(t)},t.prototype.La=function(t){this.removeItem(Mw(this.persistenceKey,t))},t.prototype.Ba=function(t,e,n){this.qa(t,e,n)},t.prototype.Ua=function(t,e,n){var r=this;e.forEach(function(t){r.$a(t)}),this.currentUser=t,n.forEach(function(t){r.Ca(t)})},t.prototype.Qa=function(t){this.Ka(t)},t.prototype.Wa=function(){this.ja()},t.prototype.ko=function(){this.Er&&(this.window.removeEventListener("storage",this.da),this.removeItem(this.Ia),this.Er=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Lm("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Lm("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Lm("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.wa=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Lm("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ia)return void Fm("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Zr.po(function(){return Object(Rm.b)(e,void 0,void 0,function(){var t,e,r,i,s,o;return Object(Rm.e)(this,function(a){if(this.Er){if(null!==n.key)if(this.Aa.test(n.key)){if(null==n.newValue)return t=this.Ga(n.key),[2,this.za(t,null)];if(e=this.Ha(n.key,n.newValue))return[2,this.za(e.clientId,e)]}else if(this.Ra.test(n.key)){if(null!==n.newValue&&(r=this.Ja(n.key,n.newValue)))return[2,this.Ya(r)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(i=this.Xa(n.key,n.newValue)))return[2,this.Za(i)]}else if(n.key===this.ya){if(null!==n.newValue&&(s=this.pa(n.newValue)))return[2,this.ba(s)]}else if(n.key===this.ma)(o=function(t){var e=ig.q;if(null!=t)try{var n=JSON.parse(t);Bm("number"==typeof n),e=n}catch(t){Fm("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==ig.q&&this.k(o);else if(n.key===this.ga)return[2,this._a.tu()]}else this.Ta.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Oa",{get:function(){return this.Ea.get(this.la)},enumerable:!1,configurable:!0}),t.prototype.Va=function(){this.setItem(this.Ia,this.Oa.aa())},t.prototype.xa=function(t,e,n){var r=new Vw(this.currentUser,t,e,n),i=Fw(this.persistenceKey,this.currentUser,t);this.setItem(i,r.aa())},t.prototype.$a=function(t){var e=Fw(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Ka=function(t){this.storage.setItem(this.ya,JSON.stringify({clientId:this.la,onlineState:t}))},t.prototype.qa=function(t,e,n){var r=Mw(this.persistenceKey,t),i=new Uw(t,e,n);this.setItem(r,i.aa())},t.prototype.ja=function(){this.setItem(this.ga,"value-not-used")},t.prototype.Ga=function(t){var e=this.Aa.exec(t);return e?e[1]:null},t.prototype.Ha=function(t,e){var n=this.Ga(t);return Bw.ca(n,e)},t.prototype.Ja=function(t,e){var n=this.Ra.exec(t),r=Number(n[1]);return Vw.ca(new Zm(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Xa=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return Uw.ca(r,e)},t.prototype.pa=function(t){return zw.ca(t)},t.prototype.Ya=function(t){return Object(Rm.b)(this,void 0,void 0,function(){return Object(Rm.e)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this._a.eu(t.batchId,t.state,t.error)]:(Lm("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.Za=function(t){return this._a.nu(t.targetId,t.state,t.error)},t.prototype.za=function(t,e){var n=this,r=e?this.Ea.zt(t,e):this.Ea.remove(t),i=this.Sa(this.Ea),s=this.Sa(r),o=[],a=[];return s.forEach(function(t){i.has(t)||o.push(t)}),i.forEach(function(t){s.has(t)||a.push(t)}),this._a.su(o,a).then(function(){n.Ea=r})},t.prototype.ba=function(t){this.Ea.get(t.clientId)&&this.fa(t.onlineState)},t.prototype.Sa=function(t){var e=Iy();return t.forEach(function(t,n){e=e.Pe(n.activeTargetIds)}),e},t}(),Yw=function(){function t(){this.iu=new Hw,this.ru={},this.fa=null,this.k=null}return t.prototype.Ca=function(t){},t.prototype.Na=function(t,e,n){},t.prototype.Fa=function(t){return this.iu.ua(t),this.ru[t]||"not-current"},t.prototype.Ba=function(t,e,n){this.ru[t]=e},t.prototype.ka=function(t){this.iu.ha(t)},t.prototype.Ma=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.La=function(t){delete this.ru[t]},t.prototype.va=function(){return this.iu.activeTargetIds},t.prototype.Da=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.start=function(){return this.iu=new Hw,Promise.resolve()},t.prototype.Ua=function(t,e,n){},t.prototype.Qa=function(t){},t.prototype.ko=function(){},t.prototype.B=function(t){},t.prototype.Wa=function(){},t}(),Gw=function(){function t(){}return t.prototype.ou=function(t){},t.prototype.ko=function(){},t}(),Ww=function(){function t(){var t=this;this.cu=function(){return t.au()},this.uu=function(){return t.hu()},this.lu=[],this._u()}return t.prototype.ou=function(t){this.lu.push(t)},t.prototype.ko=function(){window.removeEventListener("online",this.cu),window.removeEventListener("offline",this.uu)},t.prototype._u=function(){window.addEventListener("online",this.cu),window.addEventListener("offline",this.uu)},t.prototype.au=function(){Lm("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(0)},t.prototype.hu=function(){Lm("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(1)},t.Kn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),$w={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Kw=function(){function t(t){this.fu=t.fu,this.du=t.du}return t.prototype.wu=function(t){this.Eu=t},t.prototype.Tu=function(t){this.Iu=t},t.prototype.onMessage=function(t){this.mu=t},t.prototype.close=function(){this.du()},t.prototype.send=function(t){this.fu(t)},t.prototype.Au=function(){this.Eu()},t.prototype.Ru=function(t){this.Iu(t)},t.prototype.Pu=function(t){this.mu(t)},t}(),Xw=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Object(Rm.d)(e,t),e.prototype.Su=function(t,e,n,r){return new Promise(function(i,s){var o=new Am;o.listenOnce(Em.COMPLETE,function(){try{switch(o.getLastErrorCode()){case xm.NO_ERROR:var e=o.getResponseJson();Lm("Connection","XHR received:",JSON.stringify(e)),i(e);break;case xm.TIMEOUT:Lm("Connection",'RPC "'+t+'" timed out'),s(new Xm(Km.DEADLINE_EXCEEDED,"Request time out"));break;case xm.HTTP_ERROR:var n=o.getStatus();if(Lm("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Km).indexOf(e)>=0?e:Km.UNKNOWN}(r.status);s(new Xm(a,r.message))}else s(new Xm(Km.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Xm(Km.UNAVAILABLE,"Connection failed."));break;default:Um()}}finally{Lm("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);o.send(e,"POST",a,n,15)})},e.prototype.Cu=function(t,e){var n=[this.gu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new wm,i=kf(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.vu(s.initMessageHeaders,e),Object(Th.p)()||Object(Th.r)()||Object(Th.m)()||Object(Th.n)()||Object(Th.s)()||Object(Th.l)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");Lm("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),c=!1,l=!1,u=new Kw({fu:function(t){l?Lm("Connection","Not sending because WebChannel is closed:",t):(c||(Lm("Connection","Opening WebChannel transport."),a.open(),c=!0),Lm("Connection","WebChannel sending:",t),a.send(t))},du:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,Im.EventType.OPEN,function(){l||Lm("Connection","WebChannel transport opened.")}),h(a,Im.EventType.CLOSE,function(){l||(l=!0,Lm("Connection","WebChannel transport closed"),u.Ru())}),h(a,Im.EventType.ERROR,function(t){l||(l=!0,Mm("Connection","WebChannel transport errored:",t),u.Ru(new Xm(Km.UNAVAILABLE,"The operation could not be completed")))}),h(a,Im.EventType.MESSAGE,function(t){var e;if(!l){var n=t.data[0];Bm(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Lm("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=ay[t];if(void 0!==e)return fy(e)}(i),o=r.message;void 0===s&&(s=Km.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),l=!0,u.Ru(new Xm(s,o)),a.close()}else Lm("Connection","WebChannel received:",n),u.Pu(n)}}),h(i,Tm.STAT_EVENT,function(t){10===t.stat?Lm("Connection","Detected buffering proxy"):11===t.stat&&Lm("Connection","Detected no buffering proxy")}),setTimeout(function(){u.Au()},0),u},e}(function(){function t(t){this.yu=t,this.t=t.t,this.gu=(t.ssl?"https":"http")+"://"+t.host,this.Vu="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.pu=function(t,e,n,r){var i=this.bu(t,e);Lm("RestConnection","Sending: ",i,n);var s={};return this.vu(s,r),this.Su(t,i,s,n).then(function(t){return Lm("RestConnection","Received: ",t),t},function(e){throw Mm("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Du=function(t,e,n,r){return this.pu(t,e,n,r)},t.prototype.vu=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.9",t["Content-Type"]="text/plain",e)for(var n in e.g)e.g.hasOwnProperty(n)&&(t[n]=e.g[n])},t.prototype.bu=function(t,e){return this.gu+"/v1/"+e+":"+$w[t]},t}());function Qw(){return"undefined"!=typeof window?window:null}function Zw(){return"undefined"!=typeof document?document:null}function Jw(t){return new qy(t,!0)}var tC=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Zr=t,this.fs=e,this.xu=n,this.Nu=r,this.$u=i,this.Fu=0,this.Ou=null,this.ku=Date.now(),this.reset()}return t.prototype.reset=function(){this.Fu=0},t.prototype.Mu=function(){this.Fu=this.$u},t.prototype.Lu=function(t){var e=this;this.cancel();var n=Math.floor(this.Fu+this.Bu()),r=Math.max(0,Date.now()-this.ku),i=Math.max(0,n-r);i>0&&Lm("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Fu+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ou=this.Zr.Tr(this.fs,i,function(){return e.ku=Date.now(),t()}),this.Fu*=this.Nu,this.Fu<this.xu&&(this.Fu=this.xu),this.Fu>this.$u&&(this.Fu=this.$u)},t.prototype.qu=function(){null!==this.Ou&&(this.Ou.Rs(),this.Ou=null)},t.prototype.cancel=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},t.prototype.Bu=function(){return(Math.random()-.5)*this.Fu},t}(),eC=function(){function t(t,e,n,r,i,s){this.Zr=t,this.Uu=n,this.Qu=r,this.Ku=i,this.listener=s,this.state=0,this.Wu=0,this.ju=null,this.stream=null,this.Gu=new tC(t,e)}return t.prototype.zu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Hu=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Ju()},t.prototype.stop=function(){return Object(Rm.b)(this,void 0,void 0,function(){return Object(Rm.e)(this,function(t){switch(t.label){case 0:return this.zu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.Yu=function(){this.state=0,this.Gu.reset()},t.prototype.Xu=function(){var t=this;this.Hu()&&null===this.ju&&(this.ju=this.Zr.Tr(this.Uu,6e4,function(){return t.Zu()}))},t.prototype.th=function(t){this.eh(),this.stream.send(t)},t.prototype.Zu=function(){return Object(Rm.b)(this,void 0,void 0,function(){return Object(Rm.e)(this,function(t){return this.Hu()?[2,this.close(0)]:[2]})})},t.prototype.eh=function(){this.ju&&(this.ju.cancel(),this.ju=null)},t.prototype.close=function(t,e){return Object(Rm.b)(this,void 0,void 0,function(){return Object(Rm.e)(this,function(n){switch(n.label){case 0:return this.eh(),this.Gu.cancel(),this.Wu++,3!==t?this.Gu.reset():e&&e.code===Km.RESOURCE_EXHAUSTED?(Fm(e.toString()),Fm("Using maximum backoff delay to prevent overloading the backend."),this.Gu.Mu()):e&&e.code===Km.UNAUTHENTICATED&&this.Ku.p(),null!==this.stream&&(this.nh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Tu(e)];case 1:return n.sent(),[2]}})})},t.prototype.nh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.sh(this.Wu),n=this.Wu;this.Ku.getToken().then(function(e){t.Wu===n&&t.ih(e)},function(n){e(function(){var e=new Xm(Km.UNKNOWN,"Fetching auth token failed: "+n.message);return t.rh(e)})})},t.prototype.ih=function(t){var e=this,n=this.sh(this.Wu);this.stream=this.oh(t),this.stream.wu(function(){n(function(){return e.state=2,e.listener.wu()})}),this.stream.Tu(function(t){n(function(){return e.rh(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Ju=function(){var t=this;this.state=4,this.Gu.Lu(function(){return Object(Rm.b)(t,void 0,void 0,function(){return Object(Rm.e)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.rh=function(t){return Lm("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.sh=function(t){var e=this;return function(n){e.Zr.Ps(function(){return e.Wu===t?n():(Lm("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),nC=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).Qt=i,o}return Object(Rm.d)(e,t),e.prototype.oh=function(t){return this.Qu.Cu("Listen",t)},e.prototype.onMessage=function(t){this.Gu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Um()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.Bt?(Bm(void 0===e||"string"==typeof e),$m.fromBase64String(e||"")):(Bm(void 0===e||e instanceof Uint8Array),$m.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Km.UNKNOWN:fy(t.code);return new Xm(e,t.message||"")}(a);n=new Fy(r,i,s,o||null)}else if("documentChange"in e){i=Zy(t,(r=e.documentChange).document.name),s=$y(r.document.updateTime);var a=new Vg({mapValue:{fields:r.document.fields}}),c=(o=new Hg(i,s,a,{}),r.targetIds||[]);n=new Ny(c,r.removedTargetIds||[],o.key,o)}else if("documentDelete"in e)i=Zy(t,(r=e.documentDelete).document),s=r.readTime?$y(r.readTime):og.min(),a=new qg(i,s),n=new Ny([],o=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Zy(t,(r=e.documentRemove).document),n=new Ny([],s=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Um();var l=e.filter;i=new hy(r=l.count||0),n=new Ly(s=l.targetId,i)}return n}(this.Qt,t),n=function(t){if(!("targetChange"in t))return og.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?og.min():e.readTime?$y(e.readTime):og.min()}(t);return this.listener.ah(e,n)},e.prototype.uh=function(t){var e={};e.database=e_(this.Qt),e.addTarget=function(t,e){var n,r=e.target;return(n=Xg(r)?{documents:a_(t,r)}:{query:c_(t,r)}).targetId=e.targetId,e.resumeToken.l()>0?n.resumeToken=Gy(t,e.resumeToken):e.Ot._(og.min())>0&&(n.readTime=Yy(t,e.Ot.j())),n}(this.Qt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Um()}}(0,e.Ft);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.th(e)},e.prototype.hh=function(t){var e={};e.database=e_(this.Qt),e.removeTarget=t,this.th(e)},e}(eC),rC=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).Qt=i,o.lh=!1,o}return Object(Rm.d)(e,t),Object.defineProperty(e.prototype,"_h",{get:function(){return this.lh},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.lh=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.nh=function(){this.lh&&this.fh([])},e.prototype.oh=function(t){return this.Qu.Cu("Write",t)},e.prototype.onMessage=function(t){if(Bm(!!t.streamToken),this.lastStreamToken=t.streamToken,this.lh){this.Gu.reset();var e=function(t,e){return t&&t.length>0?(Bm(void 0!==e),t.map(function(t){return function(t,e){var n=$y(t.updateTime?t.updateTime:e);n.isEqual(og.min())&&(n=$y(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Gb(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=$y(t.commitTime);return this.listener.dh(n,e)}return Bm(!t.writeResults||0===t.writeResults.length),this.lh=!0,this.listener.wh()},e.prototype.Eh=function(){var t={};t.database=e_(this.Qt),this.th(t)},e.prototype.fh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return s_(e.Qt,t)})};this.th(n)},e}(eC),iC=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Qu=n,i.Qt=r,i.Th=!1,i}return Object(Rm.d)(e,t),e.prototype.Ih=function(){if(this.Th)throw new Xm(Km.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.pu=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then(function(i){return r.Qu.pu(t,e,n,i)}).catch(function(t){throw t.code===Km.UNAUTHENTICATED&&r.credentials.p(),t})},e.prototype.Du=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then(function(i){return r.Qu.Du(t,e,n,i)}).catch(function(t){throw t.code===Km.UNAUTHENTICATED&&r.credentials.p(),t})},e.prototype.terminate=function(){this.Th=!1},e}(function(){}),sC=function(){function t(t,e){this._s=t,this.fa=e,this.state="Unknown",this.mh=0,this.Ah=null,this.Rh=!0}return t.prototype.Ph=function(){var t=this;0===this.mh&&(this.yh("Unknown"),this.Ah=this._s.Tr("online_state_timeout",1e4,function(){return t.Ah=null,t.gh("Backend didn't respond within 10 seconds."),t.yh("Offline"),Promise.resolve()}))},t.prototype.Vh=function(t){"Online"===this.state?this.yh("Unknown"):(this.mh++,this.mh>=1&&(this.ph(),this.gh("Connection failed 1 times. Most recent error: "+t.toString()),this.yh("Offline")))},t.prototype.set=function(t){this.ph(),this.mh=0,"Online"===t&&(this.Rh=!1),this.yh(t)},t.prototype.yh=function(t){t!==this.state&&(this.state=t,this.fa(t))},t.prototype.gh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Rh?(Fm(e),this.Rh=!1):Lm("OnlineStateTracker",e)},t.prototype.ph=function(){null!==this.Ah&&(this.Ah.cancel(),this.Ah=null)},t}(),oC=function(t,e,n,r,i){var s=this;this.bh=t,this.Sh=e,this._s=n,this.Dh={},this.Ch=[],this.xh=new Map,this.Nh=new Set,this.$h=[],this.Fh=i,this.Fh.ou(function(t){n.Ps(function(){return Object(Rm.b)(s,void 0,void 0,function(){return Object(Rm.e)(this,function(t){switch(t.label){case 0:return mC(this)?(Lm("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Rm.b)(this,void 0,void 0,function(){var e;return Object(Rm.e)(this,function(n){switch(n.label){case 0:return(e=zm(t)).Nh.add(4),[4,cC(e)];case 1:return n.sent(),e.Oh.set("Unknown"),e.Nh.delete(4),[4,aC(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Oh=new sC(n,r)};function aC(t){return Object(Rm.b)(this,void 0,void 0,function(){var e,n;return Object(Rm.e)(this,function(r){switch(r.label){case 0:if(!mC(t))return[3,4];e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function cC(t){return Object(Rm.b)(this,void 0,void 0,function(){var e,n;return Object(Rm.e)(this,function(r){switch(r.label){case 0:e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function lC(t,e){var n=zm(t);n.xh.has(e.targetId)||(n.xh.set(e.targetId,e),pC(n)?fC(n):AC(n).Hu()&&hC(n,e))}function uC(t,e){var n=zm(t),r=AC(n);n.xh.delete(e),r.Hu()&&dC(n,e),0===n.xh.size&&(r.Hu()?r.Xu():mC(n)&&n.Oh.set("Unknown"))}function hC(t,e){t.kh.on(e.targetId),AC(t).uh(e)}function dC(t,e){t.kh.on(e),AC(t).hh(e)}function fC(t){t.kh=new Vy({vn:function(e){return t.Dh.vn(e)},Sn:function(e){return t.xh.get(e)||null}}),AC(t).start(),t.Oh.Ph()}function pC(t){return mC(t)&&!AC(t).zu()&&t.xh.size>0}function mC(t){return 0===zm(t).Nh.size}function gC(t){t.kh=void 0}function bC(t){return Object(Rm.b)(this,void 0,void 0,function(){return Object(Rm.e)(this,function(e){return t.xh.forEach(function(e,n){hC(t,e)}),[2]})})}function yC(t,e){return Object(Rm.b)(this,void 0,void 0,function(){return Object(Rm.e)(this,function(n){return gC(t),pC(t)?(t.Oh.Vh(e),fC(t)):t.Oh.set("Unknown"),[2]})})}function _C(t,e,n){return Object(Rm.b)(this,void 0,void 0,function(){var r,i,s;return Object(Rm.e)(this,function(o){switch(o.label){case 0:if(t.Oh.set("Online"),!(e instanceof Fy&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(Rm.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(Rm.e)(this,function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.xh.has(s=i[r])?[4,t.Dh.Mh(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.xh.delete(s),t.kh.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),Lm("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,vC(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Ny?t.kh.dn(e):e instanceof Ly?t.kh.Pn(e):t.kh.Tn(e),n.isEqual(og.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,pw(t.bh)];case 8:return i=o.sent(),n._(i)>=0?[4,function(t,e){var n=t.kh.Vn(e);return n.$e.forEach(function(n,r){if(n.resumeToken.l()>0){var i=t.xh.get(r);i&&t.xh.set(r,i.Mt(n.resumeToken,e))}}),n.Fe.forEach(function(e){var n=t.xh.get(e);if(n){t.xh.set(e,n.Mt($m.T,n.Ot)),dC(t,e);var r=new Ib(n.target,e,1,n.sequenceNumber);hC(t,r)}}),t.Dh.Lh(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return Lm("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,vC(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}})})}function vC(t,e,n){return Object(Rm.b)(this,void 0,void 0,function(){var r=this;return Object(Rm.e)(this,function(i){switch(i.label){case 0:if(!E_(e))throw e;return t.Nh.add(1),[4,cC(t)];case 1:return i.sent(),t.Oh.set("Offline"),n||(n=function(){return pw(t.bh)}),t._s.po(function(){return Object(Rm.b)(r,void 0,void 0,function(){return Object(Rm.e)(this,function(e){switch(e.label){case 0:return Lm("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Nh.delete(1),[4,aC(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function wC(t,e){return e().catch(function(n){return vC(t,n,e)})}function CC(t){return Object(Rm.b)(this,void 0,void 0,function(){var e,n,r,i,s;return Object(Rm.e)(this,function(o){switch(o.label){case 0:e=zm(t),n=RC(e),r=e.Ch.length>0?e.Ch[e.Ch.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return mC(t)&&t.Ch.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,bw(e.bh,r)];case 3:return null===(i=o.sent())?(0===e.Ch.length&&n.Xu(),[3,7]):(r=i.batchId,function(t,e){t.Ch.push(e);var n=RC(t);n.Hu()&&n._h&&n.fh(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,vC(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return OC(e)&&kC(e),[2]}})})}function OC(t){return mC(t)&&!RC(t).zu()&&t.Ch.length>0}function kC(t){RC(t).start()}function SC(t){return Object(Rm.b)(this,void 0,void 0,function(){return Object(Rm.e)(this,function(e){return RC(t).Eh(),[2]})})}function xC(t){return Object(Rm.b)(this,void 0,void 0,function(){var e,n,r;return Object(Rm.e)(this,function(i){for(e=RC(t),n=0,r=t.Ch;n<r.length;n++)e.fh(r[n].mutations);return[2]})})}function EC(t,e,n){return Object(Rm.b)(this,void 0,void 0,function(){var r,i;return Object(Rm.e)(this,function(s){switch(s.label){case 0:return r=t.Ch.shift(),i=ov.from(r,e,n),[4,wC(t,function(){return t.Dh.Bh(i)})];case 1:return s.sent(),[4,CC(t)];case 2:return s.sent(),[2]}})})}function TC(t,e){return Object(Rm.b)(this,void 0,void 0,function(){return Object(Rm.e)(this,function(n){switch(n.label){case 0:return e&&RC(t)._h?[4,function(t,e){return Object(Rm.b)(this,void 0,void 0,function(){var n,r;return Object(Rm.e)(this,function(i){switch(i.label){case 0:return dy(r=e.code)&&r!==Km.ABORTED?(n=t.Ch.shift(),RC(t).Yu(),[4,wC(t,function(){return t.Dh.qh(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,CC(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return OC(t)&&kC(t),[2]}})})}function IC(t,e){return Object(Rm.b)(this,void 0,void 0,function(){var n;return Object(Rm.e)(this,function(r){switch(r.label){case 0:return n=zm(t),e?(n.Nh.delete(2),[4,aC(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Nh.add(2),[4,cC(n)]);case 3:r.sent(),n.Oh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function AC(t){var e=this;return t.Uh||(t.Uh=function(t,e,n){var r=zm(t);return r.Ih(),new nC(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:bC.bind(null,t),Tu:yC.bind(null,t),ah:_C.bind(null,t)}),t.$h.push(function(n){return Object(Rm.b)(e,void 0,void 0,function(){return Object(Rm.e)(this,function(e){switch(e.label){case 0:return n?(t.Uh.Yu(),pC(t)?fC(t):t.Oh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Uh.stop()];case 2:e.sent(),gC(t),e.label=3;case 3:return[2]}})})})),t.Uh}function RC(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=zm(t);return r.Ih(),new rC(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:SC.bind(null,t),Tu:TC.bind(null,t),wh:xC.bind(null,t),dh:EC.bind(null,t)}),t.$h.push(function(n){return Object(Rm.b)(e,void 0,void 0,function(){return Object(Rm.e)(this,function(e){switch(e.label){case 0:return n?(t.Qh.Yu(),[4,CC(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qh.stop()];case 3:e.sent(),t.Ch.length>0&&(Lm("RemoteStore","Stopping write stream with "+t.Ch.length+" pending writes"),t.Ch=[]),e.label=4;case 4:return[2]}})})})),t.Qh}var DC=function(){this.Kh=void 0,this.listeners=[]},jC=function(){this.queries=new Tv(function(t){return kb(t)},Ob),this.onlineState="Unknown",this.Wh=new Set};function PC(t,e){return Object(Rm.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c;return Object(Rm.e)(this,function(l){switch(l.label){case 0:if(n=zm(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new DC),!i)return[3,4];l.label=1;case 1:return l.trys.push([1,3,,4]),o=s,[4,n.jh(r)];case 2:return o.Kh=l.sent(),[3,4];case 3:return a=l.sent(),c=j_(a,"Initialization of query '"+Sb(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.Gh(n.onlineState),s.Kh&&e.zh(s.Kh)&&MC(n),[2]}})})}function NC(t,e){return Object(Rm.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Rm.e)(this,function(a){return n=zm(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.Hh(r))]:[2]})})}function LC(t,e){for(var n=zm(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var c=0,l=a.listeners;c<l.length;c++)l[c].zh(o)&&(r=!0);a.Kh=o}}r&&MC(n)}function FC(t,e,n){var r=zm(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function MC(t){t.Wh.forEach(function(t){t.next()})}var VC=function(){function t(t,e,n){this.query=t,this.Jh=e,this.Yh=!1,this.Xh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.zh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Dy(t.query,t.docs,t.Se,e,t.De,t.fromCache,t.Ce,!0)}var s=!1;return this.Yh?this.Zh(t)&&(this.Jh.next(t),s=!0):this.tl(t,this.onlineState)&&(this.el(t),s=!0),this.Xh=t,s},t.prototype.onError=function(t){this.Jh.error(t)},t.prototype.Gh=function(t){this.onlineState=t;var e=!1;return this.Xh&&!this.Yh&&this.tl(this.Xh,t)&&(this.el(this.Xh),e=!0),e},t.prototype.tl=function(t,e){return!t.fromCache||!(this.options.nl&&"Offline"!==e||t.docs.et()&&"Offline"!==e)},t.prototype.Zh=function(t){return t.docChanges.length>0||!!(t.Ce||this.Xh&&this.Xh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.el=function(t){t=Dy.Ne(t.query,t.docs,t.De,t.fromCache),this.Yh=!0,this.Jh.next(t)},t}(),UC=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.sl=function(){return"metadata"in this.payload},t}(),BC=function(){function t(t){this.Qt=t}return t.prototype.Pc=function(t){return Zy(this.Qt,t)},t.prototype.yc=function(t){return t.metadata.exists?i_(this.Qt,t.document,!1):new qg(this.Pc(t.metadata.name),this.gc(t.metadata.readTime))},t.prototype.gc=function(t){return $y(t)},t}();!function(){function t(t,e,n){this.il=t,this.bh=e,this.Qt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.rl=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.ol=function(t){for(var e=new Map,n=new BC(this.Qt),r=0,i=t;r<i.length;r++){var s=i[r];if(s.metadata.queries)for(var o=n.Pc(s.metadata.name),a=0,c=s.metadata.queries;a<c.length;a++){var l=c[a],u=(e.get(l)||Ey()).add(o);e.set(l,u)}}return e},t.prototype.complete=function(){return Object(Rm.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(Rm.e)(this,function(s){switch(s.label){case 0:return[4,kw(this.bh,new BC(this.Qt),this.documents,this.il.id)];case 1:t=s.sent(),e=this.ol(this.documents),n=0,r=this.queries,s.label=2;case 2:return n<r.length?[4,Sw(this.bh,i=r[n],e.get(i.name))]:[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new ow(Object.assign({},this.progress),t))]}})})}}();var zC=function(t){this.key=t},HC=function(t){this.key=t},qC=function(){function t(t,e){this.query=t,this.cl=e,this.al=null,this.Be=!1,this.ul=Ey(),this.De=Ey(),this.hl=Eb(t),this.ll=new Ay(this.hl)}return Object.defineProperty(t.prototype,"_l",{get:function(){return this.cl},enumerable:!1,configurable:!0}),t.prototype.fl=function(t,e){var n=this,r=e?e.dl:new Ry,i=e?e.ll:this.ll,s=e?e.De:this.De,o=i,a=!1,c=mb(this.query)&&i.size===this.query.limit?i.last():null,l=gb(this.query)&&i.size===this.query.limit?i.first():null;if(t.Xt(function(t,e){var u=i.get(t),h=e instanceof Hg?e:null;h&&(h=xb(n.query,h)?h:null);var d=!!u&&n.De.has(u.key),f=!!h&&(h.Vt||n.De.has(h.key)&&h.hasCommittedMutations),p=!1;u&&h?u.data().isEqual(h.data())?d!==f&&(r.track({type:3,doc:h}),p=!0):n.wl(u,h)||(r.track({type:2,doc:h}),p=!0,(c&&n.hl(h,c)>0||l&&n.hl(h,l)<0)&&(a=!0)):!u&&h?(r.track({type:0,doc:h}),p=!0):u&&!h&&(r.track({type:1,doc:u}),p=!0,(c||l)&&(a=!0)),p&&(h?(o=o.add(h),s=f?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),mb(this.query)||gb(this.query))for(;o.size>this.query.limit;){var u=mb(this.query)?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{ll:o,dl:r,lc:a,De:s}},t.prototype.wl=function(t,e){return t.Vt&&e.hasCommittedMutations&&!e.Vt},t.prototype.wi=function(t,e,n){var r=this,i=this.ll;this.ll=t.ll,this.De=t.De;var s=t.dl.ve();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Um()}};return n(t)-n(e)}(t.type,e.type)||r.hl(t.doc,e.doc)}),this.El(n);var o=e?this.Tl():[],a=0===this.ul.size&&this.Be?1:0,c=a!==this.al;return this.al=a,0!==s.length||c?{snapshot:new Dy(this.query,t.ll,i,s,t.De,0===a,c,!1),Il:o}:{Il:o}},t.prototype.Gh=function(t){return this.Be&&"Offline"===t?(this.Be=!1,this.wi({ll:this.ll,dl:new Ry,De:this.De,lc:!1},!1)):{Il:[]}},t.prototype.ml=function(t){return!this.cl.has(t)&&!!this.ll.has(t)&&!this.ll.get(t).Vt},t.prototype.El=function(t){var e=this;t&&(t.qe.forEach(function(t){return e.cl=e.cl.add(t)}),t.Ue.forEach(function(t){}),t.Qe.forEach(function(t){return e.cl=e.cl.delete(t)}),this.Be=t.Be)},t.prototype.Tl=function(){var t=this;if(!this.Be)return[];var e=this.ul;this.ul=Ey(),this.ll.forEach(function(e){t.ml(e.key)&&(t.ul=t.ul.add(e.key))});var n=[];return e.forEach(function(e){t.ul.has(e)||n.push(new HC(e))}),this.ul.forEach(function(t){e.has(t)||n.push(new zC(t))}),n},t.prototype.Al=function(t){this.cl=t.Rc,this.ul=Ey();var e=this.fl(t.documents);return this.wi(e,!0)},t.prototype.Rl=function(){return Dy.Ne(this.query,this.ll,this.De,0===this.al)},t}(),YC=function(t,e,n){this.query=t,this.targetId=e,this.view=n},GC=function(t){this.key=t,this.Pl=!1},WC=function(){function t(t,e,n,r,i,s){this.bh=t,this.yl=e,this.gl=n,this.Vl=r,this.currentUser=i,this.pl=s,this.bl={},this.vl=new Tv(function(t){return kb(t)},Ob),this.Sl=new Map,this.Dl=new Set,this.Cl=new py(hg.H),this.xl=new Map,this.Nl=new Ew,this.$l={},this.Fl=new Map,this.Ol=Fv.Li(),this.onlineState="Unknown",this.kl=void 0}return Object.defineProperty(t.prototype,"Ml",{get:function(){return!0===this.kl},enumerable:!1,configurable:!0}),t}();function $C(t,e){return Object(Rm.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Rm.e)(this,function(a){switch(a.label){case 0:return n=OO(t),(i=n.vl.get(e))?(n.Vl.Fa(i.targetId),r=i.view.Rl(),[3,4]):[3,1];case 1:return[4,yw(n.bh,wb(e))];case 2:return s=a.sent(),o=n.Vl.Fa(s.targetId),[4,KC(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.Ml&&lC(n.yl,s),a.label=4;case 4:return[2,r]}})})}function KC(t,e,n,r){return Object(Rm.b)(this,void 0,void 0,function(){var i,s,o,a,c,l;return Object(Rm.e)(this,function(u){switch(u.label){case 0:return t.Ll=function(e,n,r){return function(t,e,n,r){return Object(Rm.b)(this,void 0,void 0,function(){var i,s,o;return Object(Rm.e)(this,function(a){switch(a.label){case 0:return(i=e.view.fl(n)).lc?[4,vw(t.bh,e.query,!1).then(function(t){return e.view.fl(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.$e.get(e.targetId),o=e.view.wi(i,t.Ml,s),[2,(cO(t,e.targetId,o.Il),o.snapshot)]}})})}(t,e,n,r)},[4,vw(t.bh,e,!0)];case 1:return i=u.sent(),s=new qC(e,i.Rc),o=s.fl(i.documents),a=Py.Le(n,r&&"Offline"!==t.onlineState),c=s.wi(o,t.Ml,a),cO(t,n,c.Il),l=new YC(e,n,s),[2,(t.vl.set(e,l),t.Sl.has(n)?t.Sl.get(n).push(e):t.Sl.set(n,[e]),c.snapshot)]}})})}function XC(t,e){return Object(Rm.b)(this,void 0,void 0,function(){var n,r,i;return Object(Rm.e)(this,function(s){switch(s.label){case 0:return n=zm(t),r=n.vl.get(e),(i=n.Sl.get(r.targetId)).length>1?[2,(n.Sl.set(r.targetId,i.filter(function(t){return!Ob(t,e)})),void n.vl.delete(e))]:n.Ml?(n.Vl.ka(r.targetId),n.Vl.Da(r.targetId)?[3,2]:[4,_w(n.bh,r.targetId,!1).then(function(){n.Vl.La(r.targetId),uC(n.yl,r.targetId),oO(n,r.targetId)}).catch(Ev)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return oO(n,r.targetId),[4,_w(n.bh,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function QC(t,e,n){return Object(Rm.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Rm.e)(this,function(a){switch(a.label){case 0:r=kO(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=zm(t),i=sg.now(),s=e.reduce(function(t,e){return t.add(e.key)},Ey());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Tc.Xo(t,s).next(function(s){n=s;for(var o=[],a=0,c=e;a<c.length;a++){var l=c[a],u=Zb(l,n.get(l.key));null!=u&&o.push(new ny(l.key,u,Bg(u.proto.mapValue),Wb.exists(!0)))}return r.zo.Ri(t,i,o,e)})}).then(function(t){var e=t.xs(n);return{batchId:t.batchId,ri:e}})}(r.bh,e)];case 2:return i=a.sent(),r.Vl.Ca(i.batchId),function(t,e,n){var r=t.$l[t.currentUser.A()];r||(r=new py(Ym)),r=r.zt(e,n),t.$l[t.currentUser.A()]=r}(r,i.batchId,n),[4,hO(r,i.ri)];case 3:return a.sent(),[4,CC(r.yl)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=j_(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function ZC(t,e){return Object(Rm.b)(this,void 0,void 0,function(){var n,r;return Object(Rm.e)(this,function(i){switch(i.label){case 0:n=zm(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,mw(n.bh,e)];case 2:return r=i.sent(),e.$e.forEach(function(t,e){var r=n.xl.get(e);r&&(Bm(t.qe.size+t.Ue.size+t.Qe.size<=1),t.qe.size>0?r.Pl=!0:t.Ue.size>0?Bm(r.Pl):t.Qe.size>0&&(Bm(r.Pl),r.Pl=!1))}),[4,hO(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Ev(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function JC(t,e,n){var r=zm(t);if(r.Ml&&0===n||!r.Ml&&1===n){var i=[];r.vl.forEach(function(t,n){var r=n.view.Gh(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=zm(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].Gh(e)&&(r=!0)}),r&&MC(n)}(r.gl,e),i.length&&r.bl.ah(i),r.onlineState=e,r.Ml&&r.Vl.Qa(e)}}function tO(t,e,n){return Object(Rm.b)(this,void 0,void 0,function(){var r,i,s,o,a,c;return Object(Rm.e)(this,function(l){switch(l.label){case 0:return(r=zm(t)).Vl.Ba(e,"rejected",n),i=r.xl.get(e),(s=i&&i.key)?(o=(o=new py(hg.H)).zt(s,new qg(s,og.min())),a=Ey().add(s),c=new jy(og.min(),new Map,new by(Ym),o,a),[4,ZC(r,c)]):[3,2];case 1:return l.sent(),r.Cl=r.Cl.remove(s),r.xl.delete(e),uO(r),[3,4];case 2:return[4,_w(r.bh,e,!1).then(function(){return oO(r,e,n)}).catch(Ev)];case 3:l.sent(),l.label=4;case 4:return[2]}})})}function eO(t,e){return Object(Rm.b)(this,void 0,void 0,function(){var n,r,i;return Object(Rm.e)(this,function(s){switch(s.label){case 0:n=zm(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,fw(n.bh,e)];case 2:return i=s.sent(),sO(n,r,null),iO(n,r),n.Vl.Na(r,"acknowledged"),[4,hO(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Ev(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function nO(t,e,n){return Object(Rm.b)(this,void 0,void 0,function(){var r,i;return Object(Rm.e)(this,function(s){switch(s.label){case 0:r=zm(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=zm(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.zo.Pi(t,e).next(function(e){return Bm(null!==e),r=e.keys(),n.zo.Ci(t,e)}).next(function(){return n.zo.$i(t)}).next(function(){return n.Tc.Xo(t,r)})})}(r.bh,e)];case 2:return i=s.sent(),sO(r,e,n),iO(r,e),r.Vl.Na(e,"rejected",n),[4,hO(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Ev(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function rO(t,e){return Object(Rm.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Rm.e)(this,function(a){switch(a.label){case 0:mC((n=zm(t)).yl)||Lm("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=zm(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.zo.Vi(t)})}(n.bh)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fl.get(r)||[]).push(e),n.Fl.set(r,i),[3,4]);case 3:return s=a.sent(),o=j_(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}})})}function iO(t,e){(t.Fl.get(e)||[]).forEach(function(t){t.resolve()}),t.Fl.delete(e)}function sO(t,e,n){var r=zm(t),i=r.$l[r.currentUser.A()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.$l[r.currentUser.A()]=i}}function oO(t,e,n){void 0===n&&(n=null),t.Vl.ka(e);for(var r=0,i=t.Sl.get(e);r<i.length;r++){var s=i[r];t.vl.delete(s),n&&t.bl.Bl(s,n)}t.Sl.delete(e),t.Ml&&t.Nl.Fc(e).forEach(function(e){t.Nl.Fi(e)||aO(t,e)})}function aO(t,e){t.Dl.delete(e.path.rt());var n=t.Cl.get(e);null!==n&&(uC(t.yl,n),t.Cl=t.Cl.remove(e),t.xl.delete(n),uO(t))}function cO(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof zC?(t.Nl.nr(s.key,e),lO(t,s)):s instanceof HC?(Lm("SyncEngine","Document no longer in limbo: "+s.key),t.Nl.ir(s.key,e),t.Nl.Fi(s.key)||aO(t,s.key)):Um()}}function lO(t,e){var n=e.key,r=n.path.rt();t.Cl.get(n)||t.Dl.has(r)||(Lm("SyncEngine","New document in limbo: "+n),t.Dl.add(r),uO(t))}function uO(t){for(;t.Dl.size>0&&t.Cl.size<t.pl;){var e=t.Dl.values().next().value;t.Dl.delete(e);var n=new hg(cg.ot(e)),r=t.Ol.next();t.xl.set(r,new GC(n)),t.Cl=t.Cl.zt(n,r),lC(t.yl,new Ib(wb(pb(n.path)),r,2,ig.q))}}function hO(t,e,n){return Object(Rm.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Rm.e)(this,function(a){switch(a.label){case 0:return r=zm(t),i=[],s=[],o=[],r.vl.et()?[3,3]:(r.vl.forEach(function(t,a){o.push(r.Ll(a,e,n).then(function(t){if(t){r.Ml&&r.Vl.Ba(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=cw.oc(a.targetId,t);s.push(e)}}))}),[4,Promise.all(o)]);case 1:return a.sent(),r.bl.ah(i),[4,function(t,e){return Object(Rm.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c,l;return Object(Rm.e)(this,function(u){switch(u.label){case 0:n=zm(t),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return C_.forEach(e,function(e){return C_.forEach(e.ic,function(r){return n.persistence.Ti.nr(t,e.targetId,r)}).next(function(){return C_.forEach(e.rc,function(r){return n.persistence.Ti.ir(t,e.targetId,r)})})})})];case 2:return u.sent(),[3,4];case 3:if(!E_(r=u.sent()))throw r;return Lm("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(c=n.fc.get(a),l=c.Lt(c.Ot),n.fc=n.fc.zt(a,l));return[2]}})})}(r.bh,s)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function dO(t,e){return Object(Rm.b)(this,void 0,void 0,function(){var n,r;return Object(Rm.e)(this,function(i){switch(i.label){case 0:return(n=zm(t)).currentUser.isEqual(e)?[3,3]:(Lm("SyncEngine","User change. New user:",e.A()),[4,dw(n.bh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fl.forEach(function(t){t.forEach(function(t){t.reject(new Xm(Km.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fl.clear()}(n),n.Vl.Ua(e,r.mc,r.Ac),[4,hO(n,r.Ic)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function fO(t,e){var n=zm(t),r=n.xl.get(e);if(r&&r.Pl)return Ey().add(r.key);var i=Ey(),s=n.Sl.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var c=n.vl.get(a[o]);i=i.Pe(c.view._l)}return i}function pO(t,e){return Object(Rm.b)(this,void 0,void 0,function(){var n,r,i;return Object(Rm.e)(this,function(s){switch(s.label){case 0:return[4,vw((n=zm(t)).bh,e.query,!0)];case 1:return r=s.sent(),i=e.view.Al(r),[2,(n.Ml&&cO(n,e.targetId,i.Il),i)]}})})}function mO(t){return Object(Rm.b)(this,void 0,void 0,function(){var e;return Object(Rm.e)(this,function(n){return[2,Cw((e=zm(t)).bh).then(function(t){return hO(e,t)})]})})}function gO(t,e,n,r){return Object(Rm.b)(this,void 0,void 0,function(){var i,s;return Object(Rm.e)(this,function(o){switch(o.label){case 0:return[4,function(t,e){var n=zm(t),r=zm(n.zo);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.yi(t,e).next(function(e){return e?n.Tc.Xo(t,e):C_.resolve(null)})})}((i=zm(t)).bh,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,CC(i.yl)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(sO(i,e,r||null),iO(i,e),function(t,e){zm(zm(t).zo).xi(e)}(i.bh,e)):Um(),o.label=4;case 4:return[4,hO(i,s)];case 5:return o.sent(),[3,7];case 6:Lm("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}})})}function bO(t,e){return Object(Rm.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c;return Object(Rm.e)(this,function(l){switch(l.label){case 0:return OO(n=zm(t)),kO(n),!0!==e||!0===n.kl?[3,3]:(r=n.Vl.va(),[4,yO(n,r.it())]);case 1:return i=l.sent(),n.kl=!0,[4,IC(n.yl,!0)];case 2:for(l.sent(),s=0,o=i;s<o.length;s++)lC(n.yl,o[s]);return[3,7];case 3:return!1!==e||!1===n.kl?[3,7]:(a=[],c=Promise.resolve(),n.Sl.forEach(function(t,e){n.Vl.Ma(e)?a.push(e):c=c.then(function(){return oO(n,e),_w(n.bh,e,!0)}),uC(n.yl,e)}),[4,c]);case 4:return l.sent(),[4,yO(n,a)];case 5:return l.sent(),function(t){var e=zm(t);e.xl.forEach(function(t,n){uC(e.yl,n)}),e.Nl.Oc(),e.xl=new Map,e.Cl=new py(hg.H)}(n),n.kl=!1,[4,IC(n.yl,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}})})}function yO(t,e,n){return Object(Rm.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c,l,u,h,d,f,p;return Object(Rm.e)(this,function(m){switch(m.label){case 0:n=zm(t),r=[],i=[],s=0,o=e,m.label=1;case 1:return s<o.length?(c=void 0,(l=n.Sl.get(a=o[s]))&&0!==l.length?[4,yw(n.bh,wb(l[0]))]:[3,7]):[3,13];case 2:c=m.sent(),u=0,h=l,m.label=3;case 3:return u<h.length?(d=n.vl.get(h[u]),[4,pO(n,d)]):[3,6];case 4:(f=m.sent()).snapshot&&i.push(f.snapshot),m.label=5;case 5:return u++,[3,3];case 6:return[3,11];case 7:return[4,ww(n.bh,a)];case 8:return p=m.sent(),[4,yw(n.bh,p)];case 9:return c=m.sent(),[4,KC(n,_O(p),a,!1)];case 10:m.sent(),m.label=11;case 11:r.push(c),m.label=12;case 12:return s++,[3,1];case 13:return[2,(n.bl.ah(i),r)]}})})}function _O(t){return fb(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function vO(t){var e=zm(t);return zm(zm(e.bh).persistence).Uo()}function wO(t,e,n,r){return Object(Rm.b)(this,void 0,void 0,function(){var i,s,o;return Object(Rm.e)(this,function(a){switch(a.label){case 0:return(i=zm(t)).kl?(Lm("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Sl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Cw(i.bh)];case 3:return s=a.sent(),o=jy.Me(e,"current"===n),[4,hO(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,_w(i.bh,e,!0)];case 6:return a.sent(),oO(i,e,r),[3,8];case 7:Um(),a.label=8;case 8:return[2]}})})}function CO(t,e,n){return Object(Rm.b)(this,void 0,void 0,function(){var r,i,s,o,a,c,l,u,h;return Object(Rm.e)(this,function(d){switch(d.label){case 0:if(!(r=OO(t)).kl)return[3,10];i=0,s=e,d.label=1;case 1:return i<s.length?r.Sl.has(o=s[i])?(Lm("SyncEngine","Adding an already active target "+o),[3,5]):[4,ww(r.bh,o)]:[3,6];case 2:return a=d.sent(),[4,yw(r.bh,a)];case 3:return c=d.sent(),[4,KC(r,_O(a),c.targetId,!1)];case 4:d.sent(),lC(r.yl,c),d.label=5;case 5:return i++,[3,1];case 6:l=function(t){return Object(Rm.e)(this,function(e){switch(e.label){case 0:return r.Sl.has(t)?[4,_w(r.bh,t,!1).then(function(){uC(r.yl,t),oO(r,t)}).catch(Ev)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},u=0,h=n,d.label=7;case 7:return u<h.length?[5,l(h[u])]:[3,10];case 8:d.sent(),d.label=9;case 9:return u++,[3,7];case 10:return[2]}})})}function OO(t){var e=zm(t);return e.yl.Dh.Lh=ZC.bind(null,e),e.yl.Dh.vn=fO.bind(null,e),e.yl.Dh.Mh=tO.bind(null,e),e.bl.ah=LC.bind(null,e.gl),e.bl.Bl=FC.bind(null,e.gl),e}function kO(t){var e=zm(t);return e.yl.Dh.Bh=eO.bind(null,e),e.yl.Dh.qh=nO.bind(null,e),e}var SO=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Rm.b)(this,void 0,void 0,function(){return Object(Rm.e)(this,function(e){switch(e.label){case 0:return this.Qt=Jw(t.yu.t),this.Vl=this.Wl(t),this.persistence=this.jl(t),[4,this.persistence.start()];case 1:return e.sent(),this.Gl=this.zl(t),this.bh=this.Hl(t),[2]}})})},t.prototype.zl=function(t){return null},t.prototype.Hl=function(t){return hw(this.persistence,new lw,t.Jl,this.Qt)},t.prototype.jl=function(t){return new jw(Nw.ia,this.Qt)},t.prototype.Wl=function(t){return new Yw},t.prototype.terminate=function(){return Object(Rm.b)(this,void 0,void 0,function(){return Object(Rm.e)(this,function(t){switch(t.label){case 0:return this.Gl&&this.Gl.stop(),[4,this.Vl.ko()];case 1:return t.sent(),[4,this.persistence.ko()];case 2:return t.sent(),[2]}})})},t}(),xO=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Yl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Rm.d)(e,t),e.prototype.initialize=function(e){return Object(Rm.b)(this,void 0,void 0,function(){return Object(Rm.e)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Ow(this.bh)];case 2:return n.sent(),[4,this.Yl.initialize(this,e)];case 3:return n.sent(),[4,kO(this.Yl._a)];case 4:return n.sent(),[4,CC(this.Yl.yl)];case 5:return n.sent(),[2]}})})},e.prototype.Hl=function(t){return hw(this.persistence,new lw,t.Jl,this.Qt)},e.prototype.zl=function(t){return new qv(this.persistence.Ti.lr,t._s)},e.prototype.jl=function(t){var e=sw(t.yu.t,t.yu.persistenceKey),n=void 0!==this.cacheSizeBytes?xv.Ys(this.cacheSizeBytes):xv.ti;return new nw(this.synchronizeTabs,e,t.clientId,n,t._s,Qw(),Zw(),this.Qt,this.Vl,!!this.forceOwnership)},e.prototype.Wl=function(t){return new Yw},e}(SO),EO=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Yl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Rm.d)(e,t),e.prototype.initialize=function(e){return Object(Rm.b)(this,void 0,void 0,function(){var n,r=this;return Object(Rm.e)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Yl._a,this.Vl instanceof qw?(this.Vl._a={eu:gO.bind(null,n),nu:wO.bind(null,n),su:CO.bind(null,n),Uo:vO.bind(null,n),tu:mO.bind(null,n)},[4,this.Vl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Ro(function(t){return Object(Rm.b)(r,void 0,void 0,function(){return Object(Rm.e)(this,function(e){switch(e.label){case 0:return[4,bO(this.Yl._a,t)];case 1:return e.sent(),this.Gl&&(t&&!this.Gl.Er?this.Gl.start(this.bh):t||this.Gl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Wl=function(t){var e=Qw();if(!qw.Kn(e))throw new Xm(Km.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=sw(t.yu.t,t.yu.persistenceKey);return new qw(e,t._s,n,t.clientId,t.Jl)},e}(xO),TO=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Rm.b)(this,void 0,void 0,function(){var n=this;return Object(Rm.e)(this,function(r){switch(r.label){case 0:return this.bh?[3,2]:(this.bh=t.bh,this.Vl=t.Vl,this.Sh=this.Xl(e),this.yl=this.Zl(e),this.gl=this.t_(e),this._a=this.e_(e,!t.synchronizeTabs),this.Vl.fa=function(t){return JC(n._a,t,1)},this.yl.Dh.n_=dO.bind(null,this._a),[4,IC(this.yl,this._a.Ml)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.t_=function(t){return new jC},t.prototype.Xl=function(t){var e=Jw(t.yu.t),n=new Xw(t.yu);return function(t,e,n){return new iC(t,e,n)}(t.credentials,n,e)},t.prototype.Zl=function(t){var e,n,r,i,s,o=this;return e=this.bh,n=this.Sh,r=t._s,i=function(t){return JC(o._a,t,0)},s=Ww.Kn()?new Ww:new Gw,new oC(e,n,r,i,s)},t.prototype.e_=function(t,e){return function(t,e,n,r,i,s,o){var a=new WC(t,e,n,r,i,s);return o&&(a.kl=!0),a}(this.bh,this.yl,this.gl,this.Vl,t.Jl,t.pl,e)},t.prototype.terminate=function(){return function(t){return Object(Rm.b)(this,void 0,void 0,function(){var e;return Object(Rm.e)(this,function(n){switch(n.label){case 0:return e=zm(t),Lm("RemoteStore","RemoteStore shutting down."),e.Nh.add(5),[4,cC(e)];case 1:return n.sent(),e.Fh.ko(),e.Oh.set("Unknown"),[2]}})})}(this.yl)},t}(),IO=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.s_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.s_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.i_=function(){this.muted=!0},t.prototype.s_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),AO=(function(){function t(t,e){var n=this;this.r_=t,this.Qt=e,this.metadata=new w_,this.buffer=new Uint8Array,this.o_=new TextDecoder("utf-8"),this.c_().then(function(t){t&&t.sl()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.r_.cancel()},t.prototype.getMetadata=function(){return Object(Rm.b)(this,void 0,void 0,function(){return Object(Rm.e)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Ql=function(){return Object(Rm.b)(this,void 0,void 0,function(){return Object(Rm.e)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.c_())]}})})},t.prototype.c_=function(){return Object(Rm.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(Rm.e)(this,function(i){switch(i.label){case 0:return[4,this.a_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.o_.decode(t),n=Number(e),isNaN(n)&&this.u_("length string ("+e+") is not valid number"),[4,this.h_(n)]);case 2:return r=i.sent(),[2,new UC(JSON.parse(r),t.length+n)]}})})},t.prototype.l_=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.a_=function(){return Object(Rm.b)(this,void 0,void 0,function(){var t,e;return Object(Rm.e)(this,function(n){switch(n.label){case 0:return this.l_()<0?[4,this.__()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.l_())<0&&this.u_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.h_=function(t){return Object(Rm.b)(this,void 0,void 0,function(){var e;return Object(Rm.e)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.__()]:[3,3];case 1:n.sent()&&this.u_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.o_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.u_=function(t){throw this.r_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.__=function(){return Object(Rm.b)(this,void 0,void 0,function(){var t,e;return Object(Rm.e)(this,function(n){switch(n.label){case 0:return[4,this.r_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Xm(Km.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.f_=new ug(t)}return t.prototype.isEqual=function(t){return this.f_.isEqual(t.f_)},t}()),RO=function(t){this._methodName=t},DO=function(t){this.d_=t};function jO(t,e,n){if(!n)throw new Xm(Km.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function PO(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Xm(Km.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function NO(t,e,n,r){if(!0===e&&!0===r)throw new Xm(Km.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function LO(t){if(!hg.wt(t))throw new Xm(Km.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function FO(t){if(hg.wt(t))throw new Xm(Km.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function MO(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Um()}function VO(t,e){if("_delegate"in t&&(t=t.d_),!(t instanceof e)){if(e.name===t.constructor.name)throw new Xm(Km.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=MO(t);throw new Xm(Km.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function UO(t,e){if(e<=0)throw new Xm(Km.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var BO=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Xm(Km.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Xm(Km.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,NO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),zO=new Map,HO=function(){function t(t,e){this.w_="(lite)",this.E_=new BO({}),this.T_=!1,t instanceof jm?(this.I_=t,this.m_=new tg):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Xm(Km.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jm(t.options.projectId)}(t),this.m_=new eg(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new Xm(Km.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new Xm(Km.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new BO(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new tg;switch(t.type){case"gapi":var e=t.client;return Bm(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new rg(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Xm(Km.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.toJSON=function(){return{app:this.A_,t:this.I_,settings:this.E_}},t.prototype.b_=function(){return(t=zO.get(this))&&(Lm("ComponentProvider","Removing Datastore"),zO.delete(this),t.terminate()),Promise.resolve();var t},t}(),qO=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new GO(this.firestore,this.v_,this.S_.path.X())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),YO=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),GO=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,pb(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(Rm.d)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.X();return t.et()?null:new qO(this.firestore,null,new hg(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(YO);function WO(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof DO&&(t=t.d_),jO("collection","path",e),t instanceof HO)return FO(n=cg.ot.apply(cg,Object(Rm.i)([e],r))),new GO(t,null,n);if(!(t instanceof qO||t instanceof GO))throw new Xm(Km.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return FO(n=cg.ot.apply(cg,Object(Rm.i)([t.path],r)).child(cg.ot(e))),new GO(t.firestore,null,n)}function $O(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof DO&&(t=t.d_),1===arguments.length&&(e=qm.u()),jO("doc","path",e),t instanceof HO)return LO(n=cg.ot.apply(cg,Object(Rm.i)([e],r))),new qO(t,null,new hg(n));if(!(t instanceof qO||t instanceof GO))throw new Xm(Km.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return LO(n=t.D_.child(cg.ot.apply(cg,Object(Rm.i)([e],r)))),new qO(t.firestore,t instanceof GO?t.v_:null,new hg(n))}function KO(t,e){return t instanceof DO&&(t=t.d_),e instanceof DO&&(e=e.d_),(t instanceof qO||t instanceof GO)&&(e instanceof qO||e instanceof GO)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function XO(t,e){return t instanceof DO&&(t=t.d_),e instanceof DO&&(e=e.d_),t instanceof YO&&e instanceof YO&&t.firestore===e.firestore&&Ob(t.C_,e.C_)&&t.v_===e.v_}var QO=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Xm(Km.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Xm(Km.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.U=function(t){return Ym(this.x_,t.x_)||Ym(this.N_,t.N_)},t}(),ZO=/^__.*__$/,JO=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.Gt?new ny(t,this.data,this.Gt,e,this.fieldTransforms):new ey(t,this.data,e,this.fieldTransforms)},t}(),tk=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new ny(t,this.data,this.Gt,e,this.fieldTransforms)},t}();function ek(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Um()}}var nk=function(){function t(t,e,n,r,i,s){this.settings=t,this.t=e,this.Qt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.Gt=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.Qt,this.ignoreUndefinedProperties,this.fieldTransforms,this.Gt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return Ck(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.Gt.find(function(e){return t.nt(e)})||void 0!==this.fieldTransforms.find(function(e){return t.nt(e.field)})},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(ek(this.k_)&&ZO.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),rk=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.Qt=n||Jw(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new nk({k_:t,methodName:e,j_:n,path:ug.ct(),B_:!1,W_:r},this.t,this.Qt,this.ignoreUndefinedProperties)},t}();function ik(t){var e=t.p_(),n=Jw(t.I_);return new rk(t.I_,!!e.ignoreUndefinedProperties,n)}function sk(t,e,n,r,i,s){void 0===s&&(s={});var o=t.G_(s.merge||s.mergeFields?2:0,e,n,i);yk("Data must be an object, but it was:",o,r);var a,c,l=gk(r,o);if(s.merge)a=new mg(o.Gt),c=o.fieldTransforms;else if(s.mergeFields){for(var u=[],h=0,d=s.mergeFields;h<d.length;h++){var f=_k(e,d[h],n);if(!o.contains(f))throw new Xm(Km.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");Ok(u,f)||u.push(f)}a=new mg(u),c=o.fieldTransforms.filter(function(t){return a.Tt(t.field)})}else a=null,c=o.fieldTransforms;return new JO(new Vg(l),a,c)}var ok=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Rm.d)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.Gt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(RO);function ak(t,e,n){return new nk({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.t,e.Qt,e.ignoreUndefinedProperties)}var ck=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Rm.d)(e,t),e.prototype.z_=function(t){return new Yb(t.path,new Fb)},e.prototype.isEqual=function(t){return t instanceof e},e}(RO),lk=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Rm.d)(e,t),e.prototype.z_=function(t){var e=ak(this,t,!0),n=this.H_.map(function(t){return mk(t,e)}),r=new Mb(n);return new Yb(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(RO),uk=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Rm.d)(e,t),e.prototype.z_=function(t){var e=ak(this,t,!0),n=this.H_.map(function(t){return mk(t,e)}),r=new Ub(n);return new Yb(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(RO),hk=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(Rm.d)(e,t),e.prototype.z_=function(t){var e=new zb(t.Qt,Db(t.Qt,this.J_));return new Yb(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(RO);function dk(t,e,n,r){var i=t.G_(1,e,n);yk("Data must be an object, but it was:",i,r);var s=[],o=new Ug;fg(r,function(t,r){var a=wk(e,t,n);r instanceof DO&&(r=r.d_);var c=i.U_(a);if(r instanceof ok)s.push(a);else{var l=mk(r,c);null!=l&&(s.push(a),o.set(a,l))}});var a=new mg(s);return new tk(o.Pt(),a,i.fieldTransforms)}function fk(t,e,n,r,i,s){var o=t.G_(1,e,n),a=[_k(e,r,n)],c=[i];if(s.length%2!=0)throw new Xm(Km.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<s.length;l+=2)a.push(_k(e,s[l])),c.push(s[l+1]);for(var u=[],h=new Ug,d=a.length-1;d>=0;--d)if(!Ok(u,a[d])){var f=a[d],p=c[d];p instanceof DO&&(p=p.d_);var m=o.U_(f);if(p instanceof ok)u.push(f);else{var g=mk(p,m);null!=g&&(u.push(f),h.set(f,g))}}var b=new mg(u);return new tk(h.Pt(),b,o.fieldTransforms)}function pk(t,e,n,r){return void 0===r&&(r=!1),mk(n,t.G_(r?4:3,e))}function mk(t,e){if(t instanceof DO&&(t=t.d_),bk(t))return yk("Unsupported field value:",e,t),gk(t,e);if(t instanceof RO)return function(t,e){if(!ek(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.Gt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=mk(s[i],e.Q_(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof DO&&(t=t.d_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Db(e.Qt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=sg.fromDate(t);return{timestampValue:Yy(e.Qt,n)}}if(t instanceof sg)return n=new sg(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Yy(e.Qt,n)};if(t instanceof QO)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Qm)return{bytesValue:Gy(e.Qt,t.I)};if(t instanceof qO){var r=t.firestore.I_;if(!r.isEqual(n=e.t))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Ky(t.firestore.I_||e.t,t.S_.path)}}throw e.K_("Unsupported field value: "+MO(t))}(t,e)}function gk(t,e){var n={};return pg(t)?e.path&&e.path.length>0&&e.Gt.push(e.path):fg(t,function(t,r){var i=mk(r,e.L_(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function bk(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof sg||t instanceof QO||t instanceof Qm||t instanceof qO||t instanceof RO)}function yk(t,e,n){if(!bk(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=MO(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function _k(t,e,n){if(e instanceof DO&&(e=e.d_),e instanceof AO)return e.f_;if("string"==typeof e)return wk(t,e);throw Ck("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var vk=new RegExp("[~\\*/\\[\\]]");function wk(t,e,n){if(e.search(vk)>=0)throw Ck("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(AO.bind.apply(AO,Object(Rm.i)([void 0],e.split("."))))).f_}catch(r){throw Ck("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Ck(t,e,n,r,i){var s=r&&!r.et(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var c="";return(s||o)&&(c+=" (found",s&&(c+=" in field "+r),o&&(c+=" in document "+i),c+=")"),new Xm(Km.INVALID_ARGUMENT,(a+=". ")+t+c)}function Ok(t,e){return t.some(function(t){return t.isEqual(e)})}var kk=function(){function t(t){this.Sh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(Rm.b)(this,void 0,void 0,function(){var e,n=this;return Object(Rm.e)(this,function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new Xm(Km.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Rm.b)(this,void 0,void 0,function(){var n,r,i,s,o,a;return Object(Rm.e)(this,function(c){switch(c.label){case 0:return n=zm(t),r=e_(n.Qt)+"/documents",i={documents:e.map(function(t){return Qy(n.Qt,t)})},[4,n.Du("BatchGetDocuments",r,i)];case 1:return s=c.sent(),o=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Bm(!!e.found);var n=Zy(t,e.found.name),r=$y(e.found.updateTime),i=new Vg({mapValue:{fields:e.found.fields}});return new Hg(n,r,i,{})}(t,e):"missing"in e?function(t,e){Bm(!!e.missing),Bm(!!e.readTime);var n=Zy(t,e.missing),r=$y(e.readTime);return new qg(n,r)}(t,e):Um()}(n.Qt,t);o.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=o.get(t.toString());Bm(!!e),a.push(e)}),a)]}})})}(this.Sh,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof qg||t instanceof Hg?n.sf(t):Um()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.F_(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new ly(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(Rm.b)(this,void 0,void 0,function(){var t,e=this;return Object(Rm.e)(this,function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=hg._t(n);e.mutations.push(new uy(r,e.jt(r)))}),[4,function(t,e){return Object(Rm.b)(this,void 0,void 0,function(){var n,r,i;return Object(Rm.e)(this,function(s){switch(s.label){case 0:return n=zm(t),r=e_(n.Qt)+"/documents",i={writes:e.map(function(t){return s_(n.Qt,t)})},[4,n.pu("Commit",r,i)];case 1:return s.sent(),[2]}})})}(this.Sh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}})})},t.prototype.sf=function(t){var e;if(t instanceof Hg)e=t.version;else{if(!(t instanceof qg))throw Um();e=og.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Xm(Km.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.jt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?Wb.updateTime(e):Wb.Kt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(og.min()))throw new Xm(Km.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Wb.updateTime(e)}return Wb.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),Sk=function(){function t(t,e,n,r){this._s=t,this.Sh=e,this.updateFunction=n,this.Es=r,this.cf=5,this.Gu=new tC(this._s,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.Gu.Lu(function(){return Object(Rm.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(Rm.e)(this,function(r){return t=new kk(this.Sh),(e=this.uf(t))&&e.then(function(e){n._s.Ps(function(){return t.commit().then(function(){n.Es.resolve(e)}).catch(function(t){n.hf(t)})})}).catch(function(t){n.hf(t)}),[2]})})})},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!Og(e)&&e.catch&&e.then?e:(this.Es.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Es.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this._s.Ps(function(){return e.af(),Promise.resolve()})):this.Es.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!dy(e)}return!1},t}(),xk=function(){function t(t,e,n){var r=this;this.credentials=t,this._s=e,this.yu=n,this.user=Zm.UNAUTHENTICATED,this.clientId=qm.u(),this._f=function(){},this.C=new w_,this.credentials.v(function(t){Lm("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.C.resolve()})}return t.prototype.getConfiguration=function(){return Object(Rm.b)(this,void 0,void 0,function(){return Object(Rm.e)(this,function(t){switch(t.label){case 0:return[4,this.C.promise];case 1:return[2,(t.sent(),{_s:this._s,yu:this.yu,clientId:this.clientId,credentials:this.credentials,Jl:this.user,pl:100})]}})})},t.prototype.ff=function(t){var e=this;this._f=t,this.C.promise.then(function(){return e._f(e.user)})},t.prototype.df=function(){if(this._s.wf)throw new Xm(Km.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this._s.Ef();var e=new w_;return this._s.Tf(function(){return Object(Rm.b)(t,void 0,void 0,function(){var t,n;return Object(Rm.e)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.S(),e.resolve(),[3,6];case 5:return t=r.sent(),n=j_(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Ek(t,e){return Object(Rm.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(Rm.e)(this,function(s){switch(s.label){case 0:return t._s.Af(),Lm("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.Jl,t.ff(function(n){r.isEqual(n)||(r=n,t._s.po(function(){return Object(Rm.b)(i,void 0,void 0,function(){return Object(Rm.e)(this,function(t){switch(t.label){case 0:return[4,dw(e.bh,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.Po(function(){return t.terminate()}),t.mf=e,[2]}})})}function Tk(t,e){return Object(Rm.b)(this,void 0,void 0,function(){var n,r;return Object(Rm.e)(this,function(i){switch(i.label){case 0:return t._s.Af(),[4,Ik(t)];case 1:return n=i.sent(),Lm("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff(function(n){return t._s.po(function(){return function(t,e){return Object(Rm.b)(this,void 0,void 0,function(){var n,r;return Object(Rm.e)(this,function(i){switch(i.label){case 0:return(n=zm(t))._s.Af(),Lm("RemoteStore","RemoteStore received new credentials"),r=mC(n),n.Nh.add(3),[4,cC(n)];case 1:return i.sent(),r&&n.Oh.set("Unknown"),[4,n.Dh.n_(e)];case 2:return i.sent(),n.Nh.delete(3),[4,aC(n)];case 3:return i.sent(),[2]}})})}(e.yl,n)})}),t.If=e,[2]}})})}function Ik(t){return Object(Rm.b)(this,void 0,void 0,function(){return Object(Rm.e)(this,function(e){switch(e.label){case 0:return t.mf?[3,2]:(Lm("FirestoreClient","Using default OfflineComponentProvider"),[4,Ek(t,new SO)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}})})}function Ak(t){return Object(Rm.b)(this,void 0,void 0,function(){return Object(Rm.e)(this,function(e){switch(e.label){case 0:return t.If?[3,2]:(Lm("FirestoreClient","Using default OnlineComponentProvider"),[4,Tk(t,new TO)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}})})}function Rk(t){return Ik(t).then(function(t){return t.persistence})}function Dk(t){return Ik(t).then(function(t){return t.bh})}function jk(t){return Ak(t).then(function(t){return t.yl})}function Pk(t){return Ak(t).then(function(t){return t._a})}function Nk(t){return Object(Rm.b)(this,void 0,void 0,function(){var e,n;return Object(Rm.e)(this,function(r){switch(r.label){case 0:return[4,Ak(t)];case 1:return e=r.sent(),[2,((n=e.gl).jh=$C.bind(null,e._a),n.Hh=XC.bind(null,e._a),n)]}})})}function Lk(t,e,n){var r=this;void 0===n&&(n={});var i=new w_;return t._s.Ps(function(){return Object(Rm.b)(r,void 0,void 0,function(){var r;return Object(Rm.e)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new IO({next:function(s){e.Ps(function(){return NC(t,o)});var a=s.docs.has(n);!a&&s.fromCache?i.reject(new Xm(Km.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Xm(Km.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new VC(pb(n.path),s,{includeMetadataChanges:!0,nl:!0});return PC(t,o)},[4,Nk(t)];case 1:return[2,r.apply(void 0,[s.sent(),t._s,e,n,i])]}})})}),i.promise}function Fk(t,e,n){var r=this;void 0===n&&(n={});var i=new w_;return t._s.Ps(function(){return Object(Rm.b)(r,void 0,void 0,function(){var r;return Object(Rm.e)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new IO({next:function(n){e.Ps(function(){return NC(t,o)}),n.fromCache&&"server"===r.source?i.reject(new Xm(Km.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new VC(n,s,{includeMetadataChanges:!0,nl:!0});return PC(t,o)},[4,Nk(t)];case 1:return[2,r.apply(void 0,[s.sent(),t._s,e,n,i])]}})})}),i.promise}var Mk=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.Gu=new tC(this,"async_queue_retry"),this.vf=function(){var e=Zw();e&&Lm("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Gu.qu()};var e=Zw();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.Ps=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=Zw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise(function(t){}):this.Df(t)},t.prototype.po=function(t){var e=this;this.Ps(function(){return e.Pf.push(t),e.Cf()})},t.prototype.Cf=function(){return Object(Rm.b)(this,void 0,void 0,function(){var t,e=this;return Object(Rm.e)(this,function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.Gu.reset(),[3,4];case 3:if(!E_(t=n.sent()))throw t;return Lm("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.Gu.Lu(function(){return e.Cf()}),n.label=5;case 5:return[2]}})})},t.prototype.Df=function(t){var e=this,n=this.Rf.then(function(){return e.pf=!0,t().catch(function(t){throw e.Vf=t,e.pf=!1,Fm("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.pf=!1,t})});return this.Rf=n,n},t.prototype.Tr=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=D_.Ts(this,t,e,n,function(t){return r.xf(t)});return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&Um()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(Rm.b)(this,void 0,void 0,function(){var t;return Object(Rm.e)(this,function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.$f=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].fs===t)return!0;return!1},t.prototype.Ff=function(t){var e=this;return this.Nf().then(function(){e.gf.sort(function(t,e){return t.ds-e.ds});for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Rs(),"all"!==t&&i.fs===t)break}return e.Nf()})},t.prototype.Of=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}();function Vk(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}!function(){function t(){this.kf={},this.Mf=new w_,this.Lf={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.kf={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.Mf.promise.catch(t)},t.prototype.then=function(t,e){return this.Mf.promise.then(t,e)},t.prototype.ql=function(t){this.Ul(t),this.kf.complete&&this.kf.complete(),this.Mf.resolve(t)},t.prototype.Kl=function(t){this.Lf.taskState="Error",this.kf.next&&this.kf.next(this.Lf),this.kf.error&&this.kf.error(t),this.Mf.reject(t)},t.prototype.Ul=function(t){this.Lf=t,this.kf.next&&this.kf.next(t)}}();var Uk=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Bf=new Mk,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(Rm.d)(e,t),e.prototype.b_=function(){return this.qf||zk(this),this.qf.terminate()},e}(HO);function Bk(t){return t.qf||zk(t),t.qf.df(),t.qf}function zk(t){var e=t.p_(),n=function(t,e,n){return new Dm(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.qf=new xk(t.m_,t.Bf,n)}function Hk(t,e,n){var r=this,i=new w_;return t._s.enqueue(function(){return Object(Rm.b)(r,void 0,void 0,function(){var r;return Object(Rm.e)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,Ek(t,n)];case 1:return s.sent(),[4,Tk(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Km.FAILED_PRECONDITION||t.code===Km.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function qk(t){if(t.R_||t.P_)throw new Xm(Km.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Yk=function(){function t(){}return t.prototype.Uf=function(t,e){switch(void 0===e&&(e="none"),xg(t)){case 0:return null;case 1:return t.booleanValue;case 2:return yg(t.integerValue||t.doubleValue);case 3:return this.Qf(t.timestampValue);case 4:return this.Kf(t,e);case 5:return t.stringValue;case 6:return this.Wf(_g(t.bytesValue));case 7:return this.jf(t.referenceValue);case 8:return this.Gf(t.geoPointValue);case 9:return this.zf(t.arrayValue,e);case 10:return this.Hf(t.mapValue,e);default:throw Um()}},t.prototype.Hf=function(t,e){var n=this,r={};return fg(t.fields||{},function(t,i){r[t]=n.Uf(i,e)}),r},t.prototype.Gf=function(t){return new QO(yg(t.latitude),yg(t.longitude))},t.prototype.zf=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.Uf(t,e)})},t.prototype.Kf=function(t,e){switch(e){case"previous":var n=wg(t);return null==n?null:this.Uf(n,e);case"estimate":return this.Qf(Cg(t));default:return null}},t.prototype.Qf=function(t){var e=bg(t);return new sg(e.seconds,e.nanos)},t.prototype.Jf=function(t,e){var n=cg.ot(t);Bm(v_(n));var r=new jm(n.get(1),n.get(3)),i=new hg(n.Y(5));return r.isEqual(e)||Fm("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),Gk=function(){function t(t,e,n,r,i){this.Yf=t,this.Xf=e,this.S_=n,this.Zf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new qO(this.Yf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Zf},t.prototype.data=function(){if(this.Zf){if(this.v_){var t=new Wk(this.Yf,this.Xf,this.S_,this.Zf,null);return this.v_.fromFirestore(t)}return this.Xf.Uf(this.Zf.bt())}},t.prototype.get=function(t){if(this.Zf){var e=this.Zf.data().field($k("DocumentSnapshot.get",t));if(null!==e)return this.Xf.Uf(e)}},t}(),Wk=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Rm.d)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Gk);function $k(t,e){return"string"==typeof e?wk(t,e):e instanceof DO?e.d_.f_:e.f_}function Kk(t){if(gb(t)&&0===t.xt.length)throw new Xm(Km.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Xk=function(){};function Qk(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s.td(t)}return t}var Zk=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).ed=e,i.nd=n,i.sd=r,i.type="where",i}return Object(Rm.d)(e,t),e.prototype.td=function(t){var e=ik(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.ut()){if("array-contains"===s||"array-contains-any"===s)throw new Xm(Km.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){sS(o,s);for(var c=[],l=0,u=o;l<u.length;l++)c.push(iS(r,t,u[l]));a={arrayValue:{values:c}}}else a=iS(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||sS(o,s),a=pk(n,"where",o,"in"===s||"not-in"===s);var h=Qg.create(i,s,a);return function(t,e){if(e.Ct()){var n=yb(t);if(null!==n&&!n.isEqual(e.field))throw new Xm(Km.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=bb(t);null!==r&&oS(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Xm(Km.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.ed,this.nd,this.sd);return new YO(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new db(t.path,t.collectionGroup,t.xt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(Xk),Jk=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ed=e,r.rd=n,r.type="orderBy",r}return Object(Rm.d)(e,t),e.prototype.td=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Xm(Km.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Xm(Km.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new cb(e,n);return function(t,e){if(null===bb(t)){var n=yb(t);null!==n&&oS(0,n,e.field)}}(t,r),r}(t.C_,this.ed,this.rd);return new YO(t.firestore,t.v_,function(t,e){var n=t.xt.concat([e]);return new db(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(Xk),tS=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.od=n,i.ad=r,i}return Object(Rm.d)(e,t),e.prototype.td=function(t){return new YO(t.firestore,t.v_,Cb(t.C_,this.od,this.ad))},e}(Xk),eS=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return Object(Rm.d)(e,t),e.prototype.td=function(t){var e=rS(t,this.type,this.ud,this.hd);return new YO(t.firestore,t.v_,function(t,e){return new db(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(Xk),nS=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return Object(Rm.d)(e,t),e.prototype.td=function(t){var e=rS(t,this.type,this.ud,this.hd);return new YO(t.firestore,t.v_,function(t,e){return new db(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(Xk);function rS(t,e,n,r){if(n[0]instanceof DO&&(n[0]=n[0].d_),n[0]instanceof Gk)return function(t,e,n,r,i){if(!r)throw new Xm(Km.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=vb(t);o<a.length;o++){var c=a[o];if(c.field.ut())s.push(jg(e,r.key));else{var l=r.field(c.field);if(vg(l))throw new Xm(Km.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var u=c.field.rt();throw new Xm(Km.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}s.push(l)}}return new ob(s,i)}(t.C_,t.firestore.I_,e,n[0].Zf,r);var i=ik(t.firestore);return function(t,e,n,r,i,s){var o=t.xt;if(i.length>o.length)throw new Xm(Km.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],c=0;c<i.length;c++){var l=i[c];if(o[c].field.ut()){if("string"!=typeof l)throw new Xm(Km.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof l);if(!_b(t)&&-1!==l.indexOf("/"))throw new Xm(Km.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+l+"' contains a slash.");var u=t.path.child(cg.ot(l));if(!hg.wt(u))throw new Xm(Km.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+u+"' is not because it contains an odd number of segments.");var h=new hg(u);a.push(jg(e,h))}else{var d=pk(n,r,l);a.push(d)}}return new ob(a,s)}(t.C_,t.firestore.I_,i,e,n,r)}function iS(t,e,n){if(n instanceof DO&&(n=n.d_),"string"==typeof n){if(""===n)throw new Xm(Km.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!_b(e)&&-1!==n.indexOf("/"))throw new Xm(Km.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(cg.ot(n));if(!hg.wt(r))throw new Xm(Km.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return jg(t,new hg(r))}if(n instanceof qO)return jg(t,n.S_);throw new Xm(Km.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+MO(n)+".")}function sS(t,e){if(!Array.isArray(t)||0===t.length)throw new Xm(Km.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Xm(Km.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function oS(t,e,n){if(!n.isEqual(e))throw new Xm(Km.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function aS(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var cS=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Rm.d)(e,t),e.prototype.Wf=function(t){return new Qm(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new qO(this.firestore,null,e)},e}(Yk),lS=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),uS=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this).Yf=e,a.ld=e,a.metadata=s,a}return Object(Rm.d)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Zf){if(this.v_){var e=new hS(this.Yf,this.Xf,this.S_,this.Zf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Xf.Uf(this.Zf.bt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Zf){var n=this.Zf.data().field($k("DocumentSnapshot.get",t));if(null!==n)return this.Xf.Uf(n,e.serverTimestamps)}},e}(Gk),hS=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Rm.d)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(uS),dS=function(){function t(t,e,n,r){this.Yf=t,this.Xf=e,this._d=r,this.metadata=new lS(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._d.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._d.docs.forEach(function(r){t.call(e,new hS(n.Yf,n.Xf,r.key,r,new lS(n._d.De.has(r.key),n._d.fromCache),n.query.v_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._d.xe)throw new Xm(Km.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.fd&&this.dd===e||(this.fd=function(t,e){if(t._d.Se.et()){var n=0;return t._d.docChanges.map(function(e){return{type:"added",doc:new hS(t.Yf,t.Xf,e.doc.key,e.doc,new lS(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}})}var r=t._d.Se;return t._d.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new hS(t.Yf,t.Xf,e.doc.key,e.doc,new lS(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:fS(e.type),doc:n,oldIndex:i,newIndex:s}})}(this,e),this.dd=e),this.fd},t}();function fS(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Um()}}function pS(t,e){return t instanceof uS&&e instanceof uS?t.Yf===e.Yf&&t.S_.isEqual(e.S_)&&(null===t.Zf?null===e.Zf:t.Zf.isEqual(e.Zf))&&t.v_===e.v_:t instanceof dS&&e instanceof dS&&t.Yf===e.Yf&&XO(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._d.isEqual(e._d)}var mS=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Rm.d)(e,t),e.prototype.Wf=function(t){return new Qm(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new qO(this.firestore,null,e)},e}(Yk);function gS(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=VO(t,qO);var s=VO(t.firestore,Uk),o=ik(s);return e instanceof DO&&(e=e.d_),yS(s,[("string"==typeof e||e instanceof AO?fk(o,"updateDoc",t.S_,e,n,r):dk(o,"updateDoc",t.S_,e)).F_(t.S_,Wb.exists(!0))])}function bS(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t instanceof DO&&(t=t.d_);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Vk(i[a])||(o=i[a],a++);var c,l,u,h={includeMetadataChanges:o.includeMetadataChanges};if(Vk(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof qO)l=VO(t.firestore,Uk),u=pb(t.S_.path),c={next:function(e){i[a]&&i[a](_S(l,t,e))},error:i[a+1],complete:i[a+2]};else{var f=VO(t,YO);l=VO(f.firestore,Uk),u=f.C_;var p=new mS(l);c={next:function(t){i[a]&&i[a](new dS(l,p,f,t))},error:i[a+1],complete:i[a+2]},Kk(t.C_)}return function(t,e,n,r){var i=this,s=new IO(r),o=new VC(e,s,n);return t._s.Ps(function(){return Object(Rm.b)(i,void 0,void 0,function(){var e;return Object(Rm.e)(this,function(n){switch(n.label){case 0:return e=PC,[4,Nk(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})}),function(){s.i_(),t._s.Ps(function(){return Object(Rm.b)(i,void 0,void 0,function(){var e;return Object(Rm.e)(this,function(n){switch(n.label){case 0:return e=NC,[4,Nk(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})})}}(Bk(l),u,h,c)}function yS(t,e){return function(t,e){var n=this,r=new w_;return t._s.Ps(function(){return Object(Rm.b)(n,void 0,void 0,function(){var n;return Object(Rm.e)(this,function(i){switch(i.label){case 0:return n=QC,[4,Pk(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Bk(t),e)}function _S(t,e,n){var r=n.docs.get(e.S_),i=new mS(t);return new uS(t,i,e.S_,r,new lS(n.hasPendingWrites,n.fromCache),e.v_)}var vS=function(){function t(t,e){this.Yf=t,this.wd=e,this.Ed=[],this.Td=!1,this.Id=ik(t)}return t.prototype.set=function(t,e,n){this.md();var r=wS(t,this.Yf),i=aS(r.v_,e,n),s=sk(this.Id,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.Ed.push(s.F_(r.S_,Wb.Kt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.md();var s,o=wS(t,this.Yf);return e instanceof DO&&(e=e.d_),s="string"==typeof e||e instanceof AO?fk(this.Id,"WriteBatch.update",o.S_,e,n,r):dk(this.Id,"WriteBatch.update",o.S_,e),this.Ed.push(s.F_(o.S_,Wb.exists(!0))),this},t.prototype.delete=function(t){this.md();var e=wS(t,this.Yf);return this.Ed=this.Ed.concat(new ly(e.S_,Wb.Kt())),this},t.prototype.commit=function(){return this.md(),this.Td=!0,this.Ed.length>0?this.wd(this.Ed):Promise.resolve()},t.prototype.md=function(){if(this.Td)throw new Xm(Km.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function wS(t,e){if(t instanceof DO&&(t=t.d_),t.firestore!==e)throw new Xm(Km.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var CS=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Yf=e,r}return Object(Rm.d)(e,t),e.prototype.get=function(e){var n=this,r=wS(e,this.Yf),i=new mS(this.Yf);return t.prototype.get.call(this,e).then(function(t){return new uS(n.Yf,i,r.S_,t.Zf,new lS(!1,!1),r.v_)})},e}(function(){function t(t,e){this.Yf=t,this.Ad=e,this.Id=ik(t)}return t.prototype.get=function(t){var e=this,n=wS(t,this.Yf),r=new cS(this.Yf);return this.Ad.ef([n.S_]).then(function(t){if(!t||1!==t.length)return Um();var i=t[0];if(i instanceof qg)return new Gk(e.Yf,r,n.S_,null,n.v_);if(i instanceof Hg)return new Gk(e.Yf,r,i.key,i,n.v_);throw Um()})},t.prototype.set=function(t,e,n){var r=wS(t,this.Yf),i=aS(r.v_,e,n),s=sk(this.Id,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Ad.set(r.S_,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=wS(t,this.Yf);return e instanceof DO&&(e=e.d_),s="string"==typeof e||e instanceof AO?fk(this.Id,"Transaction.update",o.S_,e,n,r):dk(this.Id,"Transaction.update",o.S_,e),this.Ad.update(o.S_,s),this},t.prototype.delete=function(t){var e=wS(t,this.Yf);return this.Ad.delete(e.S_),this},t}());function OS(){if("undefined"==typeof Uint8Array)throw new Xm(Km.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function kS(){if("undefined"==typeof atob)throw new Xm(Km.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var SS=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Rm.d)(e,t),e.fromBase64String=function(t){return kS(),new e(Qm.fromBase64String(t))},e.fromUint8Array=function(t){return OS(),new e(Qm.fromUint8Array(t))},e.prototype.toBase64=function(){return kS(),this.d_.toBase64()},e.prototype.toUint8Array=function(){return OS(),this.d_.toUint8Array()},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(DO),xS=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){qk(t=VO(t,Uk));var n=Bk(t),r=t.p_(),i=new TO;return Hk(n,i,new xO(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.d_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){qk(t=VO(t,Uk));var e=Bk(t),n=t.p_(),r=new TO;return Hk(e,r,new EO(r,n.cacheSizeBytes))}(t.d_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new Xm(Km.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new w_;return t.Bf.Tf(function(){return Object(Rm.b)(e,void 0,void 0,function(){var e;return Object(Rm.e)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Rm.b)(this,void 0,void 0,function(){return Object(Rm.e)(this,function(e){switch(e.label){case 0:return k_.Kn()?[4,k_.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(sw(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t.d_)},t}(),ES=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Rd=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof jm||(i.Pd=e),i}return Object(Rm.d)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this.d_.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.d_.V_()),t)).merge,this.d_.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=VO(t,HO)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&Mm("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this.d_,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t._s.enqueue(function(){return Object(Rm.b)(e,void 0,void 0,function(){var e,n;return Object(Rm.e)(this,function(r){switch(r.label){case 0:return[4,Rk(t)];case 1:return e=r.sent(),[4,jk(t)];case 2:return n=r.sent(),[2,(e.yo(!0),function(t){var e=zm(t);return e.Nh.delete(0),aC(e)}(n))]}})})})}(Bk(VO(this.d_,Uk)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t._s.enqueue(function(){return Object(Rm.b)(e,void 0,void 0,function(){var e,n;return Object(Rm.e)(this,function(r){switch(r.label){case 0:return[4,Rk(t)];case 1:return e=r.sent(),[4,jk(t)];case 2:return n=r.sent(),[2,(e.yo(!1),function(t){return Object(Rm.b)(this,void 0,void 0,function(){var e;return Object(Rm.e)(this,function(n){switch(n.label){case 0:return(e=zm(t)).Nh.add(0),[4,cC(e)];case 1:return n.sent(),e.Oh.set("Offline"),[2]}})})}(n))]}})})})}(Bk(VO(this.d_,Uk)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&NO("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Rd.enableMultiTabIndexedDbPersistence(this):this.Rd.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Rd.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Pd&&(this.Pd._removeServiceInstance("firestore"),this.Pd._removeServiceInstance("firestore-exp")),this.d_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new w_;return t._s.Ps(function(){return Object(Rm.b)(e,void 0,void 0,function(){var e;return Object(Rm.e)(this,function(r){switch(r.label){case 0:return e=rO,[4,Pk(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Bk(VO(this.d_,Uk)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new IO(e);return t._s.Ps(function(){return Object(Rm.b)(n,void 0,void 0,function(){var e;return Object(Rm.e)(this,function(n){switch(n.label){case 0:return e=function(t,e){zm(t).Wh.add(e),e.next()},[4,Nk(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.i_(),t._s.Ps(function(){return Object(Rm.b)(n,void 0,void 0,function(){var e;return Object(Rm.e)(this,function(n){switch(n.label){case 0:return e=function(t,e){zm(t).Wh.delete(e)},[4,Nk(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Bk(t=VO(t,Uk)),Vk(e)?e:{next:e})}(this.d_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Pd)throw new Xm(Km.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Pd},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new BS(this,WO(this.d_,t))}catch(t){throw jS(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new DS(this,$O(this.d_,t))}catch(t){throw jS(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new MS(this,function(t,e){if(t=VO(t,HO),jO("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Xm(Km.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new YO(t,null,function(t){return new db(cg.ct(),t)}(e))}(this.d_,t))}catch(t){throw jS(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new w_;return t._s.Ps(function(){return Object(Rm.b)(n,void 0,void 0,function(){var n;return Object(Rm.e)(this,function(i){switch(i.label){case 0:return[4,function(t){return Ak(t).then(function(t){return t.Sh})}(t)];case 1:return n=i.sent(),new Sk(t._s,n,e,r).run(),[2]}})})}),r.promise}(Bk(t),function(n){return e(new CS(t,n))})}(this.d_,function(n){return t(new IS(e,n))})},e.prototype.batch=function(){var t=this;return Bk(this.d_),new AS(new vS(this.d_,function(e){return yS(t.d_,e)}))},e.prototype.loadBundle=function(t){throw new Xm(Km.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new Xm(Km.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(DO),TS=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Rm.d)(e,t),e.prototype.Wf=function(t){return new SS(new Qm(t))},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return DS.yd(e,this.firestore,null)},e}(Yk),IS=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r.Xf=new TS(e),r}return Object(Rm.d)(e,t),e.prototype.get=function(t){var e=this,n=zS(t);return this.d_.get(n).then(function(t){return new LS(e.Yf,new uS(e.Yf.d_,e.Xf,t.S_,t.Zf,t.metadata,n.v_))})},e.prototype.set=function(t,e,n){var r=zS(t);return n?(PO("Transaction.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=zS(t);return 2===arguments.length?this.d_.update(o,e):(r=this.d_).update.apply(r,Object(Rm.i)([o,e,n],i)),this},e.prototype.delete=function(t){var e=zS(t);return this.d_.delete(e),this},e}(DO),AS=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Rm.d)(e,t),e.prototype.set=function(t,e,n){var r=zS(t);return n?(PO("WriteBatch.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=zS(t);return 2===arguments.length?this.d_.update(o,e):(r=this.d_).update.apply(r,Object(Rm.i)([o,e,n],i)),this},e.prototype.delete=function(t){var e=zS(t);return this.d_.delete(e),this},e.prototype.commit=function(){return this.d_.commit()},e}(DO),RS=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this).Yf=e,i.Xf=n,i}return Object(Rm.d)(e,t),e.prototype.fromFirestore=function(t,e){var n=new hS(this.Yf.d_,this.Xf,t.S_,t.Zf,t.metadata,null);return this.d_.fromFirestore(new FS(this.Yf,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this.d_.toFirestore(t,e):this.d_.toFirestore(t)},e.gd=function(t,n){var r=e.Vd,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var s=i.get(n);return s||(s=new e(t,new TS(t),n),i.set(n,s)),s},e}(DO);RS.Vd=new WeakMap;var DS=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new TS(e),r}return Object(Rm.d)(e,t),e.pd=function(t,n,r){if(t.length%2!=0)throw new Xm(Km.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.rt()+" has "+t.length);return new e(n,new qO(n.d_,r,new hg(t)))},e.yd=function(t,n,r){return new e(n,new qO(n.d_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new BS(this.firestore,this.d_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new BS(this.firestore,WO(this.d_,t))}catch(t){throw jS(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof DO&&(t=t.d_),t instanceof qO&&KO(this.d_,t)},e.prototype.set=function(t,e){e=PO("DocumentReference.set",e);try{return function(t,e,n){t=VO(t,qO);var r=VO(t.firestore,Uk),i=aS(t.v_,e,n);return yS(r,[sk(ik(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,Wb.Kt())])}(this.d_,t,e)}catch(t){throw jS(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?gS(this.d_,t):gS.apply(void 0,Object(Rm.i)([this.d_,t,e],n))}catch(t){throw jS(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return yS(VO((t=this.d_).firestore,Uk),[new ly(t.S_,Wb.Kt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=PS(e),i=NS(e,function(e){return new LS(t.firestore,new uS(t.firestore.d_,t.Xf,e.S_,e.Zf,e.metadata,t.d_.v_))});return bS(this.d_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=VO(t,qO);var e=VO(t.firestore,Uk),n=Bk(e),r=new mS(e);return function(t,e){var n=this,r=new w_;return t._s.Ps(function(){return Object(Rm.b)(n,void 0,void 0,function(){var n;return Object(Rm.e)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Rm.b)(this,void 0,void 0,function(){var r,i;return Object(Rm.e)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=zm(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Tc.Ho(t,e)})}(t,e)];case 1:return(i=s.sent())instanceof Hg?n.resolve(i):i instanceof qg?n.resolve(null):n.reject(new Xm(Km.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=s.sent(),i=j_(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Dk(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.S_).then(function(n){return new uS(e,r,t.S_,n,new lS(n instanceof Hg&&n.Vt,!0),t.v_)})}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=VO(t,qO);var e=VO(t.firestore,Uk);return Lk(Bk(e),t.S_,{source:"server"}).then(function(n){return _S(e,t,n)})}(this.d_):function(t){t=VO(t,qO);var e=VO(t.firestore,Uk);return Lk(Bk(e),t.S_).then(function(n){return _S(e,t,n)})}(this.d_)).then(function(t){return new LS(e.firestore,new uS(e.firestore.d_,e.Xf,t.S_,t.Zf,t.metadata,e.d_.v_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(RS.gd(this.firestore,t)))},e}(DO);function jS(t,e,n){return t.message=t.message.replace(e,n),t}function PS(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Vk(r))return r}return{}}function NS(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Vk(t[0])?t[0]:Vk(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var LS=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(Rm.d)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new DS(this.Yf,this.d_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.d_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.d_.data(t)},e.prototype.get=function(t,e){return this.d_.get(t,e)},e.prototype.isEqual=function(t){return pS(this.d_,t.d_)},e}(DO),FS=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Rm.d)(e,t),e.prototype.data=function(t){return this.d_.data(t)},e}(LS),MS=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new TS(e),r}return Object(Rm.d)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Qk(this.d_,function(t,e,n){var r=e,i=$k("where",t);return new Zk(i,r,n)}(t,n,r)))}catch(t){throw jS(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Qk(this.d_,function(t,e){void 0===e&&(e="asc");var n=e,r=$k("orderBy",t);return new Jk(r,n)}(t,n)))}catch(t){throw jS(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Qk(this.d_,function(t){return UO("limit",t),new tS("limit",t,"F")}(t)))}catch(t){throw jS(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Qk(this.d_,function(t){return UO("limitToLast",t),new tS("limitToLast",t,"L")}(t)))}catch(t){throw jS(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Qk(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new eS("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw jS(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Qk(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new eS("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw jS(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Qk(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new nS("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw jS(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Qk(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new nS("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw jS(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return XO(this.d_,t.d_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=VO(t,YO);var e=VO(t.firestore,Uk),n=Bk(e),r=new mS(e);return function(t,e){var n=this,r=new w_;return t._s.Ps(function(){return Object(Rm.b)(n,void 0,void 0,function(){var n;return Object(Rm.e)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Rm.b)(this,void 0,void 0,function(){var r,i,s,o,a;return Object(Rm.e)(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,vw(t,e,!0)];case 1:return a=c.sent(),r=new qC(e,a.Rc),i=r.fl(a.documents),s=r.wi(i,!1),n.resolve(s.snapshot),[3,3];case 2:return o=c.sent(),a=j_(o,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,Dk(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.C_).then(function(n){return new dS(e,r,t,n)})}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=VO(t,YO);var e=VO(t.firestore,Uk),n=Bk(e),r=new mS(e);return Fk(n,t.C_,{source:"server"}).then(function(n){return new dS(e,r,t,n)})}(this.d_):function(t){t=VO(t,YO);var e=VO(t.firestore,Uk),n=Bk(e),r=new mS(e);return Kk(t.C_),Fk(n,t.C_).then(function(n){return new dS(e,r,t,n)})}(this.d_)).then(function(t){return new US(e.firestore,new dS(e.firestore.d_,e.Xf,e.d_,t._d))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=PS(e),i=NS(e,function(e){return new US(t.firestore,new dS(t.firestore.d_,t.Xf,t.d_,e._d))});return bS(this.d_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(RS.gd(this.firestore,t)))},e}(DO),VS=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(Rm.d)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.d_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new FS(this.Yf,this.d_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.d_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.d_.newIndex},enumerable:!1,configurable:!0}),e}(DO),US=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(Rm.d)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new MS(this.Yf,this.d_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.d_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.d_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.d_.docs.map(function(e){return new FS(t.Yf,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.d_.docChanges(t).map(function(t){return new VS(e.Yf,t)})},e.prototype.forEach=function(t,e){var n=this;this.d_.forEach(function(r){t.call(e,new FS(n.Yf,r))})},e.prototype.isEqual=function(t){return pS(this.d_,t.d_)},e}(DO),BS=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.d_=n,r}return Object(Rm.d)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.d_.parent;return t?new DS(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new DS(this.firestore,void 0===t?$O(this.d_):$O(this.d_,t))}catch(t){throw jS(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=VO(t.firestore,Uk),r=$O(t),i=aS(t.v_,e);return yS(n,[sk(ik(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,Wb.exists(!1))]).then(function(){return r})}(this.d_,t).then(function(t){return new DS(e.firestore,t)})},e.prototype.isEqual=function(t){return KO(this.d_,t.d_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(RS.gd(this.firestore,t)))},e}(MS);function zS(t){return t instanceof DO&&(t=t.d_),VO(t,qO)}var HS,qS=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(AO.bind.apply(AO,Object(Rm.i)([void 0],e))))||this}return Object(Rm.d)(e,t),e.documentId=function(){return new e(ug.ht().rt())},e.prototype.isEqual=function(t){return t instanceof DO&&(t=t.d_),t instanceof AO&&this.d_.f_.isEqual(t.f_)},e}(DO),YS=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Rm.d)(e,t),e.serverTimestamp=function(){var t=new ck("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new ok("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new lk("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new uk("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new hk("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e}(DO),GS=n("/6Yf"),WS={Firestore:ES,GeoPoint:QO,Timestamp:sg,Blob:SS,Transaction:IS,WriteBatch:AS,DocumentReference:DS,DocumentSnapshot:LS,Query:MS,QueryDocumentSnapshot:FS,QuerySnapshot:US,CollectionReference:BS,FieldPath:qS,FieldValue:YS,setLogLevel:function(t){Pm.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new GS.a("firestore",function(t){return function(t,e){return new ES(t,new Uk(t,e),new xS)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},WS)))})(HS=xh.a),HS.registerVersion("@firebase/firestore","2.1.7");var $S=n("VRyK");function KS(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,c=!1;return function(l){o++,i&&!a||(a=!1,i=new fh(t,e,r),s=l.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){c=!0,s=void 0,i.complete()}}));const u=i.subscribe(this);this.add(()=>{o--,u.unsubscribe(),s&&!c&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}function XS(t,e){return e?Ps(()=>t,e):Ps(()=>t)}var QS=n("tf+s");const ZS=new r.s("angularfire2.auth.use-emulator"),JS=new r.s("angularfire2.auth.settings"),tx=new r.s("angularfire2.auth.tenant-id"),ex=new r.s("angularfire2.auth.langugage-code"),nx=new r.s("angularfire2.auth.use-device-language"),rx=new r.s("angularfire.auth.persistence");let ix=(()=>{class t{constructor(t,e,r,i,s,o,a,c,l,u){const h=new kh.e(i),d=Object(kh.i)(h),f=new gs.a,p=Object(Ri.a)(void 0).pipe(Object(hh.b)(h.outsideAngular),Ps(()=>i.runOutsideAngular(()=>n.e(6).then(n.bind(null,"6nsN")))),Object(ir.a)(()=>Object(kh.h)(t,i,e)),Object(ir.a)(t=>i.runOutsideAngular(()=>{const e=s,n=o;return Object(kh.g)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=c,l&&r.useDeviceLanguage(),n&&(r.settings=n),u&&r.setPersistence(u),r},[e,a,c,l,n,u])})),KS({bufferSize:1,refCount:!1}));if(W(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Ri.a)(null);else{p.pipe(so()).subscribe();const t=p.pipe(Ps(t=>t.getRedirectResult().then(t=>t,()=>null)),d,KS({bufferSize:1,refCount:!1})),e=t=>new nr.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Ps(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Ps(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(XS(n),Object(QS.a)(h.outsideAngular),Object(hh.b)(h.insideAngular)),this.user=t.pipe(XS(r),Object(QS.a)(h.outsideAngular),Object(hh.b)(h.insideAngular)),this.idToken=this.user.pipe(Ps(t=>t?Object(or.a)(t.getIdToken()):Object(Ri.a)(null))),this.idTokenResult=this.user.pipe(Ps(t=>t?Object(or.a)(t.getIdTokenResult()):Object(Ri.a)(null))),this.credential=Object($S.a)(t,f,this.authState.pipe(Ni(t=>!t))).pipe(Object(ir.a)(t=>(null==t?void 0:t.user)?t:null),Object(QS.a)(h.outsideAngular),Object(hh.b)(h.insideAngular))}return Object(kh.j)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>f.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(kh.c),r.Yb(kh.b,8),r.Yb(r.D),r.Yb(r.B),r.Yb(ZS,8),r.Yb(JS,8),r.Yb(tx,8),r.Yb(ex,8),r.Yb(nx,8),r.Yb(rx,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(kh.c),Object(r.Yb)(kh.b,8),Object(r.Yb)(r.D),Object(r.Yb)(r.B),Object(r.Yb)(ZS,8),Object(r.Yb)(JS,8),Object(r.Yb)(tx,8),Object(r.Yb)(ex,8),Object(r.Yb)(nx,8),Object(r.Yb)(rx,8))},token:t,providedIn:"any"}),t})();function sx(t,e){return function(t,e=bl.a){return new nr.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function ox(t,e){return sx(t,e).pipe(Object(ir.a)(t=>({payload:t,type:"query"})))}function ax(t,e){return ox(t,e).pipe(Bs(void 0),yh(),Object(ir.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function cx(t,e,n){return ax(t,n).pipe(zs((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return lx(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return lx(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return lx(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),wh(),Object(ir.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function lx(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function ux(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(kh.f)(ix,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class hx{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=ax(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(ir.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Bs(void 0),yh(),Ni(([t,e])=>e.length>0||!t),Object(ir.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(zs((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=ux(t);return cx(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return ox(this.query,this.afs.schedulers.outsideAngular).pipe(Object(ir.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(or.a)(this.query.get(t)).pipe(Object(hh.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new dx(this.ref.doc(t),this.afs)}}class dx{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=yx(n,e);return new hx(r,i,this.afs)}snapshotChanges(){return sx(this.ref,this.afs.schedulers.outsideAngular).pipe(Bs(void 0),yh(),Object(ir.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(ir.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(or.a)(this.ref.get(t)).pipe(Object(hh.b)(this.afs.schedulers.insideAngular))}}class fx{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?ax(this.query,this.afs.schedulers.outsideAngular).pipe(Object(ir.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Ni(t=>t.length>0),this.afs.keepUnstableUntilFirst):ax(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(zs((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=ux(t);return cx(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return ox(this.query,this.afs.schedulers.outsideAngular).pipe(Object(ir.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(or.a)(this.query.get(t)).pipe(Object(hh.b)(this.afs.schedulers.insideAngular))}}const px=new r.s("angularfire2.enableFirestorePersistence"),mx=new r.s("angularfire2.firestore.persistenceSettings"),gx=new r.s("angularfire2.firestore.settings"),bx=new r.s("angularfire2.firestore.use-emulator");function yx(t,e=(t=>t)){return{query:e(t),ref:t}}let _x=(()=>{class t{constructor(t,e,n,r,i,s,o,a,c){this.schedulers=new kh.e(s),this.keepUnstableUntilFirst=Object(kh.i)(this.schedulers);const l=Object(kh.h)(t,s,e);!Sh.a.auth&&c&&Object(kh.k)();const u=a;[this.firestore,this.persistenceEnabled$]=Object(kh.g)(`${l.name}.firestore`,"AngularFirestore",l,()=>{const t=s.runOutsideAngular(()=>l.firestore());if(r&&t.settings(r),u&&t.useEmulator(...u),n&&!W(i)){const e=()=>{try{return Object(or.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(HS){return"undefined"!=typeof console&&console.warn(HS),Object(Ri.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(Ri.a)(!1)]},[r,u,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=yx(n,e),s=this.schedulers.ngZone.run(()=>r);return new hx(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new fx(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new dx(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(kh.c),r.Yb(kh.b,8),r.Yb(px,8),r.Yb(gx,8),r.Yb(r.D),r.Yb(r.B),r.Yb(mx,8),r.Yb(bx,8),r.Yb(ZS,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(kh.c),Object(r.Yb)(kh.b,8),Object(r.Yb)(px,8),Object(r.Yb)(gx,8),Object(r.Yb)(r.D),Object(r.Yb)(r.B),Object(r.Yb)(mx,8),Object(r.Yb)(bx,8),Object(r.Yb)(ZS,8))},token:t,providedIn:"any"}),t})(),vx=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:px,useValue:!0},{provide:mx,useValue:e}]}}}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[_x]}),t})(),wx=(()=>{class t{constructor(t){this.firestore=t,this.allPlayers=[],this.ganereteTeams=new gs.a,this.deleteOldAvatarService=new gs.a,this.allPlayersData=t.collection("players").valueChanges(),this.selectedPlayersData=t.collection("selected").valueChanges(),this.getAllPlayersService()}saveDataPlayerService(t){return this.firestore.collection("players").doc(t.id).set({id:t.id,avatar:t.avatar,name:t.name,surname:t.surname,power:t.power,status:t.status,position:t.position,attack:t.attack,defense:t.defense,accuracy:t.accuracy,cc:t.cc,level:t.level},{merge:!0})}deleteDataPlayerService(t){return this.deleteOldAvatarService.next(),this.firestore.collection("players").doc(t.id).delete()}onSelectedPlayerService(t){const e=this.firestore.collection("selected").doc(t.id);e.get().toPromise().then(n=>{n.exists?e.delete():e.set(t)})}getAllPlayersService(){this.firestore.collection("players").get().toPromise().then(t=>{t.forEach(t=>{this.allPlayers.push(t.data())})})}deleteAllSelectedPlayersService(){const t=this.firestore.collection("selected");t.get().toPromise().then(e=>{e.forEach(e=>{t.doc(e.data().id).delete()})})}generateTeemsService(){this.ganereteTeams.next()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(_x))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Cx=n("n6bG");function Ox(t,e,n,r){return Object(Cx.a)(n)&&(r=n,n=void 0),r?Ox(t,e,n).pipe(Object(ir.a)(t=>Object(rr.a)(t)?r(...t):r(t))):new nr.a(r=>{kx(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function kx(t,e,n,r,i){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),s=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),s=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),s=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let s=0,o=t.length;s<o;s++)kx(t[s],e,n,r,i)}r.add(s)}const Sx=["underline"],xx=["connectionContainer"],Ex=["inputContainer"],Tx=["label"];function Ix(t,e){1&t&&(r.Sb(0),r.Ub(1,"div",14),r.Pb(2,"div",15),r.Pb(3,"div",16),r.Pb(4,"div",17),r.Tb(),r.Ub(5,"div",18),r.Pb(6,"div",15),r.Pb(7,"div",16),r.Pb(8,"div",17),r.Tb(),r.Rb())}function Ax(t,e){1&t&&(r.Ub(0,"div",19),r.ic(1,1),r.Tb())}function Rx(t,e){if(1&t&&(r.Sb(0),r.ic(1,2),r.Ub(2,"span"),r.zc(3),r.Tb(),r.Rb()),2&t){const t=r.fc(2);r.Db(3),r.Ac(t._control.placeholder)}}function Dx(t,e){1&t&&r.ic(0,3,["*ngSwitchCase","true"])}function jx(t,e){1&t&&(r.Ub(0,"span",23),r.zc(1," *"),r.Tb())}function Px(t,e){if(1&t){const t=r.Vb();r.Ub(0,"label",20,21),r.bc("cdkObserveContent",function(){return r.rc(t),r.fc().updateOutlineGap()}),r.xc(2,Rx,4,1,"ng-container",12),r.xc(3,Dx,1,0,"ng-content",12),r.xc(4,jx,2,0,"span",22),r.Tb()}if(2&t){const t=r.fc();r.Gb("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),r.kc("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),r.Eb("for",t._control.id)("aria-owns",t._control.id),r.Db(2),r.kc("ngSwitchCase",!1),r.Db(1),r.kc("ngSwitchCase",!0),r.Db(1),r.kc("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function Nx(t,e){1&t&&(r.Ub(0,"div",24),r.ic(1,4),r.Tb())}function Lx(t,e){if(1&t&&(r.Ub(0,"div",25,26),r.Pb(2,"span",27),r.Tb()),2&t){const t=r.fc();r.Db(2),r.Gb("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function Fx(t,e){if(1&t&&(r.Ub(0,"div"),r.ic(1,5),r.Tb()),2&t){const t=r.fc();r.kc("@transitionMessages",t._subscriptAnimationState)}}function Mx(t,e){if(1&t&&(r.Ub(0,"div",31),r.zc(1),r.Tb()),2&t){const t=r.fc(2);r.kc("id",t._hintLabelId),r.Db(1),r.Ac(t.hintLabel)}}function Vx(t,e){if(1&t&&(r.Ub(0,"div",28),r.xc(1,Mx,2,2,"div",29),r.ic(2,6),r.Pb(3,"div",30),r.ic(4,7),r.Tb()),2&t){const t=r.fc();r.kc("@transitionMessages",t._subscriptAnimationState),r.Db(1),r.kc("ngIf",t.hintLabel)}}const Ux=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Bx=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],zx=new r.s("MatError"),Hx={transitionMessages:Rt("transitionMessages",[Nt("enter",Pt({opacity:1,transform:"translateY(0%)"})),Ft("void => enter",[Pt({opacity:0,transform:"translateY(-100%)"}),Dt("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let qx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t}),t})();const Yx=new r.s("MatHint");let Gx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["mat-label"]]}),t})(),Wx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["mat-placeholder"]]}),t})();const $x=new r.s("MatPrefix"),Kx=new r.s("MatSuffix");let Xx=0;class Qx{constructor(t){this._elementRef=t}}const Zx=lu(Qx,"primary"),Jx=new r.s("MAT_FORM_FIELD_DEFAULT_OPTIONS"),tE=new r.s("MatFormField");let eE=(()=>{class t extends Zx{constructor(t,e,n,r,i,s,o,a){super(t),this._elementRef=t,this._changeDetectorRef=e,this._dir=r,this._defaults=i,this._platform=s,this._ngZone=o,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new gs.a,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Xx++,this._labelId="mat-form-field-label-"+Xx++,this._labelOptions=n||{},this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=i&&i.appearance?i.appearance:"legacy",this._hideRequiredMarker=!(!i||null==i.hideRequiredMarker)&&i.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Cl(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(Bs(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(mh(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(mh(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Object($S.a)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Bs(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Bs(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(mh(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Ox(this._label.nativeElement,"transitionend").pipe(Ms(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||this._labelOptions.float||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&t.push(...this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const r=this._connectionContainerRef.nativeElement,i=r.querySelectorAll(".mat-form-field-outline-start"),s=r.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const i=r.getBoundingClientRect();if(0===i.width&&0===i.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const s=this._getStartEnd(i),o=t.children,a=this._getStartEnd(o[0].getBoundingClientRect());let c=0;for(let t=0;t<o.length;t++)c+=o[t].offsetWidth;e=Math.abs(a-s)-5,n=c>0?.75*c+10:0}for(let o=0;o<i.length;o++)i[o].style.width=`${e}px`;for(let o=0;o<s.length;o++)s[o].style.width=`${n}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(r.h),r.Ob(Mu,8),r.Ob(Jl,8),r.Ob(Jx,8),r.Ob(cl),r.Ob(r.B),r.Ob(Jn,8))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){if(1&t&&(r.Hb(n,qx,1),r.Hb(n,qx,3),r.Hb(n,Gx,1),r.Hb(n,Gx,3),r.Hb(n,Wx,1),r.Hb(n,zx,1),r.Hb(n,Yx,1),r.Hb(n,$x,1),r.Hb(n,Kx,1)),2&t){let t;r.oc(t=r.cc())&&(e._controlNonStatic=t.first),r.oc(t=r.cc())&&(e._controlStatic=t.first),r.oc(t=r.cc())&&(e._labelChildNonStatic=t.first),r.oc(t=r.cc())&&(e._labelChildStatic=t.first),r.oc(t=r.cc())&&(e._placeholderChild=t.first),r.oc(t=r.cc())&&(e._errorChildren=t),r.oc(t=r.cc())&&(e._hintChildren=t),r.oc(t=r.cc())&&(e._prefixChildren=t),r.oc(t=r.cc())&&(e._suffixChildren=t)}},viewQuery:function(t,e){if(1&t&&(r.Dc(Sx,1),r.Dc(xx,3),r.Dc(Ex,1),r.Dc(Tx,1)),2&t){let t;r.oc(t=r.cc())&&(e.underlineRef=t.first),r.oc(t=r.cc())&&(e._connectionContainerRef=t.first),r.oc(t=r.cc())&&(e._inputContainerRef=t.first),r.oc(t=r.cc())&&(e._label=t.first)}},hostAttrs:[1,"mat-form-field"],hostVars:44,hostBindings:function(t,e){2&t&&r.Gb("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat())("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[r.Cb([{provide:tE,useExisting:t}]),r.Ab],ngContentSelectors:Bx,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(r.jc(Ux),r.Ub(0,"div",0),r.Ub(1,"div",1,2),r.bc("click",function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)}),r.xc(3,Ix,9,0,"ng-container",3),r.xc(4,Ax,2,0,"div",4),r.Ub(5,"div",5,6),r.ic(7),r.Ub(8,"span",7),r.xc(9,Px,5,16,"label",8),r.Tb(),r.Tb(),r.xc(10,Nx,2,0,"div",9),r.Tb(),r.xc(11,Lx,3,4,"div",10),r.Ub(12,"div",11),r.xc(13,Fx,2,1,"div",12),r.xc(14,Vx,5,2,"div",13),r.Tb(),r.Tb()),2&t&&(r.Db(3),r.kc("ngIf","outline"==e.appearance),r.Db(1),r.kc("ngIf",e._prefixChildren.length),r.Db(5),r.kc("ngIf",e._hasFloatingLabel()),r.Db(1),r.kc("ngIf",e._suffixChildren.length),r.Db(1),r.kc("ngIf","outline"!=e.appearance),r.Db(1),r.kc("ngSwitch",e._getDisplayedMessages()),r.Db(1),r.kc("ngSwitchCase","error"),r.Db(1),r.kc("ngSwitchCase","hint"))},directives:[j,F,M,Il],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[Hx.transitionMessages]},changeDetection:0}),t})(),nE=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[Y,au,Al],au]}),t})();n("3N8a"),n("IjjT"),n("7Hc7");class rE{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new iE(t,this.durationSelector))}}class iE extends vs.a{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=Object(ws.a)(this,n);!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}notifyNext(t,e,n,r){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var sE=n("Y7HM");function oE(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function aE(t,e=bl.a){return n=()=>function(t=0,e,n){let r=-1;return Object(sE.a)(e)?r=Number(e)<1?1:Number(e):Object(_s.a)(e)&&(n=e),Object(_s.a)(n)||(n=bl.a),new nr.a(e=>{const i=Object(sE.a)(t)?t:+t-n.now();return n.schedule(oE,i,{index:0,period:r,subscriber:e})})}(t,e),function(t){return t.lift(new rE(n))};var n}function cE(t){return t&&"function"==typeof t.connect}class lE{applyChanges(t,e,n,r,i){t.forEachOperation((t,r,s)=>{let o,a;if(null==t.previousIndex){const i=n(t,r,s);o=e.createEmbeddedView(i.templateRef,i.context,i.index),a=1}else null==s?(e.remove(r),a=3):(o=e.get(r),e.move(o,s),a=2);i&&i({context:null==o?void 0:o.context,operation:a,record:t})})}detach(){}}class uE{constructor(t=!1,e,n=!0){this._multiple=t,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new gs.a,e&&e.length&&(t?e.forEach(t=>this._markSelected(t)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}const hE=new r.s("_ViewRepeater");let dE=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new gs.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new nr.a(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(aE(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Object(Ri.a)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Ni(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollableContainsElement(t,e){let n=e.nativeElement,r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Ox(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.B),r.Yb(cl),r.Yb(o,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(r.B),Object(r.Yb)(cl),Object(r.Yb)(o,8))},token:t,providedIn:"root"}),t})(),fE=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new gs.a,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._getDocument(),e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(aE(t)):this._change}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(cl),r.Yb(r.B),r.Yb(o,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(cl),Object(r.Yb)(r.B),Object(r.Yb)(o,8))},token:t,providedIn:"root"}),t})(),pE=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)}}),t})(),mE=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[tu,ll,pE],tu,pE]}),t})();class gE{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class bE extends gE{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class yE extends gE{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class _E extends gE{constructor(t){super(),this.element=t instanceof r.l?t.nativeElement:t}}class vE{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof bE?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof yE?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof _E?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class wE extends vE{constructor(t,e,n,r,i){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=i}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),n.detectChanges(),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let CE=(()=>{class t extends vE{constructor(t,e,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new r.o,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r=e.createComponent(n,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.j),r.Ob(r.S),r.Ob(o))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[r.Ab]}),t})(),OE=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)}}),t})();class kE{constructor(t,e){this.predicate=t,this.inclusive=e}call(t,e){return e.subscribe(new SE(t,this.predicate,this.inclusive))}}class SE extends Pi.a{constructor(t,e,n){super(t),this.predicate=e,this.inclusive=n,this.index=0}_next(t){const e=this.destination;let n;try{n=this.predicate(t,this.index++)}catch(r){return void e.error(r)}this.nextOrComplete(t,n)}nextOrComplete(t,e){const n=this.destination;Boolean(e)?n.next(t):(this.inclusive&&n.next(t),n.complete())}}class xE{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Sl(-this._previousScrollPosition.left),t.style.top=Sl(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=r,n.scrollBehavior=i}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}class EE{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class TE{enable(){}disable(){}attach(){}}function IE(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function AE(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class RE{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();IE(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let DE=(()=>{class t{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new TE,this.close=t=>new EE(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new xE(this._viewportRuler,this._document),this.reposition=t=>new RE(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=r}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(dE),r.Yb(fE),r.Yb(r.B),r.Yb(o))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(dE),Object(r.Yb)(fE),Object(r.Yb)(r.B),Object(r.Yb)(o))},token:t,providedIn:"root"}),t})();class jE{constructor(t){if(this.scrollStrategy=new TE,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class PE{constructor(t,e,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class NE{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let LE=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(o))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(o))},token:t,providedIn:"root"}),t})(),FE=(()=>{class t extends LE{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(o))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(o))},token:t,providedIn:"root"}),t})(),ME=(()=>{class t extends LE{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._clickListener=t=>{const e=t.composedPath?t.composedPath()[0]:t.target,n=this._attachedOverlays.slice();for(let r=n.length-1;r>-1;r--){const i=n[r];if(!(i._outsidePointerEvents.observers.length<1)&&i.hasAttached()){if(i.overlayElement.contains(e))break;i._outsidePointerEvents.next(t)}}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("click",this._clickListener,!0),this._document.body.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("click",this._clickListener,!0),this._document.body.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(o),r.Yb(cl))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(o),Object(r.Yb)(cl))},token:t,providedIn:"root"}),t})();const VE=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let UE=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._platform?this._platform.isBrowser:"undefined"!=typeof window;if(t||VE){const t=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]');for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])}const e=this._document.createElement("div");e.classList.add("cdk-overlay-container"),VE?e.setAttribute("platform","test"):t||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(o),r.Yb(cl))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(o),Object(r.Yb)(cl))},token:t,providedIn:"root"}),t})();class BE{constructor(t,e,n,r,i,s,o,a,c){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=s,this._document=o,this._location=a,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new gs.a,this._attachments=new gs.a,this._detachments=new gs.a,this._locationChanges=co.a.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new gs.a,this._outsidePointerEvents=new gs.a,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ms(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher&&this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher&&this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher&&this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Sl(this._config.width),t.height=Sl(this._config.height),t.minWidth=Sl(this._config.minWidth),t.minHeight=Sl(this._config.minHeight),t.maxWidth=Sl(this._config.maxWidth),t.maxHeight=Sl(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const r=t.classList;kl(e).forEach(t=>{t&&(n?r.add(t):r.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(mh(Object($S.a)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const zE=/([A-Za-z%]+)$/;class HE{constructor(t,e,n,r,i){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new gs.a,this._resizeSubscription=co.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=[];let i;for(let s of this._preferredPositions){let o=this._getOriginPoint(t,s),a=this._getOverlayPoint(o,e,s),c=this._getOverlayFit(a,e,n,s);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(c,a,n)?r.push({position:s,origin:o,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!i||i.overlayFit.visibleArea<c.visibleArea)&&(i={overlayFit:c,overlayPoint:a,originPoint:o,position:s,overlayRect:e})}if(r.length){let t=null,e=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>e&&(e=r,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&qE(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,r;if("center"==e.originX)n=t.left+t.width/2;else{const r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:r}}_getOverlayPoint(t,e,n){let r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+i}}_getOverlayFit(t,e,n,r){let{x:i,y:s}=t,o=this._getOffset(r,"x"),a=this._getOffset(r,"y");o&&(i+=o),a&&(s+=a);let c=0-s,l=s+e.height-n.height,u=this._subtractOverflows(e.width,0-i,i+e.width-n.width),h=this._subtractOverflows(e.height,c,l),d=u*h;return{visibleArea:d,isCompletelyWithinViewport:e.width*e.height===d,fitsInViewportVertically:h===e.height,fitsInViewportHorizontally:u==e.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,i=n.right-e.x,s=YE(this._overlayRef.getConfig().minHeight),o=YE(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=o&&o<=i;return(t.fitsInViewportVertically||null!=s&&s<=r)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=this._viewportRect,i=Math.max(t.x+e.width-r.width,0),s=Math.max(t.y+e.height-r.height,0),o=Math.max(r.top-n.top-t.y,0),a=Math.max(r.left-n.left-t.x,0);let c=0,l=0;return c=e.width<=r.width?a||-i:t.x<this._viewportMargin?r.left-n.left-t.x:0,l=e.height<=r.height?o||-s:t.y<this._viewportMargin?r.top-n.top-t.y:0,this._previousPushAmount={x:c,y:l},{x:t.x+c,y:t.y+l}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new NE(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let i,s,o,a,c,l;if("top"===e.overlayY)s=t.y,i=n.height-s+this._viewportMargin;else if("bottom"===e.overlayY)o=n.height-t.y+2*this._viewportMargin,i=n.height-o+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),r=this._lastBoundingBoxSize.height;i=2*e,s=t.y-e,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-r/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)l=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)c=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),r=this._lastBoundingBoxSize.width;a=2*e,c=t.x-e,a>r&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.x-r/2)}return{top:s,left:c,bottom:o,right:l,width:a,height:i}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=Sl(n.height),r.top=Sl(n.top),r.bottom=Sl(n.bottom),r.width=Sl(n.width),r.left=Sl(n.left),r.right=Sl(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(r.maxHeight=Sl(t)),i&&(r.maxWidth=Sl(i))}this._lastBoundingBoxSize=n,qE(this._boundingBox.style,r)}_resetBoundingBoxStyles(){qE(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){qE(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const r=this._viewportRuler.getViewportScrollPosition();qE(n,this._getExactOverlayY(e,t,r)),qE(n,this._getExactOverlayX(e,t,r))}else n.position="static";let o="",a=this._getOffset(e,"x"),c=this._getOffset(e,"y");a&&(o+=`translateX(${a}px) `),c&&(o+=`translateY(${c}px)`),n.transform=o.trim(),s.maxHeight&&(r?n.maxHeight=Sl(s.maxHeight):i&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=Sl(s.maxWidth):i&&(n.maxWidth="")),qE(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=s,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=Sl(i.y),r}_getExactOverlayX(t,e,n){let r,i={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),r=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===r?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=Sl(s.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:AE(t,n),isOriginOutsideView:IE(t,n),isOverlayClipped:AE(e,n),isOverlayOutsideView:IE(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&kl(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof r.l)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function qE(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function YE(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(zE);return n&&"px"!==n?null:parseFloat(e)}return t||null}class GE{constructor(t,e,n,r,i,s,o){this._preferredPositions=[],this._positionStrategy=new HE(n,r,i,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,r){const i=new PE(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}class WE{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:i,maxWidth:s,maxHeight:o}=n,a=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==i&&"100vh"!==i||o&&"100%"!==o&&"100vh"!==o);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let $E=(()=>{class t{constructor(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}global(){return new WE}connectedTo(t,e,n){return new GE(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new HE(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(fE),r.Yb(o),r.Yb(cl),r.Yb(UE))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(fE),Object(r.Yb)(o),Object(r.Yb)(cl),Object(r.Yb)(UE))},token:t,providedIn:"root"}),t})(),KE=0,XE=(()=>{class t{constructor(t,e,n,r,i,s,o,a,c,l,u){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=s,this._ngZone=o,this._document=a,this._directionality=c,this._location=l,this._outsideClickDispatcher=u}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new jE(t);return i.direction=i.direction||this._directionality.value,new BE(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+KE++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(r.g)),new wE(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(DE),r.Yb(UE),r.Yb(r.j),r.Yb($E),r.Yb(FE),r.Yb(r.t),r.Yb(r.B),r.Yb(o),r.Yb(Jl),r.Yb(w),r.Yb(ME))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const QE=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],ZE=new r.s("cdk-connected-overlay-scroll-strategy");let JE=(()=>{class t{constructor(t){this.elementRef=t}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),t})(),tT=(()=>{class t{constructor(t,e,n,i,s){this._overlay=t,this._dir=s,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=co.a.EMPTY,this._attachSubscription=co.a.EMPTY,this._detachSubscription=co.a.EMPTY,this._positionSubscription=co.a.EMPTY,this.viewportMargin=0,this.open=!1,this.backdropClick=new r.o,this.positionChange=new r.o,this.attach=new r.o,this.detach=new r.o,this.overlayKeydown=new r.o,this.overlayOutsideClick=new r.o,this._templatePortal=new yE(e,n),this._scrollStrategyFactory=i,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Cl(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=Cl(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=Cl(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=Cl(t)}get push(){return this._push}set push(t){this._push=Cl(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){this.positions&&this.positions.length||(this.positions=QE);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(t=>{this.overlayKeydown.next(t),27!==t.keyCode||gl(t)||(t.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(t=>{this.overlayOutsideClick.next(t)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),e=new jE({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(e.width=this.width),(this.height||0===this.height)&&(e.height=this.height),(this.minWidth||0===this.minWidth)&&(e.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(e.minHeight=this.minHeight),this.backdropClass&&(e.backdropClass=this.backdropClass),this.panelClass&&(e.panelClass=this.panelClass),e}_updatePositionStrategy(t){const e=this.positions.map(t=>({originX:t.originX,originY:t.originY,overlayX:t.overlayX,overlayY:t.overlayY,offsetX:t.offsetX||this.offsetX,offsetY:t.offsetY||this.offsetY,panelClass:t.panelClass||void 0}));return t.setOrigin(this.origin.elementRef).withPositions(e).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(t),t}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(t,e=!1){return n=>n.lift(new kE(t,e))}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(XE),r.Ob(r.N),r.Ob(r.S),r.Ob(ZE),r.Ob(Jl,8))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[r.Bb]}),t})();const eT={provide:ZE,deps:[XE],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let nT=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[XE,eT],imports:[[tu,OE,mE],mE]}),t})();const rT=["trigger"],iT=["panel"];function sT(t,e){if(1&t&&(r.Ub(0,"span",8),r.zc(1),r.Tb()),2&t){const t=r.fc();r.Db(1),r.Ac(t.placeholder||"\xa0")}}function oT(t,e){if(1&t&&(r.Ub(0,"span"),r.zc(1),r.Tb()),2&t){const t=r.fc(2);r.Db(1),r.Ac(t.triggerValue||"\xa0")}}function aT(t,e){1&t&&r.ic(0,0,["*ngSwitchCase","true"])}function cT(t,e){if(1&t&&(r.Ub(0,"span",9),r.xc(1,oT,2,1,"span",10),r.xc(2,aT,1,0,"ng-content",11),r.Tb()),2&t){const t=r.fc();r.kc("ngSwitch",!!t.customTrigger),r.Db(2),r.kc("ngSwitchCase",!0)}}function lT(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",12),r.Ub(1,"div",13,14),r.bc("@transformPanel.done",function(e){return r.rc(t),r.fc()._panelDoneAnimatingStream.next(e.toState)})("keydown",function(e){return r.rc(t),r.fc()._handleKeydown(e)}),r.ic(3,1),r.Tb(),r.Tb()}if(2&t){const t=r.fc();r.kc("@transformPanelWrap",void 0),r.Db(1),r.Fb("mat-select-panel ",t._getPanelTheme(),""),r.uc("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),r.kc("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),r.Eb("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const uT=[[["mat-select-trigger"]],"*"],hT=["mat-select-trigger","*"],dT={transformPanelWrap:Rt("transformPanelWrap",[Ft("* => void",Vt("@transformPanel",[Mt()],{optional:!0}))]),transformPanel:Rt("transformPanel",[Nt("void",Pt({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Nt("showing",Pt({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Nt("showing-multiple",Pt({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Ft("void => *",Dt("120ms cubic-bezier(0, 0, 0.2, 1)")),Ft("* => void",Dt("100ms 25ms linear",Pt({opacity:0})))])};let fT=0;const pT=new r.s("mat-select-scroll-strategy"),mT=new r.s("MAT_SELECT_CONFIG"),gT={provide:pT,deps:[XE],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};class bT{constructor(t,e){this.source=t,this.value=e}}class yT{constructor(t,e,n,r,i){this._elementRef=t,this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=r,this.ngControl=i}}const _T=uu(hu(cu(du(yT)))),vT=new r.s("MatSelectTrigger");let wT=(()=>{class t extends _T{constructor(t,e,n,i,s,o,a,c,l,u,h,d,f,p){super(s,i,a,c,u),this._viewportRuler=t,this._changeDetectorRef=e,this._ngZone=n,this._dir=o,this._parentFormField=l,this.ngControl=u,this._liveAnnouncer=f,this._panelOpen=!1,this._required=!1,this._scrollTop=0,this._multiple=!1,this._compareWith=(t,e)=>t===e,this._uid="mat-select-"+fT++,this._triggerAriaLabelledBy=null,this._destroy=new gs.a,this._triggerFontSize=0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+fT++,this._transformOrigin="top",this._panelDoneAnimatingStream=new gs.a,this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}],this._disableOptionCentering=!1,this._focused=!1,this.controlType="mat-select",this.ariaLabel="",this.optionSelectionChanges=Rs(()=>{const t=this.options;return t?t.changes.pipe(Bs(t),Ps(()=>Object($S.a)(...t.map(t=>t.onSelectionChange)))):this._ngZone.onStable.pipe(Ms(1),Ps(()=>this.optionSelectionChanges))}),this.openedChange=new r.o,this._openedStream=this.openedChange.pipe(Ni(t=>t),Object(ir.a)(()=>{})),this._closedStream=this.openedChange.pipe(Ni(t=>!t),Object(ir.a)(()=>{})),this.selectionChange=new r.o,this.valueChange=new r.o,this.ngControl&&(this.ngControl.valueAccessor=this),this._scrollStrategyFactory=d,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(h)||0,this.id=this.id,p&&(null!=p.disableOptionCentering&&(this.disableOptionCentering=p.disableOptionCentering),null!=p.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=p.typeaheadDebounceInterval))}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required}set required(t){this._required=Cl(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=Cl(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=Cl(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){t!==this._value&&(this.options&&this._setSelectionByValue(t),this._value=t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=Ol(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new uE(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(wh(),mh(this._destroy)).subscribe(()=>{this.panelOpen?(this._scrollTop=0,this.openedChange.emit(!0)):(this.openedChange.emit(!1),this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck())}),this._viewportRuler.change().pipe(mh(this._destroy)).subscribe(()=>{this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(mh(this._destroy)).subscribe(t=>{t.added.forEach(t=>t.select()),t.removed.forEach(t=>t.deselect())}),this.options.changes.pipe(Bs(null),mh(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby();if(t!==this._triggerAriaLabelledBy){const e=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?e.setAttribute("aria-labelledby",t):e.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){!this.disabled&&this.options&&this.options.length&&!this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._calculateOverlayPosition(),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this._ngZone.onStable.pipe(Ms(1)).subscribe(()=>{this._triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.value=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(t=>t.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const e=t.keyCode,n=40===e||38===e||37===e||39===e,r=13===e||32===e,i=this._keyManager;if(!i.isTyping()&&r&&!gl(t)||(this.multiple||t.altKey)&&n)t.preventDefault(),this.open();else if(!this.multiple){const e=this.selected;i.onKeydown(t);const n=this.selected;n&&e!==n&&this._liveAnnouncer.announce(n.viewValue,1e4)}}_handleOpenKeydown(t){const e=this._keyManager,n=t.keyCode,r=40===n||38===n,i=e.isTyping();if(r&&t.altKey)t.preventDefault(),this.close();else if(i||13!==n&&32!==n||!e.activeItem||gl(t))if(!i&&this._multiple&&65===n&&t.ctrlKey){t.preventDefault();const e=this.options.some(t=>!t.disabled&&!t.selected);this.options.forEach(t=>{t.disabled||(e?t.select():t.deselect())})}else{const n=e.activeItemIndex;e.onKeydown(t),this._multiple&&r&&t.shiftKey&&e.activeItem&&e.activeItemIndex!==n&&e.activeItem._selectViaInteraction()}else t.preventDefault(),e.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this.overlayDir.positionChange.pipe(Ms(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.multiple&&t)Array.isArray(t),this._selectionModel.clear(),t.forEach(t=>this._selectValue(t)),this._sortValues();else{this._selectionModel.clear();const e=this._selectValue(t);e?this._keyManager.updateActiveItem(e):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(t){const e=this.options.find(e=>{try{return null!=e.value&&this._compareWith(e.value,t)}catch(n){return!1}});return e&&this._selectionModel.select(e),e}_initKeyManager(){this._keyManager=new Ll(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(mh(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(mh(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollActiveOptionIntoView():this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=Object($S.a)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(mh(t)).subscribe(t=>{this._onSelect(t.source,t.isUserInput),t.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Object($S.a)(...this.options.map(t=>t._stateChanges)).pipe(mh(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,e){const n=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(n!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),e&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),e&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),n!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((e,n)=>this.sortComparator?this.sortComparator(e,n,t):t.indexOf(e)-t.indexOf(n)),this.stateChanges.next()}}_propagateChanges(t){let e=null;e=this.multiple?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.valueChange.emit(e),this._onChange(e),this.selectionChange.emit(new bT(this,e)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_scrollActiveOptionIntoView(){const t=this._keyManager.activeItemIndex||0,e=Lu(t,this.options,this.optionGroups),n=this._getItemHeight();var r,i,s;this.panel.nativeElement.scrollTop=(i=n,(r=(t+e)*n)<(s=this.panel.nativeElement.scrollTop)?r:r+i>s+256?Math.max(0,r-256+i):s)}focus(t){this._elementRef.nativeElement.focus(t)}_getOptionIndex(t){return this.options.reduce((e,n,r)=>void 0!==e?e:t===n?r:void 0,void 0)}_calculateOverlayPosition(){const t=this._getItemHeight(),e=this._getItemCount(),n=Math.min(e*t,256),r=e*t-n;let i=this.empty?0:this._getOptionIndex(this._selectionModel.selected[0]);i+=Lu(i,this.options,this.optionGroups);const s=n/2;this._scrollTop=this._calculateOverlayScroll(i,s,r),this._offsetY=this._calculateOverlayOffsetY(i,s,r),this._checkOverlayWithinViewport(r)}_calculateOverlayScroll(t,e,n){const r=this._getItemHeight();return Math.min(Math.max(0,r*t-e+r/2),n)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const t=this._getLabelId();return this.ariaLabelledby?t+" "+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getLabelId(){var t;return(null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId())||""}_calculateOverlayOffsetX(){const t=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),e=this._viewportRuler.getViewportSize(),n=this._isRtl(),r=this.multiple?56:32;let i;if(this.multiple)i=40;else{let t=this._selectionModel.selected[0]||this.options.first;i=t&&t.group?32:16}n||(i*=-1);const s=0-(t.left+i-(n?r:0)),o=t.right+i-e.width+(n?0:r);s>0?i+=s+8:o>0&&(i-=o+8),this.overlayDir.offsetX=Math.round(i),this.overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,e,n){const r=this._getItemHeight(),i=(r-this._triggerRect.height)/2,s=Math.floor(256/r);let o;return this._disableOptionCentering?0:(o=0===this._scrollTop?t*r:this._scrollTop===n?(t-(this._getItemCount()-s))*r+(r-(this._getItemCount()*r-256)%r):e-r/2,Math.round(-1*o-i))}_checkOverlayWithinViewport(t){const e=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),r=this._triggerRect.top-8,i=n.height-this._triggerRect.bottom-8,s=Math.abs(this._offsetY),o=Math.min(this._getItemCount()*e,256)-s-this._triggerRect.height;o>i?this._adjustPanelUp(o,i):s>r?this._adjustPanelDown(s,r,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,e){const n=Math.round(t-e);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,e,n){const r=Math.round(t-e);if(this._scrollTop+=r,this._offsetY+=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_getOriginBasedOnOption(){const t=this._getItemHeight(),e=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-e+t/2}px 0px`}_getItemCount(){return this.options.length+this.optionGroups.length}_getItemHeight(){return 3*this._triggerFontSize}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let t=this._getLabelId()+" "+this._valueId;return this.ariaLabelledby&&(t+=" "+this.ariaLabelledby),t}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(fE),r.Ob(r.h),r.Ob(r.B),r.Ob(fu),r.Ob(r.l),r.Ob(Jl,8),r.Ob(yi,8),r.Ob(ki,8),r.Ob(tE,8),r.Ob(Pr,10),r.Zb("tabindex"),r.Ob(pT),r.Ob(ql),r.Ob(mT,8))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-select"]],contentQueries:function(t,e,n){if(1&t&&(r.Hb(n,vT,1),r.Hb(n,Nu,1),r.Hb(n,Au,1)),2&t){let t;r.oc(t=r.cc())&&(e.customTrigger=t.first),r.oc(t=r.cc())&&(e.options=t),r.oc(t=r.cc())&&(e.optionGroups=t)}},viewQuery:function(t,e){if(1&t&&(r.Dc(rT,1),r.Dc(iT,1),r.Dc(tT,1)),2&t){let t;r.oc(t=r.cc())&&(e.trigger=t.first),r.oc(t=r.cc())&&(e.panel=t.first),r.oc(t=r.cc())&&(e.overlayDir=t.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,e){1&t&&r.bc("keydown",function(t){return e._handleKeydown(t)})("focus",function(){return e._onFocus()})("blur",function(){return e._onBlur()}),2&t&&(r.Eb("id",e.id)("tabindex",e.tabIndex)("aria-controls",e.panelOpen?e.id+"-panel":null)("aria-expanded",e.panelOpen)("aria-label",e.ariaLabel||null)("aria-required",e.required.toString())("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-describedby",e._ariaDescribedby||null)("aria-activedescendant",e._getAriaActiveDescendant()),r.Gb("mat-select-disabled",e.disabled)("mat-select-invalid",e.errorState)("mat-select-required",e.required)("mat-select-empty",e.empty)("mat-select-multiple",e.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],id:"id",disableOptionCentering:"disableOptionCentering",typeaheadDebounceInterval:"typeaheadDebounceInterval",placeholder:"placeholder",required:"required",multiple:"multiple",compareWith:"compareWith",value:"value",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[r.Cb([{provide:qx,useExisting:t},{provide:ju,useExisting:t}]),r.Ab,r.Bb],ngContentSelectors:hT,decls:9,vars:10,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder"],[1,"mat-select-value-text",3,"ngSwitch"],[4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,e){if(1&t&&(r.jc(uT),r.Ub(0,"div",0,1),r.bc("click",function(){return e.toggle()}),r.Ub(3,"div",2),r.xc(4,sT,2,1,"span",3),r.xc(5,cT,3,2,"span",4),r.Tb(),r.Ub(6,"div",5),r.Pb(7,"div",6),r.Tb(),r.Tb(),r.xc(8,lT,4,14,"ng-template",7),r.bc("backdropClick",function(){return e.close()})("attach",function(){return e._onAttached()})("detach",function(){return e.close()})),2&t){const t=r.pc(1);r.Db(3),r.kc("ngSwitch",e.empty),r.Eb("id",e._valueId),r.Db(1),r.kc("ngSwitchCase",!0),r.Db(1),r.kc("ngSwitchCase",!1),r.Db(3),r.kc("cdkConnectedOverlayScrollStrategy",e._scrollStrategy)("cdkConnectedOverlayOrigin",t)("cdkConnectedOverlayOpen",e.panelOpen)("cdkConnectedOverlayPositions",e._positions)("cdkConnectedOverlayMinWidth",null==e._triggerRect?null:e._triggerRect.width)("cdkConnectedOverlayOffsetY",e._offsetY)}},directives:[JE,F,M,tT,V,I],styles:[".mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}\n"],encapsulation:2,data:{animation:[dT.transformPanelWrap,dT.transformPanel]},changeDetection:0}),t})(),CT=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[gT],imports:[[Y,nT,Fu,au],pE,nE,Fu,au]}),t})();var OT=n("WMd4");class kT{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new ST(t,this.delay,this.scheduler))}}class ST extends Pi.a{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,r=t.scheduler,i=t.destination;for(;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){const e=Math.max(0,n[0].time-r.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(ST.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new xT(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(OT.a.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(OT.a.createComplete()),this.unsubscribe()}}class xT{constructor(t,e){this.time=t,this.notification=e}}const ET=["input"],TT=function(){return{enterDuration:150}},IT=["*"],AT=new r.s("mat-checkbox-default-options",{providedIn:"root",factory:function(){return{color:"accent",clickAction:"check-indeterminate"}}}),RT=new r.s("mat-checkbox-click-action");let DT=0;const jT={provide:lr,useExisting:Object(r.W)(()=>FT),multi:!0};class PT{}class NT{constructor(t){this._elementRef=t}}const LT=hu(lu(uu(cu(NT))));let FT=(()=>{class t extends LT{constructor(t,e,n,i,s,o,a,c){super(t),this._changeDetectorRef=e,this._focusMonitor=n,this._ngZone=i,this._clickAction=o,this._animationMode=a,this._options=c,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++DT,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new r.o,this.indeterminateChange=new r.o,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||{},this._options.color&&(this.color=this.defaultColor=this._options.color),this.tabIndex=parseInt(s)||0,this._clickAction=this._clickAction||this._options.clickAction}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(t){this._required=Cl(t)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{t||Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(t){t!=this.checked&&(this._checked=t,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){const e=Cl(t);e!==this.disabled&&(this._disabled=e,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){const e=t!=this._indeterminate;this._indeterminate=Cl(t),e&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(t){let e=this._currentCheckState,n=this._elementRef.nativeElement;if(e!==t&&(this._currentAnimationClass.length>0&&n.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(e,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){n.classList.add(this._currentAnimationClass);const t=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{n.classList.remove(t)},1e3)})}}_emitChangeEvent(){const t=new PT;t.source=this,t.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(t)}toggle(){this.checked=!this.checked}_onInputClick(t){t.stopPropagation(),this.disabled||"noop"===this._clickAction?this.disabled||"noop"!==this._clickAction||(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==this._clickAction&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(t="keyboard",e){this._focusMonitor.focusVia(this._inputElement,t,e)}_onInteractionEvent(t){t.stopPropagation()}_getAnimationClassForCheckStateTransition(t,e){if("NoopAnimations"===this._animationMode)return"";let n="";switch(t){case 0:if(1===e)n="unchecked-checked";else{if(3!=e)return"";n="unchecked-indeterminate"}break;case 2:n=1===e?"unchecked-checked":"unchecked-indeterminate";break;case 1:n=2===e?"checked-unchecked":"checked-indeterminate";break;case 3:n=1===e?"indeterminate-checked":"indeterminate-unchecked"}return`mat-checkbox-anim-${n}`}_syncIndeterminate(t){const e=this._inputElement;e&&(e.nativeElement.indeterminate=t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(r.h),r.Ob($l),r.Ob(r.B),r.Zb("tabindex"),r.Ob(RT,8),r.Ob(Jn,8),r.Ob(AT,8))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-checkbox"]],viewQuery:function(t,e){if(1&t&&(r.Dc(ET,1),r.Dc(wu,1)),2&t){let t;r.oc(t=r.cc())&&(e._inputElement=t.first),r.oc(t=r.cc())&&(e.ripple=t.first)}},hostAttrs:[1,"mat-checkbox"],hostVars:12,hostBindings:function(t,e){2&t&&(r.Xb("id",e.id),r.Eb("tabindex",null),r.Gb("mat-checkbox-indeterminate",e.indeterminate)("mat-checkbox-checked",e.checked)("mat-checkbox-disabled",e.disabled)("mat-checkbox-label-before","before"==e.labelPosition)("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",labelPosition:"labelPosition",name:"name",required:"required",checked:"checked",disabled:"disabled",indeterminate:"indeterminate",ariaDescribedby:["aria-describedby","ariaDescribedby"],value:"value"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[r.Cb([jT]),r.Ab],ngContentSelectors:IT,decls:17,vars:20,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(t,e){if(1&t&&(r.jc(),r.Ub(0,"label",0,1),r.Ub(2,"div",2),r.Ub(3,"input",3,4),r.bc("change",function(t){return e._onInteractionEvent(t)})("click",function(t){return e._onInputClick(t)}),r.Tb(),r.Ub(5,"div",5),r.Pb(6,"div",6),r.Tb(),r.Pb(7,"div",7),r.Ub(8,"div",8),r.ec(),r.Ub(9,"svg",9),r.Pb(10,"path",10),r.Tb(),r.dc(),r.Pb(11,"div",11),r.Tb(),r.Tb(),r.Ub(12,"span",12,13),r.bc("cdkObserveContent",function(){return e._onLabelTextChange()}),r.Ub(14,"span",14),r.zc(15,"\xa0"),r.Tb(),r.ic(16),r.Tb(),r.Tb()),2&t){const t=r.pc(1),n=r.pc(13);r.Eb("for",e.inputId),r.Db(2),r.Gb("mat-checkbox-inner-container-no-side-margin",!n.textContent||!n.textContent.trim()),r.Db(1),r.kc("id",e.inputId)("required",e.required)("checked",e.checked)("disabled",e.disabled)("tabIndex",e.tabIndex),r.Eb("value",e.value)("name",e.name)("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby)("aria-checked",e._getAriaChecked())("aria-describedby",e.ariaDescribedby),r.Db(2),r.kc("matRippleTrigger",t)("matRippleDisabled",e._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",r.lc(19,TT))}},directives:[wu,Il],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-frame{border-style:dotted}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}\n"],encapsulation:2,changeDetection:0}),t})(),MT=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)}}),t})(),VT=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[Cu,au,Al,MT],au,MT]}),t})();function UT(t,e){if(1&t&&(r.ec(),r.Pb(0,"circle",3)),2&t){const t=r.fc();r.uc("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),r.Eb("r",t._getCircleRadius())}}function BT(t,e){if(1&t&&(r.ec(),r.Pb(0,"circle",3)),2&t){const t=r.fc();r.uc("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),r.Eb("r",t._getCircleRadius())}}function zT(t,e){if(1&t&&(r.ec(),r.Pb(0,"circle",3)),2&t){const t=r.fc();r.uc("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),r.Eb("r",t._getCircleRadius())}}function HT(t,e){if(1&t&&(r.ec(),r.Pb(0,"circle",3)),2&t){const t=r.fc();r.uc("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),r.Eb("r",t._getCircleRadius())}}const qT=".mat-progress-spinner{display:block;position:relative}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:currentColor}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n";class YT{constructor(t){this._elementRef=t}}const GT=lu(YT,"primary"),WT=new r.s("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});let $T=(()=>{class t extends GT{constructor(e,n,r,i,s){super(e),this._elementRef=e,this._document=r,this._diameter=100,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const o=t._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),o.has(r.head)||o.set(r.head,new Set([100])),this._fallbackAnimation=n.EDGE||n.TRIDENT,this._noopAnimations="NoopAnimations"===i&&!!s&&!s._forceAnimations,s&&(s.diameter&&(this.diameter=s.diameter),s.strokeWidth&&(this.strokeWidth=s.strokeWidth))}get diameter(){return this._diameter}set diameter(t){this._diameter=Ol(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=Ol(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,Ol(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=ml(t)||this._document.head,this._attachStyleNode(),t.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._getStrokeCircumference():null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const e=this._styleRoot,n=this._diameter,r=t._diameters;let i=r.get(e);if(!i||!i.has(n)){const t=this._document.createElement("style");t.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),t.textContent=this._getAnimationText(),e.appendChild(t),i||(i=new Set,r.set(e,i)),i.add(n)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(cl),r.Ob(o,8),r.Ob(Jn,8),r.Ob(WT))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(r.Eb("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),r.uc("width",e.diameter,"px")("height",e.diameter,"px"),r.Gb("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[r.Ab],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(r.ec(),r.Ub(0,"svg",0),r.xc(1,UT,1,9,"circle",1),r.xc(2,BT,1,7,"circle",2),r.Tb()),2&t&&(r.uc("width",e.diameter,"px")("height",e.diameter,"px"),r.kc("ngSwitch","indeterminate"===e.mode),r.Eb("viewBox",e._getViewBox()),r.Db(1),r.kc("ngSwitchCase",!0),r.Db(1),r.kc("ngSwitchCase",!1))},directives:[F,M],styles:[qT],encapsulation:2,changeDetection:0}),t._diameters=new WeakMap,t})(),KT=(()=>{class t extends $T{constructor(t,e,n,r,i){super(t,e,n,r,i),this.mode="indeterminate"}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(cl),r.Ob(o,8),r.Ob(Jn,8),r.Ob(WT))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-spinner"]],hostAttrs:["role","progressbar","mode","indeterminate",1,"mat-spinner","mat-progress-spinner"],hostVars:6,hostBindings:function(t,e){2&t&&(r.uc("width",e.diameter,"px")("height",e.diameter,"px"),r.Gb("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color"},features:[r.Ab],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(r.ec(),r.Ub(0,"svg",0),r.xc(1,zT,1,9,"circle",1),r.xc(2,HT,1,7,"circle",2),r.Tb()),2&t&&(r.uc("width",e.diameter,"px")("height",e.diameter,"px"),r.kc("ngSwitch","indeterminate"===e.mode),r.Eb("viewBox",e._getViewBox()),r.Db(1),r.kc("ngSwitchCase",!0),r.Db(1),r.kc("ngSwitchCase",!1))},directives:[F,M],styles:[qT],encapsulation:2,changeDetection:0}),t})(),XT=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[au,Y],au]}),t})();class QT{constructor(t){this.total=t}call(t,e){return e.subscribe(new ZT(t,this.total))}}class ZT extends Pi.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}const JT=new Set;let tI,eI=(()=>{class t{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):nI}matchMedia(t){return this._platform.WEBKIT&&function(t){if(!JT.has(t))try{tI||(tI=document.createElement("style"),tI.setAttribute("type","text/css"),document.head.appendChild(tI)),tI.sheet&&(tI.sheet.insertRule(`@media ${t} {.fx-query-test{ }}`,0),JT.add(t))}catch(HS){console.error(HS)}}(t),this._matchMedia(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(cl))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(cl))},token:t,providedIn:"root"}),t})();function nI(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let rI=(()=>{class t{constructor(t,e){this._mediaMatcher=t,this._zone=e,this._queries=new Map,this._destroySubject=new gs.a}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return iI(kl(t)).some(t=>this._registerQuery(t).mql.matches)}observe(t){let e=ks(iI(kl(t)).map(t=>this._registerQuery(t).observable));return e=Is(e.pipe(Ms(1)),e.pipe(t=>t.lift(new QT(1)),yl(0))),e.pipe(Object(ir.a)(t=>{const e={matches:!1,breakpoints:{}};return t.forEach(({matches:t,query:n})=>{e.matches=e.matches||t,e.breakpoints[n]=t}),e}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const e=this._mediaMatcher.matchMedia(t),n={observable:new nr.a(t=>{const n=e=>this._zone.run(()=>t.next(e));return e.addListener(n),()=>{e.removeListener(n)}}).pipe(Bs(e),Object(ir.a)(({matches:e})=>({query:t,matches:e})),mh(this._destroySubject)),mql:e};return this._queries.set(t,n),n}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(eI),r.Yb(r.B))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(eI),Object(r.Yb)(r.B))},token:t,providedIn:"root"}),t})();function iI(t){return t.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const sI={tooltipState:Rt("state",[Nt("initial, void, hidden",Pt({opacity:0,transform:"scale(0)"})),Nt("visible",Pt({transform:"scale(1)"})),Ft("* => visible",Dt("200ms cubic-bezier(0, 0, 0.2, 1)",Lt([Pt({opacity:0,transform:"scale(0)",offset:0}),Pt({opacity:.5,transform:"scale(0.99)",offset:.5}),Pt({opacity:1,transform:"scale(1)",offset:1})]))),Ft("* => hidden",Dt("100ms cubic-bezier(0, 0, 0.2, 1)",Pt({opacity:0})))])},oI=pl({passive:!0}),aI=new r.s("mat-tooltip-scroll-strategy"),cI={provide:aI,deps:[XE],useFactory:function(t){return()=>t.scrollStrategies.reposition({scrollThrottle:20})}},lI=new r.s("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let uI=(()=>{class t{constructor(t,e,n,r,i,s,o,a,c,l,u){this._overlay=t,this._elementRef=e,this._scrollDispatcher=n,this._viewContainerRef=r,this._ngZone=i,this._platform=s,this._ariaDescriber=o,this._focusMonitor=a,this._dir=l,this._defaultOptions=u,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new gs.a,this._handleKeydown=t=>{this._isTooltipVisible()&&27===t.keyCode&&!gl(t)&&(t.preventDefault(),t.stopPropagation(),this._ngZone.run(()=>this.hide(0)))},this._scrollStrategy=c,u&&(u.position&&(this.position=u.position),u.touchGestures&&(this.touchGestures=u.touchGestures)),i.runOutsideAngular(()=>{e.nativeElement.addEventListener("keydown",this._handleKeydown)})}get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(),this._tooltipInstance&&this._tooltipInstance.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(t){this._disabled=Cl(t),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message),this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message)})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(mh(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),t.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach(([e,n])=>{t.removeEventListener(e,n,oI)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const e=this._createOverlay();this._detach(),this._portal=this._portal||new bE(hI,this._viewContainerRef),this._tooltipInstance=e.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(mh(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(t)}hide(t=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(t)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const t=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),e=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(".mat-tooltip").withFlexibleDimensions(!1).withViewportMargin(8).withScrollableContainers(t);return e.positionChanges.pipe(mh(this._destroyed)).subscribe(t=>{this._tooltipInstance&&t.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:e,panelClass:"mat-tooltip-panel",scrollStrategy:this._scrollStrategy()}),this._updatePosition(),this._overlayRef.detachments().pipe(mh(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(){const t=this._overlayRef.getConfig().positionStrategy,e=this._getOrigin(),n=this._getOverlayPosition();t.withPositions([Object.assign(Object.assign({},e.main),n.main),Object.assign(Object.assign({},e.fallback),n.fallback)])}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,e=this.position;let n;"above"==e||"below"==e?n={originX:"center",originY:"above"==e?"top":"bottom"}:"before"==e||"left"==e&&t||"right"==e&&!t?n={originX:"start",originY:"center"}:("after"==e||"right"==e&&t||"left"==e&&!t)&&(n={originX:"end",originY:"center"});const{x:r,y:i}=this._invertPosition(n.originX,n.originY);return{main:n,fallback:{originX:r,originY:i}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,e=this.position;let n;"above"==e?n={overlayX:"center",overlayY:"bottom"}:"below"==e?n={overlayX:"center",overlayY:"top"}:"before"==e||"left"==e&&t||"right"==e&&!t?n={overlayX:"end",overlayY:"center"}:("after"==e||"right"==e&&t||"left"==e&&!t)&&(n={overlayX:"start",overlayY:"center"});const{x:r,y:i}=this._invertPosition(n.overlayX,n.overlayY);return{main:n,fallback:{overlayX:r,overlayY:i}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Ms(1),mh(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,e){return"above"===this.position||"below"===this.position?"top"===e?e="bottom":"bottom"===e&&(e="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:e}}_setupPointerEnterEventsIfNeeded(){!this._disabled&&this.message&&this._viewInitialized&&!this._passiveListeners.length&&(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",()=>this.hide()]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const e=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",e],["touchcancel",e])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([t,e])=>{this._elementRef.nativeElement.addEventListener(t,e,oI)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const e=this._elementRef.nativeElement,n=e.style;("on"===t||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName)&&(n.userSelect=n.msUserSelect=n.webkitUserSelect=n.MozUserSelect="none"),"on"!==t&&e.draggable||(n.webkitUserDrag="none"),n.touchAction="none",n.webkitTapHighlightColor="transparent"}}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(XE),r.Ob(r.l),r.Ob(dE),r.Ob(r.S),r.Ob(r.B),r.Ob(cl),r.Ob(Nl),r.Ob($l),r.Ob(aI),r.Ob(Jl,8),r.Ob(lI,8))},t.\u0275dir=r.Jb({type:t,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],inputs:{showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]}),t})(),hI=(()=>{class t{constructor(t,e){this._changeDetectorRef=t,this._breakpointObserver=e,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new gs.a,this._isHandset=this._breakpointObserver.observe("(max-width: 599.99px) and (orientation: portrait), (max-width: 959.99px) and (orientation: landscape)")}show(t){this._hideTimeoutId&&(clearTimeout(this._hideTimeoutId),this._hideTimeoutId=null),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._showTimeoutId=null,this._markForCheck()},t)}hide(t){this._showTimeoutId&&(clearTimeout(this._showTimeoutId),this._showTimeoutId=null),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._hideTimeoutId=null,this._markForCheck()},t)}afterHidden(){return this._onHide}isVisible(){return"visible"===this._visibility}ngOnDestroy(){this._onHide.complete()}_animationStart(){this._closeOnInteraction=!1}_animationDone(t){const e=t.toState;"hidden"!==e||this.isVisible()||this._onHide.next(),"visible"!==e&&"hidden"!==e||(this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.h),r.Ob(rI))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,e){1&t&&r.bc("click",function(){return e._handleBodyInteraction()},!1,r.qc),2&t&&r.uc("zoom","visible"===e._visibility?1:null)},decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(t,e){if(1&t&&(r.Ub(0,"div",0),r.bc("@state.start",function(){return e._animationStart()})("@state.done",function(t){return e._animationDone(t)}),r.gc(1,"async"),r.zc(2),r.Tb()),2&t){let t=null;r.Gb("mat-tooltip-handset",null==(t=r.hc(1,5,e._isHandset))?null:t.matches),r.kc("ngClass",e.tooltipClass)("@state",e._visibility),r.Db(2),r.Ac(e.message)}},directives:[I],pipes:[q],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[sI.tooltipState]},changeDetection:0}),t})(),dI=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[cI],imports:[[Ql,Y,nT,au],au,pE]}),t})();const fI=["searchSelectInput"],pI=["innerSelectSearch"];function mI(t,e){if(1&t){const t=r.Vb();r.Ub(0,"mat-checkbox",9),r.bc("change",function(e){return r.rc(t),r.fc()._emitSelectAllBooleanToParent(e.checked)}),r.Tb()}if(2&t){const t=r.fc();r.kc("color",null==t.matFormField?null:t.matFormField.color)("checked",t.toggleAllCheckboxChecked)("indeterminate",t.toggleAllCheckboxIndeterminate)("matTooltip",t.toggleAllCheckboxTooltipMessage)("matTooltipPosition",t.toogleAllCheckboxTooltipPosition)}}function gI(t,e){1&t&&r.Pb(0,"mat-spinner",10)}function bI(t,e){1&t&&r.ic(0,1,["*ngIf","clearIcon; else defaultIcon"])}function yI(t,e){1&t&&(r.Ub(0,"mat-icon"),r.zc(1,"close"),r.Tb())}function _I(t,e){if(1&t){const t=r.Vb();r.Ub(0,"button",11),r.bc("click",function(){return r.rc(t),r.fc()._reset(!0)}),r.xc(1,bI,1,0,"ng-content",12),r.xc(2,yI,2,0,"ng-template",null,13,r.yc),r.Tb()}if(2&t){const t=r.pc(3),e=r.fc();r.Db(1),r.kc("ngIf",e.clearIcon)("ngIfElse",t)}}function vI(t,e){if(1&t&&(r.Ub(0,"div",14),r.zc(1),r.Tb()),2&t){const t=r.fc();r.Db(1),r.Bc(" ",t.noEntriesFoundLabel,"\n")}}const wI=[[["",8,"mat-select-search-custom-header-content"]],[["","ngxMatSelectSearchClear",""]]],CI=function(t,e){return{"mat-select-search-inner-multiple":t,"mat-select-search-inner-toggle-all":e}},OI=[".mat-select-search-custom-header-content","[ngxMatSelectSearchClear]"];let kI=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["","ngxMatSelectSearchClear",""]]}),t})();var SI;let xI=(()=>{let t=SI=class{constructor(t,e,n,i=null,s,o=null){this.matSelect=t,this.changeDetectorRef=e,this._viewportRuler=n,this.matOption=i,this.liveAnnouncer=s,this.matFormField=o,this.placeholderLabel="Suche",this.type="text",this.noEntriesFoundLabel="Keine Optionen gefunden",this.indexAndLengthScreenReaderText=" of ",this.clearSearchInput=!0,this.searching=!1,this.disableInitialFocus=!1,this.enableClearOnEscapePressed=!1,this.preventHomeEndKeyPropagation=!1,this.disableScrollToActiveOnOptionsChanged=!1,this.ariaLabel="dropdown search",this.showToggleAllCheckbox=!1,this.toggleAllCheckboxChecked=!1,this.toggleAllCheckboxIndeterminate=!1,this.toggleAllCheckboxTooltipMessage="",this.toogleAllCheckboxTooltipPosition="below",this.hideClearSearchButton=!1,this.toggleAll=new r.o,this.onTouched=t=>{},this._options$=new ys(null),this.optionsList$=this._options$.pipe(Ps(t=>t?t.changes.pipe(Object(ir.a)(t=>t.toArray()),Bs(t.toArray())):Object(Ri.a)(null))),this.optionsLength$=this.optionsList$.pipe(Object(ir.a)(t=>t?t.length:0)),this._formControl=new fi(""),this._showNoEntriesFound$=ks([this._formControl.valueChanges,this.optionsLength$]).pipe(Object(ir.a)(([t,e])=>this.noEntriesFoundLabel&&t&&e===this.getOptionsLengthOffset())),this._onDestroy=new gs.a}get isInsideMatOption(){return!!this.matOption}get value(){return this._formControl.value}set _options(t){this._options$.next(t)}get _options(){return this._options$.getValue()}ngOnInit(){const t="mat-select-search-panel";this.matSelect.panelClass?Array.isArray(this.matSelect.panelClass)?this.matSelect.panelClass.push(t):"string"==typeof this.matSelect.panelClass?this.matSelect.panelClass=[this.matSelect.panelClass,t]:"object"==typeof this.matSelect.panelClass&&(this.matSelect.panelClass[t]=!0):this.matSelect.panelClass=t,this.matOption?(this.matOption.disabled=!0,this.matOption._getHostElement().classList.add("contains-mat-select-search")):console.error("<ngx-mat-select-search> must be placed inside a <mat-option> element"),this.matSelect.openedChange.pipe(function(t,e=bl.a){var n;const r=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return t=>t.lift(new kT(r,e))}(1),mh(this._onDestroy)).subscribe(t=>{t?(this.updateInputWidth(),this.disableInitialFocus||this._focus()):this.clearSearchInput&&this._reset()}),this.matSelect.openedChange.pipe(Ms(1)).pipe(mh(this._onDestroy)).subscribe(()=>{this.matSelect._keyManager?this.matSelect._keyManager.change.pipe(mh(this._onDestroy)).subscribe(()=>this.adjustScrollTopToFitActiveOptionIntoView()):console.log("_keyManager was not initialized."),this._options=this.matSelect.options;let t=this._options.toArray()[this.getOptionsLengthOffset()];this._options.changes.pipe(mh(this._onDestroy)).subscribe(()=>{setTimeout(()=>{const e=this._options.toArray(),n=e[this.getOptionsLengthOffset()],r=this.matSelect._keyManager;r&&this.matSelect.panelOpen&&(!!this.matSelect.compareWith(t,n)&&r.activeItem&&e.find(t=>this.matSelect.compareWith(t,r.activeItem))||r.setFirstItemActive(),setTimeout(()=>{this.updateInputWidth()}),this.disableScrollToActiveOnOptionsChanged||this.adjustScrollTopToFitActiveOptionIntoView()),t=n})})}),this._showNoEntriesFound$.pipe(mh(this._onDestroy)).subscribe(t=>{this.matOption&&(t?this.matOption._getHostElement().classList.add("mat-select-search-no-entries-found"):this.matOption._getHostElement().classList.remove("mat-select-search-no-entries-found"))}),this._viewportRuler.change().pipe(mh(this._onDestroy)).subscribe(()=>{this.matSelect.panelOpen&&this.updateInputWidth()}),this.initMultipleHandling(),this.optionsList$.pipe(mh(this._onDestroy)).subscribe(()=>{this.changeDetectorRef.markForCheck()})}_emitSelectAllBooleanToParent(t){this.toggleAll.emit(t)}ngOnDestroy(){this._onDestroy.next(),this._onDestroy.complete()}_isToggleAllCheckboxVisible(){return this.matSelect.multiple&&this.showToggleAllCheckbox}_handleKeydown(t){(t.key&&1===t.key.length||t.keyCode>=65&&t.keyCode<=90||t.keyCode>=48&&t.keyCode<=57||32===t.keyCode||this.preventHomeEndKeyPropagation&&(36===t.keyCode||35===t.keyCode))&&t.stopPropagation(),this.matSelect.multiple&&t.key&&13===t.keyCode&&setTimeout(()=>this._focus()),!0===this.enableClearOnEscapePressed&&27===t.keyCode&&this.value&&(this._reset(!0),t.stopPropagation())}_handleKeyup(t){if(38===t.keyCode||40===t.keyCode){const t=this.matSelect._getAriaActiveDescendant(),e=this._options.toArray().findIndex(e=>e.id===t);if(-1!==e){const t=this._options.toArray()[e];this.liveAnnouncer.announce(t.viewValue+" "+this.getAriaIndex(e)+this.indexAndLengthScreenReaderText+this.getAriaLength())}}}getAriaIndex(t){return 0===this.getOptionsLengthOffset()?t+1:t}getAriaLength(){return this._options.toArray().length-this.getOptionsLengthOffset()}writeValue(t){this._lastExternalInputValue=t,this._formControl.setValue(t),this.changeDetectorRef.markForCheck()}onBlur(){this.onTouched()}registerOnChange(t){this._formControl.valueChanges.pipe(Ni(t=>t!==this._lastExternalInputValue),Object(oo.a)(()=>this._lastExternalInputValue=void 0),mh(this._onDestroy)).subscribe(t)}registerOnTouched(t){this.onTouched=t}_focus(){if(!this.searchSelectInput||!this.matSelect.panel)return;const t=this.matSelect.panel.nativeElement,e=t.scrollTop;this.searchSelectInput.nativeElement.focus(),t.scrollTop=e}_reset(t){this._formControl.setValue(""),t&&this._focus()}initMultipleHandling(){this.matSelect.ngControl?(this.previousSelectedValues=this.matSelect.ngControl.value,this.matSelect.ngControl.valueChanges.pipe(mh(this._onDestroy)).subscribe(t=>{let e=!1;if(this.matSelect.multiple&&this._formControl.value&&this._formControl.value.length&&this.previousSelectedValues&&Array.isArray(this.previousSelectedValues)){t&&Array.isArray(t)||(t=[]);const n=this.matSelect.options.map(t=>t.value);this.previousSelectedValues.forEach(r=>{t.some(t=>this.matSelect.compareWith(t,r))||n.some(t=>this.matSelect.compareWith(t,r))||(t.push(r),e=!0)})}this.previousSelectedValues=t,e&&this.matSelect._onChange(t)})):this.matSelect.multiple&&console.error("the mat-select containing ngx-mat-select-search must have a ngModel or formControl directive when multiple=true")}adjustScrollTopToFitActiveOptionIntoView(){if(this.matSelect.panel&&this.matSelect.options.length>0){const t=this.getMatOptionHeight(),e=this.matSelect._keyManager.activeItemIndex||0,n=Lu(e,this.matSelect.options,this.matSelect.optionGroups),r=(this.matOption?-1:0)+n+e,i=this.matSelect.panel.nativeElement.scrollTop,s=this.innerSelectSearch.nativeElement.offsetHeight,o=Math.floor((256-s)/t),a=Math.round((i+s)/t)-1;a>=r?this.matSelect.panel.nativeElement.scrollTop=r*t:a+o<=r&&(this.matSelect.panel.nativeElement.scrollTop=(r+1)*t-(256-s))}}updateInputWidth(){if(!this.innerSelectSearch||!this.innerSelectSearch.nativeElement)return;let t,e=this.innerSelectSearch.nativeElement;for(;e=e.parentElement;)if(e.classList.contains("mat-select-panel")){t=e;break}t&&(this.innerSelectSearch.nativeElement.style.width=t.clientWidth+"px")}getMatOptionHeight(){return this.matSelect.options.length>0?this.matSelect.options.first._getHostElement().getBoundingClientRect().height:0}getOptionsLengthOffset(){return this.matOption?1:0}};return t.\u0275fac=function(e){return new(e||t)(r.Ob(wT),r.Ob(r.h),r.Ob(fE),r.Ob(Nu,8),r.Ob(ql),r.Ob(eE,8))},t.\u0275cmp=r.Ib({type:t,selectors:[["ngx-mat-select-search"]],contentQueries:function(t,e,n){if(1&t&&r.Hb(n,kI,1),2&t){let t;r.oc(t=r.cc())&&(e.clearIcon=t.first)}},viewQuery:function(t,e){if(1&t&&(r.Dc(fI,3,r.l),r.Dc(pI,3,r.l)),2&t){let t;r.oc(t=r.cc())&&(e.searchSelectInput=t.first),r.oc(t=r.cc())&&(e.innerSelectSearch=t.first)}},hostVars:2,hostBindings:function(t,e){2&t&&r.Gb("mat-select-search-inside-mat-option",e.isInsideMatOption)},inputs:{placeholderLabel:"placeholderLabel",type:"type",noEntriesFoundLabel:"noEntriesFoundLabel",indexAndLengthScreenReaderText:"indexAndLengthScreenReaderText",clearSearchInput:"clearSearchInput",searching:"searching",disableInitialFocus:"disableInitialFocus",enableClearOnEscapePressed:"enableClearOnEscapePressed",preventHomeEndKeyPropagation:"preventHomeEndKeyPropagation",disableScrollToActiveOnOptionsChanged:"disableScrollToActiveOnOptionsChanged",ariaLabel:"ariaLabel",showToggleAllCheckbox:"showToggleAllCheckbox",toggleAllCheckboxChecked:"toggleAllCheckboxChecked",toggleAllCheckboxIndeterminate:"toggleAllCheckboxIndeterminate",toggleAllCheckboxTooltipMessage:"toggleAllCheckboxTooltipMessage",toogleAllCheckboxTooltipPosition:"toogleAllCheckboxTooltipPosition",hideClearSearchButton:"hideClearSearchButton"},outputs:{toggleAll:"toggleAll"},features:[r.Cb([{provide:lr,useExisting:Object(r.W)(()=>SI),multi:!0}])],ngContentSelectors:OI,decls:11,vars:14,consts:[["matInput","",1,"mat-select-search-input","mat-select-search-hidden"],[1,"mat-select-search-inner","mat-typography","mat-datepicker-content","mat-tab-header",3,"ngClass"],["innerSelectSearch",""],["class","mat-select-search-toggle-all-checkbox","matTooltipClass","ngx-mat-select-search-toggle-all-tooltip",3,"color","checked","indeterminate","matTooltip","matTooltipPosition","change",4,"ngIf"],["autocomplete","off",1,"mat-select-search-input","mat-input-element",3,"type","formControl","placeholder","keydown","keyup","blur"],["searchSelectInput",""],["class","mat-select-search-spinner","diameter","16",4,"ngIf"],["mat-button","","mat-icon-button","","aria-label","Clear","class","mat-select-search-clear",3,"click",4,"ngIf"],["class","mat-select-search-no-entries-found",4,"ngIf"],["matTooltipClass","ngx-mat-select-search-toggle-all-tooltip",1,"mat-select-search-toggle-all-checkbox",3,"color","checked","indeterminate","matTooltip","matTooltipPosition","change"],["diameter","16",1,"mat-select-search-spinner"],["mat-button","","mat-icon-button","","aria-label","Clear",1,"mat-select-search-clear",3,"click"],[4,"ngIf","ngIfElse"],["defaultIcon",""],[1,"mat-select-search-no-entries-found"]],template:function(t,e){1&t&&(r.jc(wI),r.Pb(0,"input",0),r.Ub(1,"div",1,2),r.xc(3,mI,1,5,"mat-checkbox",3),r.Ub(4,"input",4,5),r.bc("keydown",function(t){return e._handleKeydown(t)})("keyup",function(t){return e._handleKeyup(t)})("blur",function(){return e.onBlur()}),r.Tb(),r.xc(6,gI,1,0,"mat-spinner",6),r.xc(7,_I,4,2,"button",7),r.ic(8),r.Tb(),r.xc(9,vI,2,1,"div",8),r.gc(10,"async")),2&t&&(r.Db(1),r.kc("ngClass",r.nc(11,CI,e.matSelect.multiple,e._isToggleAllCheckboxVisible())),r.Db(2),r.kc("ngIf",e._isToggleAllCheckboxVisible()),r.Db(1),r.kc("type",e.type)("formControl",e._formControl)("placeholder",e.placeholderLabel),r.Eb("aria-label",e.ariaLabel),r.Db(2),r.kc("ngIf",e.searching),r.Db(1),r.kc("ngIf",!e.hideClearSearchButton&&e.value&&!e.searching),r.Db(2),r.kc("ngIf",r.hc(10,9,e._showNoEntriesFound$)))},directives:[I,j,pr,Lr,Ci,FT,uI,KT,qu,ch],pipes:[q],styles:[".mat-select-search-hidden[_ngcontent-%COMP%]{visibility:hidden}.mat-select-search-inner[_ngcontent-%COMP%]{position:absolute;top:0;width:100%;border-bottom-width:1px;border-bottom-style:solid;z-index:100;font-size:inherit;box-shadow:none;border-radius:4px 4px 0 0;-webkit-transform:translate3d(0,0,0)}.mat-select-search-inner.mat-select-search-inner-multiple[_ngcontent-%COMP%]{width:100%}.mat-select-search-inner.mat-select-search-inner-multiple.mat-select-search-inner-toggle-all[_ngcontent-%COMP%]{display:flex;align-items:center}.mat-select-search-inner[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{flex-basis:auto}.mat-select-search-inner[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]:-ms-input-placeholder{-ms-user-select:text}  .mat-select-search-panel{transform:none!important;overflow-x:hidden}.mat-select-search-input[_ngcontent-%COMP%]{padding:16px 44px 16px 16px;box-sizing:border-box;width:100%}[dir=rtl][_nghost-%COMP%]   .mat-select-search-input[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-input[_ngcontent-%COMP%]{padding-right:16px;padding-left:44px}.mat-select-search-no-entries-found[_ngcontent-%COMP%]{padding:16px}.mat-select-search-clear[_ngcontent-%COMP%]{position:absolute;right:4px;top:5px}[dir=rtl][_nghost-%COMP%]   .mat-select-search-clear[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-clear[_ngcontent-%COMP%]{right:auto;left:4px}.mat-select-search-spinner[_ngcontent-%COMP%]{position:absolute;right:16px;top:calc(50% - 8px)}[dir=rtl][_nghost-%COMP%]   .mat-select-search-spinner[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-spinner[_ngcontent-%COMP%]{right:auto;left:16px}.mat-select-search-inside-mat-option[_nghost-%COMP%]   .mat-select-search-input[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;height:3em;line-height:3em}.mat-select-search-inside-mat-option[_nghost-%COMP%]   .mat-select-search-clear[_ngcontent-%COMP%]{top:3px}  .mat-option[aria-disabled=true].contains-mat-select-search{position:static;padding:0}  .mat-option[aria-disabled=true].contains-mat-select-search .mat-icon{margin-right:0;margin-left:0}  .mat-option[aria-disabled=true].contains-mat-select-search .mat-option-pseudo-checkbox{display:none}  .mat-option[aria-disabled=true].contains-mat-select-search.mat-select-search-no-entries-found{height:6em}.mat-select-search-toggle-all-checkbox[_ngcontent-%COMP%]{padding-left:16px;padding-bottom:2px}[dir=rtl][_nghost-%COMP%]   .mat-select-search-toggle-all-checkbox[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-toggle-all-checkbox[_ngcontent-%COMP%]{padding-left:0;padding-right:16px}"],changeDetection:0}),t=SI=Object(Rm.c)([Object(Rm.f)(0,Object(r.q)(wT)),Object(Rm.f)(3,Object(r.C)()),Object(Rm.f)(3,Object(r.q)(Nu)),Object(Rm.f)(5,Object(r.C)()),Object(Rm.f)(5,Object(r.q)(eE))],t),t})(),EI=(()=>{let t=class{};return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[Y,Ai,Yu,VT,lh,XT,dI]]}),t})();var TI=function(t){function e(n,r){var i=t.call(this,II(n),"Firebase Storage: "+r+" ("+II(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,e.prototype),i}return Object(Rm.d)(e,t),e.prototype._codeEquals=function(t){return II(t)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}(Th.c);function II(t){return"storage/"+t}function AI(){return new TI("unknown","An unknown error occurred, please check the error payload for server response.")}function RI(){return new TI("canceled","User canceled the upload/download.")}function DI(){return new TI("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function jI(t){return new TI("invalid-argument",t)}function PI(){return new TI("app-deleted","The Firebase app was deleted.")}function NI(t){return new TI("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function LI(t,e){return new TI("invalid-format","String does not match format '"+t+"': "+e)}function FI(t){throw new TI("internal-error","Internal error: "+t)}var MI={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},VI=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function UI(t,e){switch(t){case MI.RAW:return new VI(BI(e));case MI.BASE64:case MI.BASE64URL:return new VI(zI(t,e));case MI.DATA_URL:return new VI((n=new HI(e)).base64?zI(MI.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(HS){throw LI(MI.DATA_URL,"Malformed data URL.")}return BI(e)}(n.rest),new HI(e).contentType)}var n;throw AI()}function BI(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,s=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&s)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function zI(t,e){switch(t){case MI.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw LI(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case MI.BASE64URL:var i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw LI(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(e)}catch(HS){throw LI(t,"Invalid character found")}for(var a=new Uint8Array(o.length),c=0;c<o.length;c++)a[c]=o.charCodeAt(c);return a}var HI=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw LI(MI.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=e[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}}(),qI={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function YI(t){switch(t){case"running":case"pausing":case"canceling":return qI.RUNNING;case"paused":return qI.PAUSED;case"success":return qI.SUCCESS;case"canceled":return qI.CANCELED;case"error":default:return qI.ERROR}}var GI=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),WI=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=GI.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=GI.ABORT,e(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=GI.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(){e(t)})})}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw FI("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw FI("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw FI("cannot .getStatus() before sending");try{return this.xhr_.status}catch(HS){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw FI("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),$I=function(){function t(){}return t.prototype.createXhrIo=function(){return new WI},t}();function KI(t){return"string"==typeof t||t instanceof String}function XI(t){return QI()&&t instanceof Blob}function QI(){return"undefined"!=typeof Blob}function ZI(t,e,n,r){if(r<e)throw jI("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw jI("Invalid value for '"+t+"'. Expected "+n+" or less.")}function JI(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function tA(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=JI();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(QI())return new Blob(t);throw new TI("unsupported-environment","This browser doesn't seem to support creating Blobs")}var eA=function(){function t(t,e){var n=0,r="";XI(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(XI(this.data_)){var r=(s=e,o=n,(i=this.data_).webkitSlice?i.webkitSlice(s,o):i.mozSlice?i.mozSlice(s,o):i.slice?i.slice(s,o):null);return null===r?null:new t(r)}var i,s,o;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(QI()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(tA.apply(null,r))}var i=e.map(function(t){return KI(t)?UI(MI.RAW,t).data:t.data_}),s=0;i.forEach(function(t){s+=t.byteLength});var o=new Uint8Array(s),a=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)o[a++]=t[e]}),new t(o,!0)},t.prototype.uploadData=function(){return this.data_},t}(),nA=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(HS){return new t(e,"")}if(""===n.path)return n;throw new TI("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function i(t){t.path_=decodeURIComponent(t.path)}for(var s="firebasestorage.googleapis.com".replace(/[.]/g,"\\."),o=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:i}],a=0;a<o.length;a++){var c=o[a],l=c.regex.exec(e);if(l){var u=l[c.indices.path];u||(u=""),n=new t(l[c.indices.bucket],u),c.postModify(n);break}}if(null==n)throw function(t){return new TI("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}();function rA(t){var e,n;try{e=JSON.parse(t)}catch(HS){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function iA(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function sA(t){return"https://firebasestorage.googleapis.com/v0"+t}function oA(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}function aA(t,e){return e}var cA=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||aA}}(),lA=null;function uA(){if(lA)return lA;var t=[];t.push(new cA("bucket")),t.push(new cA("generation")),t.push(new cA("metageneration")),t.push(new cA("name","fullPath",!0));var e=new cA("name");e.xform=function(t,e){return function(t){return!KI(t)||t.length<2?t:iA(t)}(e)},t.push(e);var n=new cA("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new cA("timeCreated")),t.push(new cA("updated")),t.push(new cA("md5Hash",null,!0)),t.push(new cA("cacheControl",null,!0)),t.push(new cA("contentDisposition",null,!0)),t.push(new cA("contentEncoding",null,!0)),t.push(new cA("contentLanguage",null,!0)),t.push(new cA("contentType",null,!0)),t.push(new cA("metadata","customMetadata",!0)),lA=t}function hA(t,e,n){var r=rA(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,s=0;s<i;s++){var o=n[s];r[o.local]=o.xform(r,e[o.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new nA(t.bucket,t.fullPath);return e._makeStorageReference(n)}})}(r,t),r}(t,r,n)}function dA(t,e){for(var n={},r=e.length,i=0;i<r;i++){var s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}var fA=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function pA(t){if(!t)throw AI()}function mA(t,e){return function(n,r){var i=hA(t,r,e);return pA(null!==i),i}}function gA(t){return function(e,n){var r;return(r=401===e.getStatus()?new TI("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new TI("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new TI("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function bA(t){var e=gA(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new TI("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function yA(t,e,n){var r=sA(e.fullServerUrl()),i=t.maxOperationRetryTime,s=new fA(r,"GET",mA(t,n),i);return s.errorHandler=bA(e),s}function _A(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var vA=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function wA(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(HS){pA(!1)}return pA(!!n&&-1!==(e||["active"]).indexOf(n)),n}var CA=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}();function OA(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var kA=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=uA(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise(function(t,e){r._resolve=t,r._reject=e,r._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage._getAuthToken().then(function(n){switch(e._state){case"running":t(n);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}})},t.prototype._createResumable=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var s=e.bucketOnlyServerUrl(),o=_A(e,r,i),a={name:o.fullPath},c=sA(s),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},u=dA(o,n),h=new fA(c,"POST",function(t){var e;wA(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(HS){pA(!1)}return pA(KI(e)),e},t.maxUploadRetryTime);return h.urlParams=a,h.headers=l,h.body=u,h.errorHandler=gA(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(n){var r=function(t,e,n,r){var i=new fA(n,"POST",function(t){var e=wA(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(HS){pA(!1)}n||pA(!1);var i=Number(n);return pA(!isNaN(i)),new vA(i,r.size(),"final"===e)},t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=gA(e),i}(t._ref.storage,t._ref._location,e,t._blob),i=t._ref.storage._makeRequest(r,n);t._request=i,i.getPromise().then(function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},t.prototype._continueUpload=function(){var t=this,e=262144*this._chunkMultiplier,n=new vA(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(i){var s;try{s=function(t,e,n,r,i,s,o,a){var c=new vA(0,0);if(o?(c.current=o.current,c.total=o.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw new TI("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var l=c.total-c.current,u=l;i>0&&(u=Math.min(u,i));var h=c.current,d={"X-Goog-Upload-Command":u===l?"upload, finalize":"upload","X-Goog-Upload-Offset":c.current},f=r.slice(h,h+u);if(null===f)throw DI();var p=new fA(n,"POST",function(t,n){var i,o=wA(t,["active","final"]),a=c.current+u,l=r.size();return i="final"===o?mA(e,s)(t,n):null,new vA(a,l,"final"===o,i)},e.maxUploadRetryTime);return p.headers=d,p.body=f.uploadData(),p.progressCallback=a||null,p.errorHandler=gA(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(HS){return t._error=HS,void t._transition("error")}var o=t._ref.storage._makeRequest(s,i);t._request=o,o.getPromise().then(function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},t.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e){var n=yA(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._transition("success")},t._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();o["Content-Type"]="multipart/related; boundary="+a;var c=_A(e,r,i),l=dA(c,n),u=eA.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+l+"\r\n--"+a+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===u)throw DI();var h={name:c.fullPath},d=sA(s),f=t.maxUploadRetryTime,p=new fA(d,"POST",mA(t,n),f);return p.urlParams=h,p.headers=o,p.body=u.uploadData(),p.errorHandler=gA(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=RI(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=YI(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,s=new CA(e,n,r);return this._addObserver(s),function(){i._removeObserver(s)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(e){t._notifyObserver(e)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(YI(this._state)){case qI.SUCCESS:OA(this._resolve.bind(null,this.snapshot))();break;case qI.CANCELED:case qI.ERROR:OA(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(YI(this._state)){case qI.RUNNING:case qI.PAUSED:t.next&&OA(t.next.bind(t,this.snapshot))();break;case qI.SUCCESS:t.complete&&OA(t.complete.bind(t))();break;case qI.CANCELED:case qI.ERROR:t.error&&OA(t.error.bind(t,this._error))();break;default:t.error&&OA(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),SA=function(){function t(t,e){this._service=t,this._location=e instanceof nA?e:nA.makeFromUrl(e)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new nA(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return iA(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new nA(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw NI(t)},t}();function xA(t){var e={prefixes:[],items:[]};return EA(t,e).then(function(){return e})}function EA(t,e,n){return Object(Rm.b)(this,void 0,void 0,function(){var r,i,s;return Object(Rm.e)(this,function(o){switch(o.label){case 0:return[4,TA(t,{pageToken:n})];case 1:return r=o.sent(),(i=e.prefixes).push.apply(i,r.prefixes),(s=e.items).push.apply(s,r.items),null==r.nextPageToken?[3,3]:[4,EA(t,e,r.nextPageToken)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function TA(t,e){return Object(Rm.b)(this,void 0,void 0,function(){var n,r,i;return Object(Rm.e)(this,function(s){switch(s.label){case 0:return null!=e&&"number"==typeof e.maxResults&&ZI("options.maxResults",1,1e3,e.maxResults),[4,t.storage._getAuthToken()];case 1:return n=s.sent(),i=function(t,e,n,r,i){var s={};s.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);var o=sA(e.bucketOnlyServerUrl()),a=t.maxOperationRetryTime,c=new fA(o,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=rA(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,s=n.prefixes;i<s.length;i++){var o=s[i].replace(/\/$/,""),a=t._makeStorageReference(new nA(e,o));r.prefixes.push(a)}if(n.items)for(var c=0,l=n.items;c<l.length;c++)a=t._makeStorageReference(new nA(e,l[c].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return pA(null!==i),i}}(t,e.bucket),a);return c.urlParams=s,c.errorHandler=gA(e),c}(t.storage,t._location,"/",(r=e||{}).pageToken,r.maxResults),[2,t.storage._makeRequest(i,n).getPromise()]}})})}function IA(t,e){var n=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new nA(t._location.bucket,n);return new SA(t.storage,r)}var AA=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),RA=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new AA(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then(function(e){if(t)return t(new AA(e,n,n._ref))},e)},t.prototype.on=function(t,e,n,r){var i=this,s=void 0;return e&&(s="function"==typeof e?function(t){return e(new AA(t,i,i._ref))}:{next:e.next?function(t){return e.next(new AA(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,s,n||void 0,r||void 0)},t}(),DA=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new jA(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new jA(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),jA=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(IA(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new RA(function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new kA(t,new eA(e),n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=MI.RAW),this._throwIfRoot("putString");var r=UI(e,t),i=Object(Rm.a)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new RA(new kA(this._delegate,new eA(r.data,!0),i),this)},t.prototype.listAll=function(){var t=this;return xA(this._delegate).then(function(e){return new DA(e,t.storage)})},t.prototype.list=function(t){var e=this;return TA(this._delegate,t).then(function(t){return new DA(t,e.storage)})},t.prototype.getMetadata=function(){return function(t){return Object(Rm.b)(this,void 0,void 0,function(){var e,n;return Object(Rm.e)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=yA(t.storage,t._location,uA()),[2,t.storage._makeRequest(n,e).getPromise()]}})})}(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return Object(Rm.b)(this,void 0,void 0,function(){var n,r;return Object(Rm.e)(this,function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage._getAuthToken()];case 1:return n=i.sent(),r=function(t,e,n,r){var i=sA(e.fullServerUrl()),s=dA(n,r),o=t.maxOperationRetryTime,a=new fA(i,"PATCH",mA(t,r),o);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=s,a.errorHandler=bA(e),a}(t.storage,t._location,e,uA()),[2,t.storage._makeRequest(r,n).getPromise()]}})})}(this._delegate,t)},t.prototype.getDownloadURL=function(){return function(t){return Object(Rm.b)(this,void 0,void 0,function(){var e,n;return Object(Rm.e)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=function(t,e,n){var r=sA(e.fullServerUrl()),i=t.maxOperationRetryTime,s=new fA(r,"GET",function(t,e){return function(n,r){var i=hA(t,r,e);return pA(null!==i),function(t,e){var n=rA(e);if(null===n)return null;if(!KI(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map(function(e){var n=t.fullPath;return sA("/b/"+i(t.bucket)+"/o/"+i(n))+oA({alt:"media",token:e})})[0]}(i,r)}}(t,n),i);return s.errorHandler=bA(e),s}(t.storage,t._location,uA()),[2,t.storage._makeRequest(n,e).getPromise().then(function(t){if(null===t)throw new TI("no-download-url","The given file does not have any download URLs.");return t})]}})})}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return Object(Rm.b)(this,void 0,void 0,function(){var e,n;return Object(Rm.e)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=function(t,e){var n=sA(e.fullServerUrl()),r=new fA(n,"DELETE",function(t,e){},t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=bA(e),r}(t.storage,t._location),[2,t.storage._makeRequest(n,e).getPromise()]}})})}(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw NI(t)},t}(),PA=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),NA=function(){function t(t,e,n,r,i,s,o,a,c,l,u){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=s.slice(),this.callback_=o,this.errorCallback_=a,this.progressCallback_=l,this.timeout_=c,this.pool_=u,this.promise_=new Promise(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,s=t.reject_,o=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(o,o.getResponseText());void 0!==a?i(a):i()}catch(HS){s(HS)}else null!==o?((r=AI()).serverResponse=o.getResponseText(),s(t.errorCallback_?t.errorCallback_(o,r):r)):s(r=n.canceled?t.appDelete_?PI():RI():new TI("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new LA(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,s=null,o=!1,a=0;function c(){return 2===a}var l=!1;function u(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];l||(l=!0,n.apply(null,t))}function h(e){s=setTimeout(function(){s=null,function(e,n){if(n)e(!1,new LA(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then(function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===GI.NO_ERROR,s=n.getStatus();if(r&&!t.isRetryStatusCode_(s)){var o=-1!==t.successCodes_.indexOf(s);e(!0,new LA(o,n))}else{var a=n.getErrorCode()===GI.ABORT;e(!1,new LA(!1,null,a))}})}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(d,c())},e)}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!l)if(t)u.call.apply(u,Object(Rm.i)([null,t],e));else{var r;c()||o?u.call.apply(u,Object(Rm.i)([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r))}}var f=!1;function p(t){f||(f=!0,l||(null!==s?(t||(a=2),clearTimeout(s),h(0)):t||(a=1)))}return h(0),setTimeout(function(){o=!0,p(!0)},r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),LA=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function FA(t){return/^[A-Za-z]+:\/\//.test(t)}function MA(t,e){if(t instanceof zA){var n=t;if(null==n._bucket)throw new TI("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new SA(n,n._bucket);return null!=e?MA(r,e):r}if(void 0!==e){if(e.includes(".."))throw jI('`path` param cannot contain ".."');return IA(t,e)}return t}function VA(t,e){if(e&&FA(e)){if(t instanceof zA)return new SA(t,e);throw jI("To use ref(service, url), the first argument must be a Storage instance.")}return MA(t,e)}var UA,BA,zA=function(){function t(t,e,n,r,i){var s,o;this.app=t,this._authProvider=e,this._pool=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?nA.makeFromBucketSpec(r):null==(o=null==(s=this.app.options)?void 0:s.storageBucket)?null:nA.makeFromBucketSpec(o)}return Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){ZI("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){ZI("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return Object(Rm.b)(this,void 0,void 0,function(){var t,e;return Object(Rm.e)(this,function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new SA(this,t)},t.prototype._makeRequest=function(t,e){var n=this;if(this._deleted)return new PA(PI());var r=function(t,e,n,r,i){var s=oA(t.urlParams),o=t.url+s,a=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(a,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(a,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(a,i),new NA(o,t.method,a,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,e,this._pool,this._firebaseVersion);return this._requests.add(r),r.getPromise().then(function(){return n._requests.delete(r)},function(){return n._requests.delete(r)}),r},t}(),HA=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(FA(t))throw jI("ref() expected a child path but got a URL, use refFromURL instead.");return new jA(VA(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!FA(t))throw jI("refFromURL() expected a full URL but got a child path, use ref() instead.");try{nA.makeFromUrl(t)}catch(HS){throw jI("refFromUrl() expected a valid full URL but got an invalid one.")}return new jA(VA(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t}();function qA(t){const e=function(t){return new nr.a(e=>{const n=t=>e.next(t);n(t.snapshot);const r=t.on("state_changed",n);return t.then(t=>{n(t),e.complete()},r=>{n(t.snapshot),(t=>{e.error(t)})(r)}),function(){r()}}).pipe(yl(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Object(ir.a)(t=>t.bytesTransferred/t.totalBytes*100))}}function YA(t,e,n){return{getDownloadURL:()=>Object(Ri.a)(void 0).pipe(Object(hh.b)(e.outsideAngular),Ps(()=>t.getDownloadURL()),n),getMetadata:()=>Object(Ri.a)(void 0).pipe(Object(hh.b)(e.outsideAngular),Ps(()=>t.getMetadata()),n),delete:()=>Object(or.a)(t.delete()),child:r=>YA(t.child(r),e,n),updateMetadata:e=>Object(or.a)(t.updateMetadata(e)),put:(e,n)=>qA(t.put(e,n)),putString:(e,n,r)=>qA(t.putString(e,n,r)),listAll:()=>Object(or.a)(t.listAll())}}BA={TaskState:qI,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:MI,Storage:zA,Reference:jA},(UA=xh.a).INTERNAL.registerComponent(new GS.a("storage",function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new HA(n,new zA(n,r,new $I,e,xh.a.SDK_VERSION))},"PUBLIC").setServiceProps(BA).setMultipleInstances(!0)),UA.registerVersion("@firebase/storage","0.4.3");const GA=new r.s("angularfire2.storageBucket"),WA=new r.s("angularfire2.storage.maxUploadRetryTime"),$A=new r.s("angularfire2.storage.maxOperationRetryTime");let KA=(()=>{class t{constructor(t,e,n,r,i,s,o){this.schedulers=new kh.e(i),this.keepUnstableUntilFirst=Object(kh.i)(this.schedulers);const a=Object(kh.h)(t,i,e);this.storage=Object(kh.g)(`${a.name}.storage.${n}`,"AngularFireStorage",a,()=>{const t=i.runOutsideAngular(()=>a.storage(n||void 0));return s&&t.setMaxUploadRetryTime(s),o&&t.setMaxOperationRetryTime(o),t},[s,o])}ref(t){return YA(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(t){return YA(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return YA(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(kh.c),r.Yb(kh.b,8),r.Yb(GA,8),r.Yb(r.D),r.Yb(r.B),r.Yb(WA,8),r.Yb($A,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(kh.c),Object(r.Yb)(kh.b,8),Object(r.Yb)(GA,8),Object(r.Yb)(r.D),Object(r.Yb)(r.B),Object(r.Yb)(WA,8),Object(r.Yb)($A,8))},token:t,providedIn:"any"}),t})(),XA=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)}}),t})(),QA=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[KA],imports:[XA]}),t})(),ZA=(()=>{class t{constructor(t){this.storage=t}ngOnInit(){if(this.player.avatar){const t=this.storage.ref("avatars/"+this.player.id+"/"+this.player.avatar);this.avatarUrl=t.getDownloadURL()}}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(KA))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-avatar"]],inputs:{player:"player"},decls:3,vars:3,consts:[[1,"avatar"],["alt","",1,"img","img__avatar",3,"src"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Pb(1,"img",1),r.gc(2,"async"),r.Tb()),2&t&&(r.Db(1),r.kc("src",r.hc(2,1,e.avatarUrl),r.sc))},pipes:[q],styles:[".avatar[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;background-image:url(default_avatar.21acb4c394ad50b95fe9.svg);background-repeat:no-repeat;background-size:contain;background-position:50%;background-color:#d5d5d5;overflow:hidden;margin-right:15px}.img__avatar[_ngcontent-%COMP%]{width:100%;background:#f5f5f5}"]}),t})();const JA=["multiSelect"];function tR(t,e){if(1&t&&(r.Ub(0,"span"),r.zc(1),r.Ub(2,"span"),r.zc(3,", "),r.Tb(),r.Tb()),2&t){const t=e.$implicit;r.Db(1),r.Ac(t.name)}}function eR(t,e){if(1&t){const t=r.Vb();r.Ub(0,"mat-option",11),r.bc("click",function(){r.rc(t);const n=e.$implicit;return r.fc().onSelectedPlayer(n)}),r.Pb(1,"app-avatar",12),r.zc(2),r.Tb()}if(2&t){const t=e.$implicit;r.kc("value",t),r.Db(1),r.kc("player",t),r.Db(1),r.Cc(" ",t.name," ",t.surname," ")}}const nR=function(t){return{top:t}};let rR=(()=>{class t{constructor(t){this.teamsService=t,this.players=this.teamsService.allPlayers,this.playersCtrl=new fi,this.playersFilterCtrl=new fi,this.filteredPlayers=new fh(1),this._onDestroy=new gs.a}ngOnInit(){this.setInitialSelection(),this.loadInitialPlayerList(),this.playersFilterCtrl.valueChanges.pipe(mh(this._onDestroy)).subscribe(()=>{this.filterOptions()})}ngAfterViewInit(){this.setInitialValue()}ngOnDestroy(){this._onDestroy.next(),this._onDestroy.complete()}setInitialValue(){this.filteredPlayers.pipe(Ms(1),mh(this._onDestroy)).subscribe(()=>{this.multiSelect.compareWith=(t,e)=>t&&e&&t.id===e.id})}setInitialSelection(){this.teamsService.selectedPlayersData.subscribe(t=>{this.playersCtrl.setValue(t)})}loadInitialPlayerList(){this.teamsService.allPlayersData.subscribe(t=>{this.filteredPlayers.next(t.slice())})}onSelectedPlayer(t){this.teamsService.onSelectedPlayerService(t)}filterOptions(){if(!this.players)return;let t=this.playersFilterCtrl.value;t?(t=t.trim().toLowerCase(),this.filteredPlayers.next(this.players.filter(e=>e.name.toLowerCase().indexOf(t)>-1))):this.loadInitialPlayerList()}onCloseOptions(){this.multiSelect.close()}onResetForm(){this.teamsService.deleteAllSelectedPlayersService()}openedChangeSelect(t){this.openedOrClosedSelect=t,this.disabledScrollBody(),!t&&this.playersCtrl.value&&this.playersCtrl.value.length>0&&this.teamsService.generateTeemsService()}disabledScrollBody(){this.openedOrClosedSelect?document.body.classList.add("disabled__scroll"):document.body.classList.remove("disabled__scroll")}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(wx))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-select"]],viewQuery:function(t,e){if(1&t&&r.Dc(JA,1),2&t){let t;r.oc(t=r.cc())&&(e.multiSelect=t.first)}},decls:17,vars:14,consts:[[1,"main__select"],[1,"selected__label",3,"ngClass"],[1,"selected__players",3,"ngClass"],[4,"ngFor","ngForOf"],["panelClass","example-long-panel",3,"formControl","multiple","openedChange"],["multiSelect",""],["mat-icon-button","",1,"btn","btn__home",3,"click"],["color","primary"],["placeholderLabel","\u041d\u0430\u0439\u0442\u0438 \u0438\u0433\u0440\u043e\u043a\u0430...","noEntriesFoundLabel","\u0421\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439 \u0438\u0433\u0440\u043e\u043a \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d","disableInitialFocus","false","preventHomeEndKeyPropagation","false",3,"formControl"],[3,"value","click",4,"ngFor","ngForOf"],["mat-button","","color","primary",1,"btn","btn__clear",3,"disabled","click"],[3,"value","click"],[1,"avatar__min",3,"player"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"label",1),r.zc(2," \u0418\u0433\u0440\u043e\u043a\u0438: "),r.Tb(),r.Ub(3,"div",2),r.xc(4,tR,4,1,"span",3),r.Tb(),r.Ub(5,"mat-form-field"),r.Ub(6,"mat-select",4,5),r.bc("openedChange",function(t){return e.openedChangeSelect(t)}),r.Ub(8,"button",6),r.bc("click",function(){return e.onCloseOptions()}),r.Ub(9,"mat-icon",7),r.zc(10,"home"),r.Tb(),r.Tb(),r.Ub(11,"mat-option"),r.Pb(12,"ngx-mat-select-search",8),r.Tb(),r.xc(13,eR,3,4,"mat-option",9),r.gc(14,"async"),r.Tb(),r.Tb(),r.Ub(15,"button",10),r.bc("click",function(){return e.onResetForm()}),r.zc(16," \u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c "),r.Tb(),r.Tb()),2&t&&(r.Db(1),r.kc("ngClass",r.mc(10,nR,e.openedOrClosedSelect||e.playersCtrl.value&&e.playersCtrl.value.length>0)),r.Db(2),r.kc("ngClass",r.mc(12,nR,e.openedOrClosedSelect)),r.Db(1),r.kc("ngForOf",null==e.playersCtrl?null:e.playersCtrl.value),r.Db(2),r.kc("formControl",e.playersCtrl)("multiple",!0),r.Db(6),r.kc("formControl",e.playersFilterCtrl),r.Db(1),r.kc("ngForOf",r.hc(14,8,e.filteredPlayers)),r.Db(2),r.kc("disabled",!e.playersCtrl.value||0===e.playersCtrl.value.length))},directives:[I,R,eE,wT,Lr,Ci,qu,ch,Nu,xI,ZA],pipes:[q],styles:['.main__select[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:flex-end}.selected__label[_ngcontent-%COMP%]{position:absolute;top:15px;left:0;right:20px;height:22px;font-size:14px;color:#949494;transition:.3s ease-out}.selected__label.top[_ngcontent-%COMP%]{top:-5px;right:0;font-size:12px;color:rgba(0,0,0,.54)}.selected__players[_ngcontent-%COMP%]{position:absolute;top:15px;left:0;right:20px;height:22px;font-size:14px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;z-index:9;pointer-events:none;transition:.3s ease-out}.selected__players.top[_ngcontent-%COMP%]{top:-5px;left:50px;right:0;font-size:12px;color:rgba(0,0,0,.54)}.selected__players[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000}.selected__players[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:last-child   span[_ngcontent-%COMP%]{display:none}.mat-form-field[_ngcontent-%COMP%]{width:100%}.btn__home[_ngcontent-%COMP%]{position:absolute;top:3px;left:6px;width:35px;height:35px;line-height:10px;border-radius:50%;z-index:999;cursor:pointer}.btn__home[_ngcontent-%COMP%]:hover{background:#f5f5f5}  .mat-select-panel-wrap:before{content:"";position:absolute;background-image:url(fon_select.af7cbb232e727b251003.svg);background-attachment:fixed;background-repeat:no-repeat;background-size:200px;background-position:62% 130px;width:calc(100% + 20px);height:500px;z-index:9;pointer-events:none;-webkit-animation:opacity .7s ease-in alternate;animation:opacity .7s ease-in alternate}@-webkit-keyframes opacity{0%{opacity:0}to{opacity:1}}@keyframes opacity{0%{opacity:0}to{opacity:1}}  .mat-select-search-panel{min-width:100%!important}  .cdk-overlay-pane{transform:none!important}  .mat-select-panel.example-long-panel{max-height:500px}@media screen and (max-width:900px){  .cdk-overlay-pane{left:25px!important}  .mat-select-panel.example-long-panel{min-width:calc(100% + 50px)!important;max-height:380px}  .mat-select-panel-wrap:before{background-size:147px;background-position-y:127px}}@media screen and (max-width:560px){  .cdk-overlay-pane{top:55px!important;left:10px!important}  .mat-select-panel.example-long-panel{min-width:calc(100% + 20px)!important}.btn__clear.mat-button[_ngcontent-%COMP%]{line-height:30px}  .mat-select-panel-wrap:before{background-position:90% 120px}}']}),t})(),iR=(()=>{class t{constructor(t){this.teamsService=t}ngOnInit(){}onDeletePlayer(t){this.teamsService.onSelectedPlayerService(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(wx))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-card"]],inputs:{player:"player"},decls:9,vars:3,consts:[[1,"card"],[1,"avatar__max",3,"player"],[1,"card__name"],[1,"card__surname"],["mat-icon-button","",1,"btn","btn__delete",3,"click"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Pb(1,"app-avatar",1),r.Ub(2,"span",2),r.zc(3),r.Tb(),r.Ub(4,"span",3),r.zc(5),r.Tb(),r.Ub(6,"button",4),r.bc("click",function(){return e.onDeletePlayer(e.player)}),r.Ub(7,"mat-icon"),r.zc(8,"clear"),r.Tb(),r.Tb(),r.Tb()),2&t&&(r.Db(1),r.kc("player",e.player),r.Db(2),r.Ac(e.player.name),r.Db(2),r.Ac(e.player.surname))},directives:[ZA,qu,ch],styles:[".btn__delete[_ngcontent-%COMP%]{width:30px;height:30px;line-height:30px}.btn__delete[_ngcontent-%COMP%]:hover{background:#f5f5f5}"]}),t})();function sR(t,e){1&t&&r.Pb(0,"app-card",3),2&t&&r.kc("player",e.$implicit)}function oR(t,e){if(1&t&&(r.Ub(0,"div",1),r.Ub(1,"p"),r.zc(2,"Selected Players:"),r.Tb(),r.xc(3,sR,1,1,"app-card",2),r.gc(4,"async"),r.Tb()),2&t){const t=r.fc();r.Db(3),r.kc("ngForOf",r.hc(4,1,t.selectedPlayersData))}}let aR=(()=>{class t{constructor(t){this.teamsService=t,this.selectedPlayersData=this.teamsService.selectedPlayersData,this.selectedPlayers=[],this.teamsService.selectedPlayersData.subscribe(t=>{this.selectedPlayers=t})}ngOnInit(){this.teamsService.ganereteTeams.subscribe(()=>{console.log("ganereteTeams - TeamsComponent")})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(wx))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-teams"]],decls:1,vars:1,consts:[["class","teams",4,"ngIf"],[1,"teams"],["class","card player__id positon team",3,"player",4,"ngFor","ngForOf"],[1,"card","player__id","positon","team",3,"player"]],template:function(t,e){1&t&&r.xc(0,oR,5,3,"div",0),2&t&&r.kc("ngIf",e.selectedPlayers.length>=1)},directives:[j,R,iR],pipes:[q],styles:[""]}),t})(),cR=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["app-main"]],decls:6,vars:0,consts:[[1,"main"],["mat-button","","routerLink","/players","routerLinkActive","active",1,"btn","arrow__btn"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"button",1),r.Ub(2,"mat-icon"),r.zc(3,"keyboard_backspace"),r.Tb(),r.Tb(),r.Pb(4,"app-select"),r.Pb(5,"app-teams"),r.Tb())},directives:[qu,Fc,Uc,ch,rR,aR],styles:[".arrow__btn[_ngcontent-%COMP%]{position:absolute;top:0;right:0;transform:rotate(180deg)}"]}),t})();function lR(t,e){}class uR{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const hR={dialogContainer:Rt("dialogContainer",[Nt("void, exit",Pt({opacity:0,transform:"scale(0.7)"})),Nt("enter",Pt({transform:"none"})),Ft("* => enter",Dt("150ms cubic-bezier(0, 0, 0.2, 1)",Pt({transform:"none",opacity:1}))),Ft("* => void, * => exit",Dt("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Pt({opacity:0})))])};let dR=(()=>{class t extends vE{constructor(t,e,n,i,s,o){super(),this._elementRef=t,this._focusTrapFactory=e,this._changeDetectorRef=n,this._config=s,this._focusMonitor=o,this._animationStateChanged=new r.o,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=t=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(t)),this._ariaLabelledBy=s.ariaLabelledBy||null,this._document=i}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const e=this._document.activeElement,n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement)}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,e=this._document.activeElement;return t===e||t.contains(e)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(Bl),r.Ob(r.h),r.Ob(o,8),r.Ob(uR),r.Ob($l))},t.\u0275dir=r.Jb({type:t,viewQuery:function(t,e){if(1&t&&r.Dc(CE,3),2&t){let t;r.oc(t=r.cc())&&(e._portalOutlet=t.first)}},features:[r.Ab]}),t})(),fR=(()=>{class t extends dR{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:e}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:e}))}_onAnimationStart({toState:t,totalTime:e}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:e}):"exit"!==t&&"void"!==t||this._animationStateChanged.next({state:"closing",totalTime:e})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return pR(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&r.vc("@dialogContainer.start",function(t){return e._onAnimationStart(t)})("@dialogContainer.done",function(t){return e._onAnimationDone(t)}),2&t&&(r.Xb("id",e._id),r.Eb("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),r.wc("@dialogContainer",e._state))},features:[r.Ab],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&r.xc(0,lR,0,0,"ng-template",0)},directives:[CE],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[hR.dialogContainer]}}),t})();const pR=r.Wb(fR);let mR=0;class gR{constructor(t,e,n="mat-dialog-"+mR++){this._overlayRef=t,this._containerInstance=e,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new gs.a,this._afterClosed=new gs.a,this._beforeClosed=new gs.a,this._state=0,e._id=n,e._animationStateChanged.pipe(Ni(t=>"opened"===t.state),Ms(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Ni(t=>"closed"===t.state),Ms(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(Ni(t=>27===t.keyCode&&!this.disableClose&&!gl(t))).subscribe(t=>{t.preventDefault(),bR(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():bR(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Ni(t=>"closing"===t.state),Ms(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._getPositionStrategy().width(t).height(e),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function bR(t,e,n){return void 0!==t._containerInstance&&(t._containerInstance._closeInteractionType=e),t.close(n)}const yR=new r.s("MatDialogData"),_R=new r.s("mat-dialog-default-options"),vR=new r.s("mat-dialog-scroll-strategy"),wR={provide:vR,deps:[XE],useFactory:function(t){return()=>t.scrollStrategies.block()}};let CR=(()=>{class t{constructor(t,e,n,r,i,s,o,a,c){this._overlay=t,this._injector=e,this._defaultOptions=n,this._parentDialog=r,this._overlayContainer=i,this._dialogRefConstructor=o,this._dialogContainerType=a,this._dialogDataToken=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new gs.a,this._afterOpenedAtThisLevel=new gs.a,this._ariaHiddenElements=new Map,this.afterAllClosed=Rs(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Bs(void 0))),this._scrollStrategy=s}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,e){(e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new uR)).id&&this.getDialogById(e.id);const n=this._createOverlay(e),r=this._attachDialogContainer(n,e),i=this._attachDialogContent(t,r,n,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(i),i.afterClosed().subscribe(()=>this._removeOpenDialog(i)),this.afterOpened.next(i),r._initializeWithAttachedContent(),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const e=this._getOverlayConfig(t);return this._overlay.create(e)}_getOverlayConfig(t){const e=new jE({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachDialogContainer(t,e){const n=r.t.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:uR,useValue:e}]}),i=new bE(this._dialogContainerType,e.viewContainerRef,n,e.componentFactoryResolver);return t.attach(i).instance}_attachDialogContent(t,e,n,i){const s=new this._dialogRefConstructor(n,e,i.id);if(t instanceof r.N)e.attachTemplatePortal(new yE(t,null,{$implicit:i.data,dialogRef:s}));else{const n=this._createInjector(i,s,e),r=e.attachComponentPortal(new bE(t,i.viewContainerRef,n));s.componentInstance=r.instance}return s.updateSize(i.width,i.height).updatePosition(i.position),s}_createInjector(t,e,n){const i=t&&t.viewContainerRef&&t.viewContainerRef.injector,s=[{provide:this._dialogContainerType,useValue:n},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:e}];return!t.direction||i&&i.get(Jl,null)||s.push({provide:Jl,useValue:{value:t.direction,change:Object(Ri.a)()}}),r.t.create({parent:i||this._injector,providers:s})}_removeOpenDialog(t){const e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const e=t.parentElement.children;for(let n=e.length-1;n>-1;n--){let r=e[n];r===t||"SCRIPT"===r.nodeName||"STYLE"===r.nodeName||r.hasAttribute("aria-live")||(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(XE),r.Ob(r.t),r.Ob(void 0),r.Ob(void 0),r.Ob(UE),r.Ob(void 0),r.Ob(r.P),r.Ob(r.P),r.Ob(r.s))},t.\u0275dir=r.Jb({type:t}),t})(),OR=(()=>{class t extends CR{constructor(t,e,n,r,i,s,o){super(t,e,r,s,o,i,gR,fR,yR)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(XE),r.Yb(r.t),r.Yb(w,8),r.Yb(_R,8),r.Yb(vR),r.Yb(t,12),r.Yb(UE))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),kR=0,SR=(()=>{class t{constructor(t,e,n){this.dialogRef=t,this._elementRef=e,this._dialog=n,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=IR(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const e=t._matDialogClose||t._matDialogCloseResult;e&&(this.dialogResult=e.currentValue)}_onButtonClick(t){bR(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(gR,8),r.Ob(r.l),r.Ob(OR))},t.\u0275dir=r.Jb({type:t,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.bc("click",function(t){return e._onButtonClick(t)}),2&t&&r.Eb("aria-label",e.ariaLabel||null)("type",e.type)},inputs:{type:"type",dialogResult:["mat-dialog-close","dialogResult"],ariaLabel:["aria-label","ariaLabel"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[r.Bb]}),t})(),xR=(()=>{class t{constructor(t,e,n){this._dialogRef=t,this._elementRef=e,this._dialog=n,this.id="mat-dialog-title-"+kR++}ngOnInit(){this._dialogRef||(this._dialogRef=IR(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const t=this._dialogRef._containerInstance;t&&!t._ariaLabelledBy&&(t._ariaLabelledBy=this.id)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(gR,8),r.Ob(r.l),r.Ob(OR))},t.\u0275dir=r.Jb({type:t,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(t,e){2&t&&r.Xb("id",e.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),t})(),ER=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),t})(),TR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),t})();function IR(t,e){let n=t.nativeElement.parentElement;for(;n&&!n.classList.contains("mat-dialog-container");)n=n.parentElement;return n?e.find(t=>t.id===n.id):null}let AR=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[OR,wR],imports:[[nT,OE,au],au]}),t})(),RR=(()=>{class t{constructor(t,e,n){this.teamsService=t,this.dialogRef=e,this.data=n}onNoClick(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(wx),r.Ob(gR),r.Ob(yR))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-popup"]],decls:10,vars:5,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-raised-button","","color","primary",3,"mat-dialog-close"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,e){1&t&&(r.Ub(0,"h1",0),r.zc(1),r.Tb(),r.Ub(2,"div",1),r.Ub(3,"p"),r.zc(4),r.Tb(),r.Tb(),r.Ub(5,"div",2),r.Ub(6,"button",3),r.zc(7),r.Tb(),r.Ub(8,"button",4),r.bc("click",function(){return e.onNoClick()}),r.zc(9),r.Tb(),r.Tb()),2&t&&(r.Db(1),r.Ac(e.data.title),r.Db(3),r.Ac(e.data.content),r.Db(2),r.kc("mat-dialog-close",e.data.status),r.Db(1),r.Bc(" ",e.data.yes," "),r.Db(2),r.Bc(" ",e.data.no," "))},directives:[xR,ER,TR,qu,SR],styles:["[_nghost-%COMP%]{text-align:center}[_nghost-%COMP%]   .mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:center}"]}),t})();const DR=[[["caption"]],[["colgroup"],["col"]]],jR=["caption","colgroup, col"];function PR(t){return class extends t{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=Cl(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const NR=new r.s("CDK_TABLE");let LR=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.N))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdkCellDef",""]]}),t})(),FR=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.N))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdkHeaderCellDef",""]]}),t})(),MR=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.N))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdkFooterCellDef",""]]}),t})();class VR{}const UR=PR(VR);let BR=(()=>{class t extends UR{constructor(t){super(),this._table=t,this._stickyEnd=!1}get name(){return this._name}set name(t){this._setNameInput(t)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const e=this._stickyEnd;this._stickyEnd=Cl(t),this._hasStickyChanged=e!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(NR,8))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,e,n){if(1&t&&(r.Hb(n,LR,1),r.Hb(n,FR,1),r.Hb(n,MR,1)),2&t){let t;r.oc(t=r.cc())&&(e.cell=t.first),r.oc(t=r.cc())&&(e.headerCell=t.first),r.oc(t=r.cc())&&(e.footerCell=t.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[r.Cb([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),r.Ab]}),t})();class zR{constructor(t,e){const n=e.nativeElement.classList;for(const r of t._columnCssClassName)n.add(r)}}let HR=(()=>{class t extends zR{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(BR),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[r.Ab]}),t})(),qR=(()=>{class t extends zR{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(BR),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:["role","gridcell",1,"cdk-cell"],features:[r.Ab]}),t})();class YR{constructor(){this.tasks=[],this.endTasks=[]}}const GR=new r.s("_COALESCED_STYLE_SCHEDULER");let WR=(()=>{class t{constructor(t){this._ngZone=t,this._currentSchedule=null,this._destroyed=new gs.a}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new YR,this._getScheduleObservable().pipe(mh(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new YR;for(const e of t.tasks)e();for(const e of t.endTasks)e()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?Object(or.a)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Ms(1))}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.B))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),$R=(()=>{class t{constructor(t,e){this.template=t,this._differs=e}ngOnChanges(t){if(!this._columnsDiffer){const e=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(e).create(),this._columnsDiffer.diff(e)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof QR?t.headerCell.template:this instanceof tD?t.footerCell.template:t.cell.template}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.N),r.Ob(r.u))},t.\u0275dir=r.Jb({type:t,features:[r.Bb]}),t})();class KR extends $R{}const XR=PR(KR);let QR=(()=>{class t extends XR{constructor(t,e,n){super(t,e),this._table=n}ngOnChanges(t){super.ngOnChanges(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.N),r.Ob(r.u),r.Ob(NR,8))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[r.Ab,r.Bb]}),t})();class ZR extends $R{}const JR=PR(ZR);let tD=(()=>{class t extends JR{constructor(t,e,n){super(t,e),this._table=n}ngOnChanges(t){super.ngOnChanges(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.N),r.Ob(r.u),r.Ob(NR,8))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[r.Ab,r.Bb]}),t})(),eD=(()=>{class t extends $R{constructor(t,e,n){super(t,e),this._table=n}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.N),r.Ob(r.u),r.Ob(NR,8))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[r.Ab]}),t})(),nD=(()=>{class t{constructor(e){this._viewContainer=e,t.mostRecentCellOutlet=this}ngOnDestroy(){t.mostRecentCellOutlet===this&&(t.mostRecentCellOutlet=null)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.S))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdkCellOutlet",""]]}),t.mostRecentCellOutlet=null,t})(),rD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&r.Qb(0,0)},directives:[nD],encapsulation:2}),t})(),iD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&r.Qb(0,0)},directives:[nD],encapsulation:2}),t})(),sD=(()=>{class t{constructor(t){this.templateRef=t}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.N))},t.\u0275dir=r.Jb({type:t,selectors:[["ng-template","cdkNoDataRow",""]]}),t})();const oD=["top","bottom","left","right"];class aD{constructor(t,e,n,r,i=!0,s=!0){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=n,this._coalescedStyleScheduler=r,this._isBrowser=i,this._needsPositionStickyOnElement=s}clearStickyPositioning(t,e){const n=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){n.push(r);for(let t=0;t<r.children.length;t++)n.push(r.children[t])}this._scheduleStyleChanges(()=>{for(const t of n)this._removeStickyStyle(t,e)})}updateStickyColumns(t,e,n){if(!t.length||!this._isBrowser||!e.some(t=>t)&&!n.some(t=>t))return;const r=t[0],i=r.children.length,s=this._getCellWidths(r),o=this._getStickyStartColumnPositions(s,e),a=this._getStickyEndColumnPositions(s,n);this._scheduleStyleChanges(()=>{const r="rtl"===this.direction,s=r?"right":"left",c=r?"left":"right";for(const l of t)for(let t=0;t<i;t++){const r=l.children[t];e[t]&&this._addStickyStyle(r,s,o[t]),n[t]&&this._addStickyStyle(r,c,a[t])}})}stickRows(t,e,n){if(!this._isBrowser)return;const r="bottom"===n?t.slice().reverse():t,i="bottom"===n?e.slice().reverse():e,s=[],o=[];for(let a=0,c=0;a<r.length;a++){if(s[a]=c,!i[a])continue;const t=r[a];o[a]=this._isNativeHtmlTable?Array.from(t.children):[t],a!==r.length-1&&(c+=t.getBoundingClientRect().height)}this._scheduleStyleChanges(()=>{for(let t=0;t<r.length;t++){if(!i[t])continue;const e=s[t];for(const r of o[t])this._addStickyStyle(r,n,e)}})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const n=t.querySelector("tfoot");this._scheduleStyleChanges(()=>{e.some(t=>!t)?this._removeStickyStyle(n,["bottom"]):this._addStickyStyle(n,"bottom",0)})}_removeStickyStyle(t,e){for(const n of e)t.style[n]="";oD.some(n=>-1===e.indexOf(n)&&t.style[n])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,n){t.classList.add(this._stickCellCss),t.style[e]=`${n}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let n=0;for(const r of oD)t.style[r]&&(n+=e[r]);return n?`${n}`:""}_getCellWidths(t){const e=[],n=t.children;for(let r=0;r<n.length;r++)e.push(n[r].getBoundingClientRect().width);return e}_getStickyStartColumnPositions(t,e){const n=[];let r=0;for(let i=0;i<t.length;i++)e[i]&&(n[i]=r,r+=t[i]);return n}_getStickyEndColumnPositions(t,e){const n=[];let r=0;for(let i=t.length;i>0;i--)e[i]&&(n[i]=r,r+=t[i]);return n}_scheduleStyleChanges(t){this._coalescedStyleScheduler?this._coalescedStyleScheduler.schedule(t):t()}}let cD=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.S),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["","rowOutlet",""]]}),t})(),lD=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.S),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["","headerRowOutlet",""]]}),t})(),uD=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.S),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["","footerRowOutlet",""]]}),t})(),hD=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.S),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["","noDataRowOutlet",""]]}),t})(),dD=(()=>{class t{constructor(t,e,n,r,i,s,o,a,c){this._differs=t,this._changeDetectorRef=e,this._elementRef=n,this._dir=i,this._platform=o,this._viewRepeater=a,this._coalescedStyleScheduler=c,this._onDestroy=new gs.a,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this.viewChange=new ys({start:0,end:Number.MAX_VALUE}),r||this._elementRef.nativeElement.setAttribute("role","grid"),this._document=s,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=Cl(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,e)=>this.trackBy?this.trackBy(e.dataIndex,e.data):e)}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const t=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():t&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._noDataRowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),cE(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return void this._updateNoDataRow();const e=this._rowOutlet.viewContainer;this._viewRepeater?this._viewRepeater.applyChanges(t,e,(t,e,n)=>this._getEmbeddedViewArgs(t.item,n),t=>t.item.data,t=>{1===t.operation&&t.context&&this._renderCellTemplateForItem(t.record.item.rowDef,t.context)}):t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const e=t.item;this._renderRow(this._rowOutlet,e.rowDef,r,{$implicit:e.data})}else if(null==r)e.remove(n);else{const t=e.get(n);e.move(t,r)}}),this._updateRowIndexContext(),t.forEachIdentityChange(t=>{e.get(t.currentIndex).context.$implicit=t.item.data}),this._updateNoDataRow(),this.updateStickyColumnStyles()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),e=this._elementRef.nativeElement.querySelector("thead");e&&(e.style.display=t.length?"":"none");const n=this._headerRowDefs.map(t=>t.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,n,"top"),this._headerRowDefs.forEach(t=>t.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),e=this._elementRef.nativeElement.querySelector("tfoot");e&&(e.style.display=t.length?"":"none");const n=this._footerRowDefs.map(t=>t.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,n,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,n),this._footerRowDefs.forEach(t=>t.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),e=this._getRenderedRows(this._rowOutlet),n=this._getRenderedRows(this._footerRowOutlet);this._stickyStyler.clearStickyPositioning([...t,...e,...n],["left","right"]),t.forEach((t,e)=>{this._addStickyColumnStyles([t],this._headerRowDefs[e])}),this._rowDefs.forEach(t=>{const n=[];for(let r=0;r<e.length;r++)this._renderRows[r].rowDef===t&&n.push(e[r]);this._addStickyColumnStyles(n,t)}),n.forEach((t,e)=>{this._addStickyColumnStyles([t],this._footerRowDefs[e])}),Array.from(this._columnDefsByName.values()).forEach(t=>t.resetStickyChanged())}_getAllRenderRows(){const t=[],e=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let n=0;n<this._data.length;n++){let r=this._data[n];const i=this._getRenderRowsForData(r,n,e.get(r));this._cachedRenderRowsMap.has(r)||this._cachedRenderRowsMap.set(r,new WeakMap);for(let e=0;e<i.length;e++){let n=i[e];const r=this._cachedRenderRowsMap.get(n.data);r.has(n.rowDef)?r.get(n.rowDef).push(n):r.set(n.rowDef,[n]),t.push(n)}}return t}_getRenderRowsForData(t,e,n){return this._getRowDefs(t,e).map(r=>{const i=n&&n.has(r)?n.get(r):[];if(i.length){const t=i.shift();return t.dataIndex=e,t}return{data:t,rowDef:r,dataIndex:e}})}_cacheColumnDefs(){this._columnDefsByName.clear(),fD(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(t=>{this._columnDefsByName.has(t.name),this._columnDefsByName.set(t.name,t)})}_cacheRowDefs(){this._headerRowDefs=fD(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=fD(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=fD(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(t=>!t.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(t,e)=>t||!!e.getColumnsDiff(),e=this._rowDefs.reduce(t,!1);e&&this._forceRenderDataRows();const n=this._headerRowDefs.reduce(t,!1);n&&this._forceRenderHeaderRows();const r=this._footerRowDefs.reduce(t,!1);return r&&this._forceRenderFooterRows(),e||n||r}_switchDataSource(t){this._data=[],cE(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;var e;cE(this.dataSource)?t=this.dataSource.connect(this):(e=this.dataSource)&&(e instanceof nr.a||"function"==typeof e.lift&&"function"==typeof e.subscribe)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=Object(Ri.a)(this.dataSource)),this._renderChangeSubscription=t.pipe(mh(this._onDestroy)).subscribe(t=>{this._data=t||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,e)=>this._renderRow(this._headerRowOutlet,t,e)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,e)=>this._renderRow(this._footerRowOutlet,t,e)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,e){const n=Array.from(e.columns||[]).map(t=>this._columnDefsByName.get(t)),r=n.map(t=>t.sticky),i=n.map(t=>t.stickyEnd);this._stickyStyler.updateStickyColumns(t,r,i)}_getRenderedRows(t){const e=[];for(let n=0;n<t.viewContainer.length;n++){const r=t.viewContainer.get(n);e.push(r.rootNodes[0])}return e}_getRowDefs(t,e){if(1==this._rowDefs.length)return[this._rowDefs[0]];let n=[];if(this.multiTemplateDataRows)n=this._rowDefs.filter(n=>!n.when||n.when(e,t));else{let r=this._rowDefs.find(n=>n.when&&n.when(e,t))||this._defaultRowDef;r&&n.push(r)}return n}_getEmbeddedViewArgs(t,e){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:e}}_renderRow(t,e,n,r={}){const i=t.viewContainer.createEmbeddedView(e.template,r,n);return this._renderCellTemplateForItem(e,r),i}_renderCellTemplateForItem(t,e){for(let n of this._getCellTemplates(t))nD.mostRecentCellOutlet&&nD.mostRecentCellOutlet._viewContainer.createEmbeddedView(n,e);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let e=0,n=t.length;e<n;e++){const r=t.get(e).context;r.count=n,r.first=0===e,r.last=e===n-1,r.even=e%2==0,r.odd=!r.even,this.multiTemplateDataRows?(r.dataIndex=this._renderRows[e].dataIndex,r.renderIndex=e):r.index=this._renderRows[e].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,e=>{const n=this._columnDefsByName.get(e);return t.extractCellTemplate(n)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),e=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const n of e){const e=this._document.createElement(n.tag);e.setAttribute("role","rowgroup");for(const t of n.outlets)e.appendChild(t.elementRef.nativeElement);t.appendChild(e)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(t,e)=>t||e.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&this.updateStickyColumnStyles()}_setupStickyStyler(){this._stickyStyler=new aD(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement),(this._dir?this._dir.change:Object(Ri.a)()).pipe(mh(this._onDestroy)).subscribe(t=>{this._stickyStyler.direction=t,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(t=>!t._table||t._table===this)}_updateNoDataRow(){if(this._noDataRow){const t=0===this._rowOutlet.viewContainer.length;if(t!==this._isShowingNoDataRow){const e=this._noDataRowOutlet.viewContainer;t?e.createEmbeddedView(this._noDataRow.templateRef):e.clear(),this._isShowingNoDataRow=t}}}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.u),r.Ob(r.h),r.Ob(r.l),r.Zb("role"),r.Ob(Jl,8),r.Ob(o),r.Ob(cl),r.Ob(hE,8),r.Ob(GR,8))},t.\u0275cmp=r.Ib({type:t,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,e,n){if(1&t&&(r.Hb(n,sD,1),r.Hb(n,BR,1),r.Hb(n,eD,1),r.Hb(n,QR,1),r.Hb(n,tD,1)),2&t){let t;r.oc(t=r.cc())&&(e._noDataRow=t.first),r.oc(t=r.cc())&&(e._contentColumnDefs=t),r.oc(t=r.cc())&&(e._contentRowDefs=t),r.oc(t=r.cc())&&(e._contentHeaderRowDefs=t),r.oc(t=r.cc())&&(e._contentFooterRowDefs=t)}},viewQuery:function(t,e){if(1&t&&(r.Dc(cD,3),r.Dc(lD,3),r.Dc(uD,3),r.Dc(hD,3)),2&t){let t;r.oc(t=r.cc())&&(e._rowOutlet=t.first),r.oc(t=r.cc())&&(e._headerRowOutlet=t.first),r.oc(t=r.cc())&&(e._footerRowOutlet=t.first),r.oc(t=r.cc())&&(e._noDataRowOutlet=t.first)}},hostAttrs:[1,"cdk-table"],inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows"},exportAs:["cdkTable"],features:[r.Cb([{provide:NR,useExisting:t},{provide:hE,useClass:lE},{provide:GR,useClass:WR}])],ngContentSelectors:jR,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,e){1&t&&(r.jc(DR),r.ic(0),r.ic(1,1),r.Qb(2,0),r.Qb(3,1),r.Qb(4,2),r.Qb(5,3))},directives:[lD,cD,hD,uD],encapsulation:2}),t})();function fD(t,e){return t.concat(Array.from(e))}let pD=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[mE]]}),t})();const mD=[[["caption"]],[["colgroup"],["col"]]],gD=["caption","colgroup, col"];let bD=(()=>{class t extends dD{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return t.\u0275fac=function(e){return yD(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],exportAs:["matTable"],features:[r.Cb([{provide:hE,useClass:lE},{provide:dD,useExisting:t},{provide:NR,useExisting:t},{provide:GR,useClass:WR}]),r.Ab],ngContentSelectors:gD,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,e){1&t&&(r.jc(mD),r.ic(0),r.ic(1,1),r.Qb(2,0),r.Qb(3,1),r.Qb(4,2),r.Qb(5,3))},directives:[lD,cD,hD,uD],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:-webkit-sticky;position:sticky}\n'],encapsulation:2}),t})();const yD=r.Wb(bD);let _D=(()=>{class t extends LR{}return t.\u0275fac=function(e){return vD(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["","matCellDef",""]],features:[r.Cb([{provide:LR,useExisting:t}]),r.Ab]}),t})();const vD=r.Wb(_D);let wD=(()=>{class t extends FR{}return t.\u0275fac=function(e){return CD(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["","matHeaderCellDef",""]],features:[r.Cb([{provide:FR,useExisting:t}]),r.Ab]}),t})();const CD=r.Wb(wD);let OD=(()=>{class t extends BR{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return t.\u0275fac=function(e){return kD(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[r.Cb([{provide:BR,useExisting:t},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),r.Ab]}),t})();const kD=r.Wb(OD);let SD=(()=>{class t extends HR{}return t.\u0275fac=function(e){return xD(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[r.Ab]}),t})();const xD=r.Wb(SD);let ED=(()=>{class t extends qR{}return t.\u0275fac=function(e){return TD(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[r.Ab]}),t})();const TD=r.Wb(ED);let ID=(()=>{class t extends QR{}return t.\u0275fac=function(e){return AD(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[r.Cb([{provide:QR,useExisting:t}]),r.Ab]}),t})();const AD=r.Wb(ID);let RD=(()=>{class t extends eD{}return t.\u0275fac=function(e){return DD(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[r.Cb([{provide:eD,useExisting:t}]),r.Ab]}),t})();const DD=r.Wb(RD);let jD=(()=>{class t extends rD{}return t.\u0275fac=function(e){return PD(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[r.Cb([{provide:rD,useExisting:t}]),r.Ab],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&r.Qb(0,0)},directives:[nD],encapsulation:2}),t})();const PD=r.Wb(jD);let ND=(()=>{class t extends iD{}return t.\u0275fac=function(e){return LD(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[r.Cb([{provide:iD,useExisting:t}]),r.Ab],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&r.Qb(0,0)},directives:[nD],encapsulation:2}),t})();const LD=r.Wb(ND);let FD=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[pD,au],au]}),t})();var MD=n("o9EK");const VD=pl({passive:!0});let UD=(()=>{class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return As.a;const e=xl(t),n=this._monitoredElements.get(e);if(n)return n.subject;const r=new gs.a,i="cdk-text-field-autofilled",s=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(i)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(i)&&(e.classList.remove(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!1}))):(e.classList.add(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",s,VD),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:r,unlisten:()=>{e.removeEventListener("animationstart",s,VD)}}),r}stopMonitoring(t){const e=xl(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(cl),r.Yb(r.B))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(cl),Object(r.Yb)(r.B))},token:t,providedIn:"root"}),t})(),BD=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[ll]]}),t})();const zD=new r.s("MAT_INPUT_VALUE_ACCESSOR"),HD=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let qD=0;class YD{constructor(t,e,n,r){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=r}}const GD=du(YD);let WD=(()=>{class t extends GD{constructor(t,e,n,r,i,s,o,a,c,l){super(s,r,i,n),this._elementRef=t,this._platform=e,this.ngControl=n,this._autofillMonitor=a,this._formField=l,this._uid="mat-input-"+qD++,this.focused=!1,this.stateChanges=new gs.a,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>hl().has(t));const u=this._elementRef.nativeElement,h=u.nodeName.toLowerCase();this._inputValueAccessor=o||u,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&c.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{let e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===h,this._isTextarea="textarea"===h,this._isNativeSelect&&(this.controlType=u.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Cl(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=Cl(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&hl().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Cl(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,e;const n=(null===(e=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===e?void 0:e.call(t))?null:this.placeholder;if(n!==this._previousPlaceholder){const t=this._elementRef.nativeElement;this._previousPlaceholder=n,n?t.setAttribute("placeholder",n):t.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){HD.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(cl),r.Ob(Pr,10),r.Ob(yi,8),r.Ob(ki,8),r.Ob(fu),r.Ob(zD,10),r.Ob(UD),r.Ob(r.B),r.Ob(tE,8))},t.\u0275dir=r.Jb({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(t,e){1&t&&r.bc("focus",function(){return e._focusChanged(!0)})("blur",function(){return e._focusChanged(!1)})("input",function(){return e._onInput()}),2&t&&(r.Xb("disabled",e.disabled)("required",e.required),r.Eb("id",e.id)("data-placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-invalid",e.errorState)("aria-required",e.required.toString()),r.Gb("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[r.Cb([{provide:qx,useExisting:t}]),r.Ab,r.Bb]}),t})(),$D=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[fu],imports:[[BD,nE],BD,nE]}),t})();function KD(t,e){if(1&t&&(r.Ub(0,"mat-option",30),r.zc(1),r.Tb()),2&t){const t=e.$implicit;r.kc("value",t.viewValue),r.Db(1),r.Bc(" ",t.viewValue," ")}}function XD(t,e){if(1&t&&(r.Ub(0,"mat-option",30),r.zc(1),r.Tb()),2&t){const t=e.$implicit;r.kc("value",t.viewValue),r.Db(1),r.Bc(" ",t.viewValue," ")}}function QD(t,e){if(1&t&&(r.Ub(0,"mat-option",30),r.zc(1),r.Tb()),2&t){const t=e.$implicit;r.kc("value",t.viewValue),r.Db(1),r.Bc(" ",t.viewValue," ")}}function ZD(t,e){if(1&t&&(r.Ub(0,"mat-option",30),r.zc(1),r.Tb()),2&t){const t=e.$implicit;r.kc("value",t.value),r.Db(1),r.Bc(" ",t.viewValue," ")}}function JD(t,e){if(1&t&&(r.Ub(0,"mat-option",30),r.zc(1),r.Tb()),2&t){const t=e.$implicit;r.kc("value",t.value),r.Db(1),r.Bc(" ",t.viewValue," ")}}function tj(t,e){if(1&t&&(r.Ub(0,"mat-option",30),r.zc(1),r.Tb()),2&t){const t=e.$implicit;r.kc("value",t.value),r.Db(1),r.Bc(" ",t.viewValue," ")}}let ej=(()=>{class t{constructor(t,e){this.teamsService=t,this.storage=e,this.boolChange=new r.o,this.selectedFile=null,this.powers=[{value:"speed",viewValue:"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c"},{value:"tank",viewValue:"\u0422\u0430\u043d\u043a"},{value:"throw",viewValue:"\u0411\u0440\u043e\u0441\u043e\u043a"},{value:"n\u043e",viewValue:"\u041d\u0435\u0442"}],this.statuses=[{value:"veteran",viewValue:"\u0412\u0435\u0442\u0435\u0440\u0430\u043d"},{value:"young",viewValue:"\u041c\u043e\u043b\u043e\u0434\u043e\u0439"},{value:"newcomer",viewValue:"\u041d\u043e\u0432\u0438\u0447\u0435\u043a"}],this.positions=[{value:"attack",viewValue:"\u0410\u0442\u0430\u043a\u0443\u044e\u0449\u0438\u0439"},{value:"defense",viewValue:"\u0417\u0430\u0449\u0438\u0442\u043d\u0438\u043a"},{value:"universal",viewValue:"\u0423\u043d\u0438\u0432\u0435\u0440\u0441\u0430\u043b"}],this.points=[{value:100,viewValue:"100"},{value:75,viewValue:"75"},{value:50,viewValue:"50"},{value:25,viewValue:"25"},{value:25,viewValue:"0"}],this.playerGroup=new pi({id:new fi(""),avatar:new fi(""),name:new fi(""),surname:new fi(""),power:new fi(this.powers),status:new fi(this.statuses),position:new fi(this.positions),attack:new fi(this.points),defense:new fi(this.points),accuracy:new fi(this.points),cc:new fi(""),level:new fi("")})}set bool(t){this._bool=t,this.boolChange.emit(t)}get bool(){return this.bool}ngOnInit(){this.teamsService.player&&this.setValuesForm(this.teamsService.player),this.playerGroup.valueChanges.subscribe(t=>{this.valideteForm(t)})}valideteForm(t){t.name&&t.surname&&"string"==typeof t.power&&"string"==typeof t.status&&"string"==typeof t.position&&"number"==typeof t.attack&&"number"==typeof t.defense&&"number"==typeof t.accuracy&&(this.filledFields=!0)}setValuesForm(t){this.playerGroup.patchValue({id:t.id,avatar:t.avatar,name:t.name,surname:t.surname,power:t.power,status:t.status,position:t.position,attack:t.attack,defense:t.defense,accuracy:t.accuracy,cc:t.cc}),this.dowloadAvatarFile(t.id,t.avatar)}onFormSubmit(){this.savePlayer(),this.resetForm(),this.hideModal()}savePlayer(){this.generateId(),this.countLevel(),this.replaceCc(),this.uploadNewAvatar(),this.teamsService.saveDataPlayerService(this.playerGroup.value)}generateId(){if(!this.teamsService.player){const t=this.uuidValue=MD.UUID.UUID();this.playerGroup.value.id=t}}countLevel(){let t;t=this.playerGroup.value.attack+this.playerGroup.value.defense+this.playerGroup.value.accuracy+this.playerGroup.value.cc,this.playerGroup.value.level=t}replaceCc(){""===this.playerGroup.value.cc&&(this.playerGroup.value.cc=0)}cancelForm(){this.deletePreviewFile(),this.resetForm(),this.hideModal()}hideModal(){this.bool=!1}resetForm(){this.playerGroup.reset(),this.teamsService.player=null}onFileSelected(t){this.selectedFile=t.target.files[0],this.uploadPreviewFile()}dowloadAvatarFile(t,e){if(e){const n=this.storage.ref("avatars/"+t+"/"+e);this.fileUrl=n.getDownloadURL()}}uploadPreviewFile(){const t=this.storage.ref("avatars/preview/"+this.selectedFile.name);t.put(this.selectedFile).then(e=>{this.dowloadPreviewFile(t)})}dowloadPreviewFile(t){this.fileUrl=t.getDownloadURL(),this.teamsService.player&&this.valideteForm(this.teamsService.player)}deletePreviewFile(){this.selectedFile&&(this.storage.ref("avatars/preview/").child(this.selectedFile.name).delete(),this.selectedFile=null)}uploadNewAvatar(){if(this.selectedFile){this.deleteOldAvatar();const t=this.storage.ref("avatars/"+this.playerGroup.value.id+"/"+this.selectedFile.name);t.put(this.selectedFile).then(e=>{this.dowloadPreviewFile(t)}),this.playerGroup.value.avatar=this.selectedFile.name,this.deletePreviewFile()}}deleteOldAvatar(){this.playerGroup.value.avatar&&this.storage.ref("avatars/"+this.playerGroup.value.id).child(this.playerGroup.value.avatar).delete()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(wx),r.Ob(KA))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-form"]],inputs:{bool:"bool"},outputs:{boolChange:"boolChange"},decls:62,vars:11,consts:[[1,"form",3,"formGroup","ngSubmit"],[1,"form__block","form__block_ans"],[1,"field","field__avatar"],[1,"avatar"],["type","file","title","\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u043e\u0442\u043e \u043f\u0440\u043e\u0444\u0438\u043b\u044f",1,"input__avatar",3,"change"],["mat-icon-button","","type","button","title","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u043e\u0442\u043e \u043f\u0440\u043e\u0444\u0438\u043b\u044f",1,"btn","btn__avatar"],["color","primary"],["alt","",1,"img","img__avatar",3,"src"],[1,"name__info_block"],[1,"field","field__name"],["matInput","","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f","formControlName","name","autocomplete","off"],[1,"field","field__surname"],["matInput","","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0444\u0430\u043c\u0438\u043b\u0438\u044e","formControlName","surname","autocomplete","off"],[1,"form__block","form__block_ps"],["appearance","fill",1,"field","field__select"],["formControlName","power"],[3,"value",4,"ngFor","ngForOf"],["formControlName","status"],[1,"form__block","form__block_p"],["formControlName","position"],[1,"form__block","form__block_ad"],["formControlName","attack"],["formControlName","defense"],[1,"form__block","form__block_ac"],["formControlName","accuracy"],[1,"field","field__cc"],["matInput","","type","number","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440","formControlName","cc","autocomplete","off"],[1,"form__block","form__block_actions"],["mat-raised-button","","color","primary","type","submit",1,"btn","btn__save",3,"disabled"],["mat-raised-button","","color","primary","type","button",1,"btn","btn__cancel",3,"click"],[3,"value"]],template:function(t,e){1&t&&(r.Ub(0,"form",0),r.bc("ngSubmit",function(){return e.onFormSubmit()}),r.Ub(1,"div",1),r.Ub(2,"div",2),r.Ub(3,"div",3),r.Ub(4,"input",4),r.bc("change",function(t){return e.onFileSelected(t)}),r.Tb(),r.Ub(5,"button",5),r.Ub(6,"mat-icon",6),r.zc(7,"camera_alt"),r.Tb(),r.Tb(),r.Pb(8,"img",7),r.gc(9,"async"),r.Tb(),r.Tb(),r.Ub(10,"div",8),r.Ub(11,"mat-form-field",9),r.Ub(12,"mat-label"),r.zc(13,"\u0418\u043c\u044f"),r.Tb(),r.Pb(14,"input",10),r.Tb(),r.Ub(15,"mat-form-field",11),r.Ub(16,"mat-label"),r.zc(17,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),r.Tb(),r.Pb(18,"input",12),r.Tb(),r.Tb(),r.Tb(),r.Ub(19,"div",13),r.Ub(20,"mat-form-field",14),r.Ub(21,"mat-label"),r.zc(22,"\u0421\u0443\u043f\u0435\u0440 \u0441\u0438\u043b\u0430"),r.Tb(),r.Ub(23,"mat-select",15),r.xc(24,KD,2,2,"mat-option",16),r.Tb(),r.Tb(),r.Ub(25,"mat-form-field",14),r.Ub(26,"mat-label"),r.zc(27,"\u0421\u0442\u0430\u0442\u0443\u0441"),r.Tb(),r.Ub(28,"mat-select",17),r.xc(29,XD,2,2,"mat-option",16),r.Tb(),r.Tb(),r.Tb(),r.Ub(30,"div",18),r.Ub(31,"mat-form-field",14),r.Ub(32,"mat-label"),r.zc(33,"\u041f\u043e\u0437\u0438\u0446\u0438\u044f"),r.Tb(),r.Ub(34,"mat-select",19),r.xc(35,QD,2,2,"mat-option",16),r.Tb(),r.Tb(),r.Tb(),r.Ub(36,"div",20),r.Ub(37,"mat-form-field",14),r.Ub(38,"mat-label"),r.zc(39,"\u0410\u0442\u0430\u043a\u0430"),r.Tb(),r.Ub(40,"mat-select",21),r.xc(41,ZD,2,2,"mat-option",16),r.Tb(),r.Tb(),r.Ub(42,"mat-form-field",14),r.Ub(43,"mat-label"),r.zc(44,"\u0417\u0430\u0449\u0438\u0442\u0430"),r.Tb(),r.Ub(45,"mat-select",22),r.xc(46,JD,2,2,"mat-option",16),r.Tb(),r.Tb(),r.Tb(),r.Ub(47,"div",23),r.Ub(48,"mat-form-field",14),r.Ub(49,"mat-label"),r.zc(50,"\u041c\u0435\u0442\u043a\u043e\u0441\u0442\u044c"),r.Tb(),r.Ub(51,"mat-select",24),r.xc(52,tj,2,2,"mat-option",16),r.Tb(),r.Tb(),r.Ub(53,"mat-form-field",25),r.Ub(54,"mat-label"),r.zc(55,"\u041a\u041a"),r.Tb(),r.Pb(56,"input",26),r.Tb(),r.Tb(),r.Ub(57,"div",27),r.Ub(58,"button",28),r.zc(59," \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c "),r.Tb(),r.Ub(60,"button",29),r.bc("click",function(){return e.cancelForm()}),r.zc(61," \u041e\u0442\u043c\u0435\u043d\u0430 "),r.Tb(),r.Tb(),r.Tb()),2&t&&(r.kc("formGroup",e.playerGroup),r.Db(8),r.kc("src",r.hc(9,9,e.fileUrl),r.sc),r.Db(16),r.kc("ngForOf",e.powers),r.Db(5),r.kc("ngForOf",e.statuses),r.Db(6),r.kc("ngForOf",e.positions),r.Db(6),r.kc("ngForOf",e.points),r.Db(5),r.kc("ngForOf",e.points),r.Db(6),r.kc("ngForOf",e.points),r.Db(6),r.kc("disabled",!e.filledFields))},directives:[_i,Fr,ki,qu,ch,eE,Gx,WD,pr,Lr,xi,wT,R,Vr,Nu],pipes:[q],styles:[".form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;margin-bottom:30px;background-image:url(fon_form.dd442a7c6650f4a7b324.svg);background-repeat:no-repeat;background-size:contain;background-position:50%}.form[_ngcontent-%COMP%]     .form__block.form__block_ans{align-items:flex-end;order:1}.form[_ngcontent-%COMP%]     .form__block.form__block_ans .field__avatar{width:100px;margin-right:20px}.form[_ngcontent-%COMP%]     .form__block.form__block_ans .field__avatar .avatar{position:relative;display:flex;justify-content:center;align-items:center;width:100px;height:100px;border-radius:50%;background-image:url(default_avatar.21acb4c394ad50b95fe9.svg);background-repeat:no-repeat;background-size:contain;background-position:50%;background-color:#d5d5d5;overflow:hidden;cursor:pointer}.form[_ngcontent-%COMP%]     .form__block.form__block_ans .field__avatar .avatar .input__avatar{opacity:0;position:absolute;width:100%;height:100%;border-radius:50%;cursor:pointer;z-index:3}.form[_ngcontent-%COMP%]     .form__block.form__block_ans .field__avatar .avatar .input__avatar_control{display:none}.form[_ngcontent-%COMP%]     .form__block.form__block_ans .field__avatar .avatar:hover .btn__avatar{display:inline-flex}.form[_ngcontent-%COMP%]     .form__block.form__block_ans .field__avatar .avatar .btn__avatar{display:none;align-items:center;justify-content:center;position:absolute;border:50px solid transparent;top:0;right:0;z-index:2;pointer-events:none}.form[_ngcontent-%COMP%]     .form__block.form__block_ans .field__avatar .avatar .img__avatar{position:absolute;top:0;width:100%;height:auto;background:#f5f5f5;z-index:1}.form[_ngcontent-%COMP%]     .form__block.form__block_ans .field__avatar .mat-form-field-underline{display:none}.form[_ngcontent-%COMP%]     .form__block.form__block_ans .field__avatar .mat-form-field-infix{padding:0}.form[_ngcontent-%COMP%]     .form__block.form__block_ans .name__info_block{display:flex;flex-direction:column;width:calc(100% - 120px)}.form[_ngcontent-%COMP%]     .form__block.form__block_ps{flex-direction:column;justify-content:flex-end;order:2}.form[_ngcontent-%COMP%]     .form__block.form__block_ad{justify-content:space-between;order:3}.form[_ngcontent-%COMP%]     .form__block.form__block_ad .field{width:calc(50% - 10px)}.form[_ngcontent-%COMP%]     .form__block.form__block_p{order:4}.form[_ngcontent-%COMP%]     .form__block.form__block_p .field{width:100%}.form[_ngcontent-%COMP%]     .form__block.form__block_ac{justify-content:space-between;order:5}.form[_ngcontent-%COMP%]     .form__block.form__block_ac .field{width:calc(50% - 10px)}.form[_ngcontent-%COMP%]     .form__block.form__block_actions{justify-content:space-between;order:6}.form[_ngcontent-%COMP%]     .form__block.form__block_actions .btn{height:26px;line-height:26px;width:calc(50% - 20px)}.form[_ngcontent-%COMP%]     .form__block{display:flex;width:calc(50% - 40px)}.form[_ngcontent-%COMP%]     .form__block .field{margin-bottom:20px}.form[_ngcontent-%COMP%]     .form__block .mat-form-field-wrapper{padding:0}.form[_ngcontent-%COMP%]     .form__block .mat-form-field-flex{background:transparent;padding:0}.form[_ngcontent-%COMP%]     .form__block .mat-form-field-appearance-legacy .mat-form-field-underline, .form[_ngcontent-%COMP%]     .form__block .mat-form-field-underline{bottom:0}.form[_ngcontent-%COMP%]     .form__block .mat-form-field-infix{padding:5px 0;border:0}@media screen and (max-width:800px){.form[_ngcontent-%COMP%]     .form__block{width:calc(50% - 20px)}.form[_ngcontent-%COMP%]     .form__block.form__block_actions .btn{width:calc(50% - 10px)}}@media screen and (max-width:740px){.form[_ngcontent-%COMP%]{flex-direction:column;max-width:300px;margin:0 auto 30px}.form[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]     .form__block{width:100%}.form[_ngcontent-%COMP%]     .form__block.form__block_p{order:3}.form[_ngcontent-%COMP%]     .form__block.form__block_ad{order:4}}"]}),t})();function nj(t,e){if(1&t){const t=r.Vb();r.Ub(0,"button",21),r.bc("click",function(){return r.rc(t),r.fc().openForm()}),r.Ub(1,"mat-icon",22),r.zc(2,"add_circle_outline"),r.Tb(),r.Tb()}}function rj(t,e){if(1&t){const t=r.Vb();r.Ub(0,"app-form",23),r.bc("boolChange",function(e){return r.rc(t),r.fc().showOrHideForm=e}),r.Tb()}if(2&t){const t=r.fc();r.kc("bool",t.showOrHideForm)}}function ij(t,e){1&t&&r.Pb(0,"th",24)}function sj(t,e){if(1&t){const t=r.Vb();r.Ub(0,"td",25),r.Ub(1,"button",26),r.bc("click",function(){r.rc(t);const n=e.$implicit;return r.fc().deletePlayerClic(n)}),r.ec(),r.Ub(2,"svg",27),r.Pb(3,"path",28),r.Tb(),r.Tb(),r.dc(),r.Ub(4,"button",29),r.bc("click",function(){r.rc(t);const n=e.$implicit;return r.fc().chengePlayerClic(n)}),r.Ub(5,"mat-icon",22),r.zc(6,"more_vert"),r.Tb(),r.Tb(),r.Tb()}if(2&t){const t=r.fc();r.Db(1),r.kc("disabled",t.showOrHideForm),r.Db(3),r.kc("disabled",t.showOrHideForm)}}function oj(t,e){1&t&&r.Pb(0,"th",24)}function aj(t,e){if(1&t&&(r.Ub(0,"td",25),r.Pb(1,"app-avatar",30),r.Tb()),2&t){const t=e.$implicit;r.Db(1),r.kc("player",t)}}function cj(t,e){1&t&&(r.Ub(0,"th",24),r.zc(1,"\u0418\u043c\u044f"),r.Tb())}function lj(t,e){if(1&t&&(r.Ub(0,"td",25),r.zc(1),r.Tb()),2&t){const t=e.$implicit;r.Db(1),r.Bc(" ",t.name," ")}}function uj(t,e){1&t&&(r.Ub(0,"th",24),r.zc(1,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),r.Tb())}function hj(t,e){if(1&t&&(r.Ub(0,"td",25),r.zc(1),r.Tb()),2&t){const t=e.$implicit;r.Db(1),r.Bc(" ",t.surname," ")}}function dj(t,e){1&t&&(r.Ub(0,"th",24),r.zc(1,"\u0421\u0443\u043f\u0435\u0440 \u0441\u0438\u043b\u0430"),r.Tb())}function fj(t,e){if(1&t&&(r.Ub(0,"td",25),r.zc(1),r.Tb()),2&t){const t=e.$implicit;r.Db(1),r.Bc(" ",t.power," ")}}function pj(t,e){1&t&&(r.Ub(0,"th",24),r.zc(1,"\u0421\u0442\u0430\u0442\u0443\u0441"),r.Tb())}function mj(t,e){if(1&t&&(r.Ub(0,"td",25),r.zc(1),r.Tb()),2&t){const t=e.$implicit;r.Db(1),r.Bc(" ",t.status," ")}}function gj(t,e){1&t&&(r.Ub(0,"th",24),r.zc(1,"\u041f\u043e\u0437\u0438\u0446\u0438\u044f"),r.Tb())}function bj(t,e){if(1&t&&(r.Ub(0,"td",25),r.zc(1),r.Tb()),2&t){const t=e.$implicit;r.Db(1),r.Bc(" ",t.position," ")}}function yj(t,e){1&t&&(r.Ub(0,"th",24),r.zc(1,"\u0410\u0442\u0430\u043a\u0430"),r.Tb())}function _j(t,e){if(1&t&&(r.Ub(0,"td",25),r.zc(1),r.Tb()),2&t){const t=e.$implicit;r.Db(1),r.Bc(" ",t.attack," ")}}function vj(t,e){1&t&&(r.Ub(0,"th",24),r.zc(1,"\u0417\u0430\u0449\u0438\u0442\u0430"),r.Tb())}function wj(t,e){if(1&t&&(r.Ub(0,"td",25),r.zc(1),r.Tb()),2&t){const t=e.$implicit;r.Db(1),r.Bc(" ",t.defense," ")}}function Cj(t,e){1&t&&(r.Ub(0,"th",24),r.zc(1,"\u041c\u0435\u0442\u043a\u043e\u0441\u0442\u044c"),r.Tb())}function Oj(t,e){if(1&t&&(r.Ub(0,"td",25),r.zc(1),r.Tb()),2&t){const t=e.$implicit;r.Db(1),r.Bc(" ",t.accuracy," ")}}function kj(t,e){1&t&&(r.Ub(0,"th",24),r.zc(1,"\u041a\u041a"),r.Tb())}function Sj(t,e){if(1&t&&(r.Ub(0,"td",25),r.zc(1),r.Tb()),2&t){const t=e.$implicit;r.Db(1),r.Bc(" ",t.cc," ")}}function xj(t,e){1&t&&(r.Ub(0,"th",24),r.zc(1,"\u0423\u0440\u043e\u0432\u0435\u043d\u044c"),r.Tb())}function Ej(t,e){if(1&t&&(r.Ub(0,"td",25),r.zc(1),r.Tb()),2&t){const t=e.$implicit;r.Db(1),r.Bc(" ",t.level," ")}}function Tj(t,e){1&t&&r.Pb(0,"tr",31)}function Ij(t,e){1&t&&r.Pb(0,"tr",32)}const Aj=[{path:"",component:cR},{path:"players",component:(()=>{class t{constructor(t,e){this.teamsService=t,this.dialog=e,this.allPlayersData=this.teamsService.allPlayersData,this.showOrHideForm=!1,this.displayedColumns=["actions","avatar","name","surname","power","status","position","attack","defense","accuracy","cc","level"]}openForm(){this.showForm()}showForm(){this.showOrHideForm=!0}chengePlayerClic(t){this.showForm(),this.teamsService.player=t}deletePlayerClic(t){this.openDialog(t)}openDialog(t){this.dialog.open(RR,{data:{title:`\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0433\u0440\u043e\u043a\u0430 ${t.name}?`,content:"\u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043f\u0440\u0438\u0432\u0435\u0434\u0435\u0442 \u043a \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044e \u0438\u0437 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445 \u0432\u0441\u0435\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e\u0431 \u0438\u0433\u0440\u043e\u043a\u0435.",yes:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",no:"\u041e\u0442\u043c\u0435\u043d\u0430",status:!0}}).afterClosed().subscribe(e=>{e&&this.teamsService.deleteDataPlayerService(t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(wx),r.Ob(OR))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-players"]],decls:45,vars:5,consts:[["mat-button","","routerLink","/","routerLinkActive","active",1,"btn","btn__arrow"],["mat-icon-button","","class","btn btn__add","title","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430",3,"click",4,"ngIf"],["class","form form__add",3,"bool","boolChange",4,"ngIf"],[1,"table__wrapper"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","avatar"],["matColumnDef","name"],["matColumnDef","surname"],["matColumnDef","power"],["matColumnDef","status"],["matColumnDef","position"],["matColumnDef","attack"],["matColumnDef","defense"],["matColumnDef","accuracy"],["matColumnDef","cc"],["matColumnDef","level"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-icon-button","","title","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430",1,"btn","btn__add",3,"click"],["color","primary"],[1,"form","form__add",3,"bool","boolChange"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","title","\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043d\u0438\u0447\u0442\u043e\u0436\u0435\u0441\u0442\u0432\u043e!",1,"btn","btn__delete",3,"disabled","click"],["width","32","height","32","xmlns","http://www.w3.org/2000/svg"],["d","m8.21302,17.40972c0.69694,-2.54191 3.02383,-4.40972 5.78698,-4.40972l1,0l0,0l0,2l3,0l0,-2l10,0l0,3l-8.13197,1.74257l0,0c0.08647,0.40549 0.13197,0.82614 0.13197,1.25743c0,3.31371 -2.68629,6 -6,6c-2.76315,0 -5.09004,-1.86781 -5.78698,-4.40972c-0.33647,0.25704 -0.75691,0.40972 -1.21302,0.40972c-1.10457,0 -2,-0.89543 -2,-2c0,-1.10457 0.89543,-2 2,-2c0.45611,0 0.87655,0.15268 1.21302,0.40972l0,0l0,0zm-1.21302,0.59028c-0.55228,0 -1,0.44386 -1,1c0,0.55228 0.44386,1 1,1c0.55228,0 1,-0.44386 1,-1c0,-0.55228 -0.44386,-1 -1,-1l0,0zm9,-11l0,4l1,0l0,-4l-1,0l0,0zm5.11968,1.02099l-2.11968,3.3922l0.84805,0.52992l2.11968,-3.3922l-0.84805,-0.52992l0,0zm-9.27163,0l2.11968,3.3922l-0.84805,0.52992l-2.11968,-3.3922l0.84805,-0.52992l0,0z"],["mat-icon-button","","title","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0438\u0433\u0440\u043e\u043a\u0430",1,"btn","btn__chenge",3,"disabled","click"],[1,"avatar__min",3,"player"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(r.Ub(0,"button",0),r.Ub(1,"mat-icon"),r.zc(2,"keyboard_backspace"),r.Tb(),r.Tb(),r.xc(3,nj,3,0,"button",1),r.xc(4,rj,1,1,"app-form",2),r.Ub(5,"div",3),r.Ub(6,"table",4),r.Sb(7,5),r.xc(8,ij,1,0,"th",6),r.xc(9,sj,7,2,"td",7),r.Rb(),r.Sb(10,8),r.xc(11,oj,1,0,"th",6),r.xc(12,aj,2,1,"td",7),r.Rb(),r.Sb(13,9),r.xc(14,cj,2,0,"th",6),r.xc(15,lj,2,1,"td",7),r.Rb(),r.Sb(16,10),r.xc(17,uj,2,0,"th",6),r.xc(18,hj,2,1,"td",7),r.Rb(),r.Sb(19,11),r.xc(20,dj,2,0,"th",6),r.xc(21,fj,2,1,"td",7),r.Rb(),r.Sb(22,12),r.xc(23,pj,2,0,"th",6),r.xc(24,mj,2,1,"td",7),r.Rb(),r.Sb(25,13),r.xc(26,gj,2,0,"th",6),r.xc(27,bj,2,1,"td",7),r.Rb(),r.Sb(28,14),r.xc(29,yj,2,0,"th",6),r.xc(30,_j,2,1,"td",7),r.Rb(),r.Sb(31,15),r.xc(32,vj,2,0,"th",6),r.xc(33,wj,2,1,"td",7),r.Rb(),r.Sb(34,16),r.xc(35,Cj,2,0,"th",6),r.xc(36,Oj,2,1,"td",7),r.Rb(),r.Sb(37,17),r.xc(38,kj,2,0,"th",6),r.xc(39,Sj,2,1,"td",7),r.Rb(),r.Sb(40,18),r.xc(41,xj,2,0,"th",6),r.xc(42,Ej,2,1,"td",7),r.Rb(),r.xc(43,Tj,1,0,"tr",19),r.xc(44,Ij,1,0,"tr",20),r.Tb(),r.Tb()),2&t&&(r.Db(3),r.kc("ngIf",!e.showOrHideForm),r.Db(1),r.kc("ngIf",e.showOrHideForm),r.Db(2),r.kc("dataSource",e.allPlayersData),r.Db(37),r.kc("matHeaderRowDef",e.displayedColumns),r.Db(1),r.kc("matRowDefColumns",e.displayedColumns))},directives:[qu,Fc,Uc,ch,j,bD,OD,wD,_D,ID,RD,ej,SD,ED,ZA,jD,ND],styles:[".btn__arrow[_ngcontent-%COMP%]{position:absolute;top:0;left:0}.btn__add[_ngcontent-%COMP%]{margin:0 10px 10px}.table__wrapper[_ngcontent-%COMP%]{overflow:scroll;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.table__wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;min-width:800px}td.mat-cell[_ngcontent-%COMP%]:first-of-type, td.mat-footer-cell[_ngcontent-%COMP%]:first-of-type, th.mat-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:10px!important;width:80px;padding-right:10px;white-space:nowrap}td.mat-cell[_ngcontent-%COMP%]:last-of-type, td.mat-footer-cell[_ngcontent-%COMP%]:last-of-type, th.mat-header-cell[_ngcontent-%COMP%]:last-of-type{padding-right:0!important}.btn__delete[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{fill:#3f51b5}.btn__delete[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#ccc}  .btn__delete .mat-button-focus-overlay{background:none}.btn__delete.mat-button-disabled[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%], .btn__delete.mat-button-disabled[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#f5f5f5}.btn__chenge[_ngcontent-%COMP%]:hover{background:#f5f5f5}.btn__chenge.mat-button-disabled[_ngcontent-%COMP%]:hover{background:transparent}.btn__chenge.mat-button-disabled[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{color:#f5f5f5}"]}),t})()},{path:"404",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["app-not-found"]],decls:5,vars:0,template:function(t,e){1&t&&(r.Ub(0,"p"),r.Ub(1,"b"),r.zc(2,"404"),r.Tb(),r.Tb(),r.Ub(3,"p"),r.zc(4,"Not found page!"),r.Tb())},styles:[""]}),t})()},{path:"**",redirectTo:"/404"}];let Rj=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[Qc.forRoot(Aj,{relativeLinkResolution:"legacy"})],Qc]}),t})(),Dj=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"app"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Pb(1,"router-outlet"),r.Tb())},directives:[Bc],styles:["[_nghost-%COMP%]{justify-content:center}.app[_ngcontent-%COMP%], [_nghost-%COMP%]{display:flex}.app[_ngcontent-%COMP%]{flex-direction:column;width:calc(100% - 100px);max-width:800px;padding:50px}@media screen and (max-width:560px){.app[_ngcontent-%COMP%]{width:calc(100% - 40px);padding:40px 20px}}"]}),t})();function jj(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{c(r.next(t))}catch(HS){s(HS)}}function a(t){try{c(r.throw(t))}catch(HS){s(HS)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}c((r=r.apply(t,e||[])).next())})}class Pj{constructor(t,e,n,r){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=r}call(t,e){return e.subscribe(new Nj(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class Nj extends Pi.a{constructor(t,e,n,r,i){super(t),this.keySelector=e,this.elementSelector=n,this.durationSelector=r,this.subjectSelector=i,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(t){let e;try{e=this.keySelector(t)}catch(n){return void this.error(n)}this._group(t,e)}_group(t,e){let n=this.groups;n||(n=this.groups=new Map);let r,i=n.get(e);if(this.elementSelector)try{r=this.elementSelector(t)}catch(s){this.error(s)}else r=t;if(!i){i=this.subjectSelector?this.subjectSelector():new gs.a,n.set(e,i);const t=new Fj(e,i,this);if(this.destination.next(t),this.durationSelector){let t;try{t=this.durationSelector(new Fj(e,i))}catch(s){return void this.error(s)}this.add(t.subscribe(new Lj(e,i,this)))}}i.closed||i.next(r)}_error(t){const e=this.groups;e&&(e.forEach((e,n)=>{e.error(t)}),e.clear()),this.destination.error(t)}_complete(){const t=this.groups;t&&(t.forEach((t,e)=>{t.complete()}),t.clear()),this.destination.complete()}removeGroup(t){this.groups.delete(t)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class Lj extends Pi.a{constructor(t,e,n){super(e),this.key=t,this.group=e,this.parent=n}_next(t){this.complete()}_unsubscribe(){const{parent:t,key:e}=this;this.key=this.parent=null,t&&t.removeGroup(e)}}class Fj extends nr.a{constructor(t,e,n){super(),this.key=t,this.groupSubject=e,this.refCountSubscription=n}_subscribe(t){const e=new co.a,{refCountSubscription:n,groupSubject:r}=this;return n&&!n.closed&&e.add(new Mj(n)),e.add(r.subscribe(t)),e}}class Mj extends co.a{constructor(t){super(),this.parent=t,t.count++}unsubscribe(){const t=this.parent;t.closed||this.closed||(super.unsubscribe(),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())}}const Vj=new r.s("angularfire2.analytics.analyticsCollectionEnabled"),Uj=new r.s("angularfire2.analytics.appVersion"),Bj=new r.s("angularfire2.analytics.appName"),zj=new r.s("angularfire2.analytics.debugMode"),Hj=new r.s("angularfire2.analytics.config");let qj=(()=>{class t{constructor(t,e,r,i,s,o,a,c){if(this.analyticsInitialized=new Promise(()=>{}),G(a)){window.dataLayer=window.dataLayer||[];const t=(...t)=>"config"===t[0]&&"firebase"===t[2].origin&&(this.measurementId=t[1],!0),e=t=>{window.gtag=(...e)=>{t&&t(...e),"event"===e[0]&&e[2].send_to===this.measurementId&&(i&&(e[2].app_name=i),r&&(e[2].app_version=r)),s&&"undefined"!=typeof console&&console.info(...e),function(...t){window.dataLayer.push(arguments)}(...e)}};window.dataLayer.some(t)?(this.analyticsInitialized=Promise.resolve(),e()):this.analyticsInitialized=new Promise(n=>{e((...e)=>{t(...e)&&n()})}),o&&this.updateConfig(o),s&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const l=Object(Ri.a)(void 0).pipe(Object(hh.b)(new kh.e(c).outsideAngular),Ps(()=>G(a)?c.runOutsideAngular(()=>n.e(5).then(n.bind(null,"AAub"))):As.a),Object(ir.a)(()=>Object(kh.g)("analytics","AngularFireAnalytics",t,()=>{const n=t.analytics();return!1===e&&n.setAnalyticsCollectionEnabled(!1),n},[t,e,o,s])),KS({bufferSize:1,refCount:!1}));return Object(kh.j)(this,l,c)}updateConfig(t){return jj(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},t),{update:!0}))})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(kh.d),r.Yb(Vj,8),r.Yb(Uj,8),r.Yb(Bj,8),r.Yb(zj,8),r.Yb(Hj,8),r.Yb(r.D),r.Yb(r.B))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(kh.d),Object(r.Yb)(Vj,8),Object(r.Yb)(Uj,8),Object(r.Yb)(Bj,8),Object(r.Yb)(zj,8),Object(r.Yb)(Hj,8),Object(r.Yb)(r.D),Object(r.Yb)(r.B))},token:t,providedIn:"any"}),t})();Object(kh.f)(qj,[{app:null,logEvent:null,setCurrentScreen:null,setUserId:null,setUserProperties:null,setAnalyticsCollectionEnabled:null}]);let Yj=(()=>{class t{constructor(t,e,n,r){if(this.disposables=[],W(e))this.initialized=Promise.resolve();else{let e;this.initialized=r.runOutsideAngular(()=>new Promise(t=>e=t)),this.disposables=[n.authState.subscribe(n=>{t.setUserId(null==n?void 0:n.uid),e()}),n.credential.subscribe(e=>{if(e){const n=e.user.isAnonymous?"anonymous":e.additionalUserInfo.providerId;e.additionalUserInfo.isNewUser&&t.logEvent("sign_up",{method:n}),t.logEvent("login",{method:n})}})]}}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(qj),r.Yb(r.D),r.Yb(ix),r.Yb(r.B))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),Gj=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const Wj={},$j=t=>{const e=[t.screen_class,t.outlet].join("#");if(Wj.hasOwnProperty(e))return Wj[e];{const t=Gj++;return Wj[e]=t,t}};let Kj=(()=>{class t{constructor(t,e,n,r,i,s,o){if(!e||!G(i))return this;s.runOutsideAngular(()=>{const i=e.events.pipe(Ni(t=>t instanceof To));var s;this.disposable=i.pipe(Ps(t=>{var i;const s=(null===(i=e.parseUrl(e.url.replace(/(?:\().+(?:\))/g,t=>t.replace("://",":///"))).root.children[t.snapshot.outlet])||void 0===i?void 0:i.toString())||"",o=e.routerState.root.children.map(t=>t).find(e=>e.outlet===t.snapshot.outlet);if(!o)return Object(Ri.a)(null);let a=o;for(;a.firstChild;)a=a.firstChild;const c=a.pathFromRoot.map(t=>{var e;return null===(e=t.routeConfig)||void 0===e?void 0:e.path}).filter(t=>t).join("/")||"/",l={screen_name:c,page_path:`/${s}`,firebase_event_origin:"auto",firebase_screen:c,outlet:t.snapshot.outlet};n&&(l.page_title=n.getTitle());let u=o.component;if(u){if(u===Ga){let e=t.snapshot;for(;e.firstChild;)e=e.firstChild;u=e.component}}else u=t.snapshot.component;if("string"==typeof u)return Object(Ri.a)(Object.assign(Object.assign({},l),{screen_class:u}));if(u){const t=r.resolveComponentFactory(u);return Object(Ri.a)(Object.assign(Object.assign({},l),{screen_class:t.selector}))}return Object(Ri.a)(null)}),Ni(t=>t),Object(ir.a)(t=>Object.assign({firebase_screen_class:t.screen_class,firebase_screen_id:$j(t)},t)),(s=t=>t.outlet,t=>t.lift(new Pj(s,void 0,void 0,void 0))),Object(Di.a)(e=>e.pipe(wh((t,e)=>JSON.stringify(t)===JSON.stringify(e)),Bs(void 0),yh(),Object(ir.a)(([t,e])=>t?Object.assign({firebase_previous_class:t.screen_class,firebase_previous_screen:t.screen_name,firebase_previous_id:t.firebase_screen_id},e):e),Ps(e=>jj(this,void 0,void 0,function*(){return o&&(yield o.initialized),yield t.logEvent("screen_view",e)}))))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(qj),r.Yb(Lc,8),r.Yb(It,8),r.Yb(r.j),r.Yb(r.D),r.Yb(r.B),r.Yb(Yj,8))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),Xj=(()=>{class t{constructor(t,e,n){t.app.then(()=>{})}}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)(r.Yb(qj),r.Yb(Kj,8),r.Yb(Yj,8))},providers:[qj]}),t})();const Qj={apiKey:"AIzaSyCA6D-uC_WJlk3tRkZDPIzuPGos-dyKBUY",authDomain:"teams-d98f6.firebaseapp.com",databaseURL:"https://teams-d98f6-default-rtdb.firebaseio.com",projectId:"teams-d98f6",storageBucket:"teams-d98f6.appspot.com",messagingSenderId:"277595646270",appId:"1:277595646270:web:3104ce915cb7a1cecce46f"};let Zj=(()=>{class t{}return t.\u0275mod=r.Mb({type:t,bootstrap:[Dj]}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[wx],imports:[[Et,Rj,er,Ii,ms,Ai,nE,CT,Yu,lh,EI,FD,$D,AR,kh.a.initializeApp(Qj),Xj,vx,QA]]}),t})();Object(r.V)(),St().bootstrapModule(Zj).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);